import{c as te,a as _n,g as Og}from"./_commonjsHelpers-de833af9.js";import{e as Qu}from"./events-9852776d.js";import{bu as yo,bv as Ng,bw as Lg,bx as Kt}from"./Home-dfaef471.js";function Pg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Yu={},Yi={},bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.walletLogo=void 0;const $g=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};bo.walletLogo=$g;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.LINK_API_URL=void 0;mo.LINK_API_URL="https://www.walletlink.org";var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.ScopedLocalStorage=void 0;class Dg{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}_o.ScopedLocalStorage=Dg;var si={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});const Bg=Qu;function hl(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Fg(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let jg=class extends Bg.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")hl(s,this,r);else{const o=s.length,a=Fg(s);for(let u=0;u<o;u+=1)hl(a[u],this,r)}return!0}};wn.default=jg;var Ku={exports:{}};Ku.exports;(function(t){(function(e,r){function n(_,c){if(!_)throw new Error(c||"Assertion failed")}function i(_,c){_.super_=c;var g=function(){};g.prototype=c.prototype,_.prototype=new g,_.prototype.constructor=_}function s(_,c,g){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((c==="le"||c==="be")&&(g=c,c=10),this._init(_||0,c||10,g||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=yo.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,g){return c.cmp(g)>0?c:g},s.min=function(c,g){return c.cmp(g)<0?c:g},s.prototype._init=function(c,g,b){if(typeof c=="number")return this._initNumber(c,g,b);if(typeof c=="object")return this._initArray(c,g,b);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),c=c.toString().replace(/\s+/g,"");var E=0;c[0]==="-"&&(E++,this.negative=1),E<c.length&&(g===16?this._parseHex(c,E,b):(this._parseBase(c,g,E),b==="le"&&this._initArray(this.toArray(),g,b)))},s.prototype._initNumber=function(c,g,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),g,b)},s.prototype._initArray=function(c,g,b){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var x,k,L=0;if(b==="be")for(E=c.length-1,x=0;E>=0;E-=3)k=c[E]|c[E-1]<<8|c[E-2]<<16,this.words[x]|=k<<L&67108863,this.words[x+1]=k>>>26-L&67108863,L+=24,L>=26&&(L-=26,x++);else if(b==="le")for(E=0,x=0;E<c.length;E+=3)k=c[E]|c[E+1]<<8|c[E+2]<<16,this.words[x]|=k<<L&67108863,this.words[x+1]=k>>>26-L&67108863,L+=24,L>=26&&(L-=26,x++);return this._strip()};function a(_,c){var g=_.charCodeAt(c);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+_)}function u(_,c,g){var b=a(_,g);return g-1>=c&&(b|=a(_,g-1)<<4),b}s.prototype._parseHex=function(c,g,b){this.length=Math.ceil((c.length-g)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var x=0,k=0,L;if(b==="be")for(E=c.length-1;E>=g;E-=2)L=u(c,g,E)<<x,this.words[k]|=L&67108863,x>=18?(x-=18,k+=1,this.words[k]|=L>>>26):x+=8;else{var w=c.length-g;for(E=w%2===0?g+1:g;E<c.length;E+=2)L=u(c,g,E)<<x,this.words[k]|=L&67108863,x>=18?(x-=18,k+=1,this.words[k]|=L>>>26):x+=8}this._strip()};function l(_,c,g,b){for(var E=0,x=0,k=Math.min(_.length,g),L=c;L<k;L++){var w=_.charCodeAt(L)-48;E*=b,w>=49?x=w-49+10:w>=17?x=w-17+10:x=w,n(w>=0&&x<b,"Invalid character"),E+=x}return E}s.prototype._parseBase=function(c,g,b){this.words=[0],this.length=1;for(var E=0,x=1;x<=67108863;x*=g)E++;E--,x=x/g|0;for(var k=c.length-b,L=k%E,w=Math.min(k,k-L)+b,f=0,I=b;I<w;I+=E)f=l(c,I,I+E,g),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(L!==0){var Q=1;for(f=l(c,I,c.length,g),I=0;I<L;I++)Q*=g;this.imuln(Q),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var g=0;g<this.length;g++)c.words[g]=this.words[g];c.length=this.length,c.negative=this.negative,c.red=this.red};function d(_,c){_.words=c.words,_.length=c.length,_.negative=c.negative,_.red=c.red}if(s.prototype._move=function(c){d(c,this)},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,g){c=c||10,g=g|0||1;var b;if(c===16||c==="hex"){b="";for(var E=0,x=0,k=0;k<this.length;k++){var L=this.words[k],w=((L<<E|x)&16777215).toString(16);x=L>>>24-E&16777215,E+=2,E>=26&&(E-=26,k--),x!==0||k!==this.length-1?b=y[6-w.length]+w+b:b=w+b}for(x!==0&&(b=x.toString(16)+b);b.length%g!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var f=M[c],I=A[c];b="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var ee=Q.modrn(I).toString(c);Q=Q.idivn(I),Q.isZero()?b=ee+b:b=y[f-ee.length]+ee+b}for(this.isZero()&&(b="0"+b);b.length%g!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(c,g){return this.toArrayLike(o,c,g)}),s.prototype.toArray=function(c,g){return this.toArrayLike(Array,c,g)};var $=function(c,g){return c.allocUnsafe?c.allocUnsafe(g):new c(g)};s.prototype.toArrayLike=function(c,g,b){this._strip();var E=this.byteLength(),x=b||Math.max(1,E);n(E<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var k=$(c,x),L=g==="le"?"LE":"BE";return this["_toArrayLike"+L](k,E),k},s.prototype._toArrayLikeLE=function(c,g){for(var b=0,E=0,x=0,k=0;x<this.length;x++){var L=this.words[x]<<k|E;c[b++]=L&255,b<c.length&&(c[b++]=L>>8&255),b<c.length&&(c[b++]=L>>16&255),k===6?(b<c.length&&(c[b++]=L>>24&255),E=0,k=0):(E=L>>>24,k+=2)}if(b<c.length)for(c[b++]=E;b<c.length;)c[b++]=0},s.prototype._toArrayLikeBE=function(c,g){for(var b=c.length-1,E=0,x=0,k=0;x<this.length;x++){var L=this.words[x]<<k|E;c[b--]=L&255,b>=0&&(c[b--]=L>>8&255),b>=0&&(c[b--]=L>>16&255),k===6?(b>=0&&(c[b--]=L>>24&255),E=0,k=0):(E=L>>>24,k+=2)}if(b>=0)for(c[b--]=E;b>=0;)c[b--]=0},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var g=c,b=0;return g>=4096&&(b+=13,g>>>=13),g>=64&&(b+=7,g>>>=7),g>=8&&(b+=4,g>>>=4),g>=2&&(b+=2,g>>>=2),b+g},s.prototype._zeroBits=function(c){if(c===0)return 26;var g=c,b=0;return g&8191||(b+=13,g>>>=13),g&127||(b+=7,g>>>=7),g&15||(b+=4,g>>>=4),g&3||(b+=2,g>>>=2),g&1||b++,b},s.prototype.bitLength=function(){var c=this.words[this.length-1],g=this._countBits(c);return(this.length-1)*26+g};function F(_){for(var c=new Array(_.bitLength()),g=0;g<c.length;g++){var b=g/26|0,E=g%26;c[g]=_.words[b]>>>E&1}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,g=0;g<this.length;g++){var b=this._zeroBits(this.words[g]);if(c+=b,b!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]|c.words[g];return this._strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var g;this.length>c.length?g=c:g=this;for(var b=0;b<g.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=g.length,this._strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var g,b;this.length>c.length?(g=this,b=c):(g=c,b=this);for(var E=0;E<b.length;E++)this.words[E]=g.words[E]^b.words[E];if(this!==g)for(;E<g.length;E++)this.words[E]=g.words[E];return this.length=g.length,this._strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var g=Math.ceil(c/26)|0,b=c%26;this._expand(g),b>0&&g--;for(var E=0;E<g;E++)this.words[E]=~this.words[E]&67108863;return b>0&&(this.words[E]=~this.words[E]&67108863>>26-b),this._strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,g){n(typeof c=="number"&&c>=0);var b=c/26|0,E=c%26;return this._expand(b+1),g?this.words[b]=this.words[b]|1<<E:this.words[b]=this.words[b]&~(1<<E),this._strip()},s.prototype.iadd=function(c){var g;if(this.negative!==0&&c.negative===0)return this.negative=0,g=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,g=this.isub(c),c.negative=1,g._normSign();var b,E;this.length>c.length?(b=this,E=c):(b=c,E=this);for(var x=0,k=0;k<E.length;k++)g=(b.words[k]|0)+(E.words[k]|0)+x,this.words[k]=g&67108863,x=g>>>26;for(;x!==0&&k<b.length;k++)g=(b.words[k]|0)+x,this.words[k]=g&67108863,x=g>>>26;if(this.length=b.length,x!==0)this.words[this.length]=x,this.length++;else if(b!==this)for(;k<b.length;k++)this.words[k]=b.words[k];return this},s.prototype.add=function(c){var g;return c.negative!==0&&this.negative===0?(c.negative=0,g=this.sub(c),c.negative^=1,g):c.negative===0&&this.negative!==0?(this.negative=0,g=c.sub(this),this.negative=1,g):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var g=this.iadd(c);return c.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,x;b>0?(E=this,x=c):(E=c,x=this);for(var k=0,L=0;L<x.length;L++)g=(E.words[L]|0)-(x.words[L]|0)+k,k=g>>26,this.words[L]=g&67108863;for(;k!==0&&L<E.length;L++)g=(E.words[L]|0)+k,k=g>>26,this.words[L]=g&67108863;if(k===0&&L<E.length&&E!==this)for(;L<E.length;L++)this.words[L]=E.words[L];return this.length=Math.max(this.length,L),E!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function S(_,c,g){g.negative=c.negative^_.negative;var b=_.length+c.length|0;g.length=b,b=b-1|0;var E=_.words[0]|0,x=c.words[0]|0,k=E*x,L=k&67108863,w=k/67108864|0;g.words[0]=L;for(var f=1;f<b;f++){for(var I=w>>>26,Q=w&67108863,ee=Math.min(f,c.length-1),N=Math.max(0,f-_.length+1);N<=ee;N++){var B=f-N|0;E=_.words[B]|0,x=c.words[N]|0,k=E*x+Q,I+=k/67108864|0,Q=k&67108863}g.words[f]=Q|0,w=I|0}return w!==0?g.words[f]=w|0:g.length--,g._strip()}var O=function(c,g,b){var E=c.words,x=g.words,k=b.words,L=0,w,f,I,Q=E[0]|0,ee=Q&8191,N=Q>>>13,B=E[1]|0,H=B&8191,Y=B>>>13,ge=E[2]|0,C=ge&8191,R=ge>>>13,z=E[3]|0,Z=z&8191,fe=z>>>13,m=E[4]|0,h=m&8191,v=m>>>13,T=E[5]|0,P=T&8191,W=T>>>13,J=E[6]|0,re=J&8191,oe=J>>>13,we=E[7]|0,he=we&8191,ue=we>>>13,ct=E[8]|0,Me=ct&8191,Ce=ct>>>13,Tn=E[9]|0,Te=Tn&8191,ke=Tn>>>13,kn=x[0]|0,Oe=kn&8191,Ne=kn>>>13,On=x[1]|0,Le=On&8191,Pe=On>>>13,Nn=x[2]|0,$e=Nn&8191,De=Nn>>>13,Ln=x[3]|0,Be=Ln&8191,Fe=Ln>>>13,Pn=x[4]|0,je=Pn&8191,Ue=Pn>>>13,$n=x[5]|0,We=$n&8191,He=$n>>>13,Dn=x[6]|0,Ve=Dn&8191,ze=Dn>>>13,Bn=x[7]|0,qe=Bn&8191,Ge=Bn>>>13,Fn=x[8]|0,Je=Fn&8191,Ze=Fn>>>13,jn=x[9]|0,Qe=jn&8191,Ye=jn>>>13;b.negative=c.negative^g.negative,b.length=19,w=Math.imul(ee,Oe),f=Math.imul(ee,Ne),f=f+Math.imul(N,Oe)|0,I=Math.imul(N,Ne);var Ur=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(H,Oe),f=Math.imul(H,Ne),f=f+Math.imul(Y,Oe)|0,I=Math.imul(Y,Ne),w=w+Math.imul(ee,Le)|0,f=f+Math.imul(ee,Pe)|0,f=f+Math.imul(N,Le)|0,I=I+Math.imul(N,Pe)|0;var Wr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(C,Oe),f=Math.imul(C,Ne),f=f+Math.imul(R,Oe)|0,I=Math.imul(R,Ne),w=w+Math.imul(H,Le)|0,f=f+Math.imul(H,Pe)|0,f=f+Math.imul(Y,Le)|0,I=I+Math.imul(Y,Pe)|0,w=w+Math.imul(ee,$e)|0,f=f+Math.imul(ee,De)|0,f=f+Math.imul(N,$e)|0,I=I+Math.imul(N,De)|0;var Hr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(Z,Oe),f=Math.imul(Z,Ne),f=f+Math.imul(fe,Oe)|0,I=Math.imul(fe,Ne),w=w+Math.imul(C,Le)|0,f=f+Math.imul(C,Pe)|0,f=f+Math.imul(R,Le)|0,I=I+Math.imul(R,Pe)|0,w=w+Math.imul(H,$e)|0,f=f+Math.imul(H,De)|0,f=f+Math.imul(Y,$e)|0,I=I+Math.imul(Y,De)|0,w=w+Math.imul(ee,Be)|0,f=f+Math.imul(ee,Fe)|0,f=f+Math.imul(N,Be)|0,I=I+Math.imul(N,Fe)|0;var Vr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(h,Oe),f=Math.imul(h,Ne),f=f+Math.imul(v,Oe)|0,I=Math.imul(v,Ne),w=w+Math.imul(Z,Le)|0,f=f+Math.imul(Z,Pe)|0,f=f+Math.imul(fe,Le)|0,I=I+Math.imul(fe,Pe)|0,w=w+Math.imul(C,$e)|0,f=f+Math.imul(C,De)|0,f=f+Math.imul(R,$e)|0,I=I+Math.imul(R,De)|0,w=w+Math.imul(H,Be)|0,f=f+Math.imul(H,Fe)|0,f=f+Math.imul(Y,Be)|0,I=I+Math.imul(Y,Fe)|0,w=w+Math.imul(ee,je)|0,f=f+Math.imul(ee,Ue)|0,f=f+Math.imul(N,je)|0,I=I+Math.imul(N,Ue)|0;var zr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,w=Math.imul(P,Oe),f=Math.imul(P,Ne),f=f+Math.imul(W,Oe)|0,I=Math.imul(W,Ne),w=w+Math.imul(h,Le)|0,f=f+Math.imul(h,Pe)|0,f=f+Math.imul(v,Le)|0,I=I+Math.imul(v,Pe)|0,w=w+Math.imul(Z,$e)|0,f=f+Math.imul(Z,De)|0,f=f+Math.imul(fe,$e)|0,I=I+Math.imul(fe,De)|0,w=w+Math.imul(C,Be)|0,f=f+Math.imul(C,Fe)|0,f=f+Math.imul(R,Be)|0,I=I+Math.imul(R,Fe)|0,w=w+Math.imul(H,je)|0,f=f+Math.imul(H,Ue)|0,f=f+Math.imul(Y,je)|0,I=I+Math.imul(Y,Ue)|0,w=w+Math.imul(ee,We)|0,f=f+Math.imul(ee,He)|0,f=f+Math.imul(N,We)|0,I=I+Math.imul(N,He)|0;var qr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(re,Oe),f=Math.imul(re,Ne),f=f+Math.imul(oe,Oe)|0,I=Math.imul(oe,Ne),w=w+Math.imul(P,Le)|0,f=f+Math.imul(P,Pe)|0,f=f+Math.imul(W,Le)|0,I=I+Math.imul(W,Pe)|0,w=w+Math.imul(h,$e)|0,f=f+Math.imul(h,De)|0,f=f+Math.imul(v,$e)|0,I=I+Math.imul(v,De)|0,w=w+Math.imul(Z,Be)|0,f=f+Math.imul(Z,Fe)|0,f=f+Math.imul(fe,Be)|0,I=I+Math.imul(fe,Fe)|0,w=w+Math.imul(C,je)|0,f=f+Math.imul(C,Ue)|0,f=f+Math.imul(R,je)|0,I=I+Math.imul(R,Ue)|0,w=w+Math.imul(H,We)|0,f=f+Math.imul(H,He)|0,f=f+Math.imul(Y,We)|0,I=I+Math.imul(Y,He)|0,w=w+Math.imul(ee,Ve)|0,f=f+Math.imul(ee,ze)|0,f=f+Math.imul(N,Ve)|0,I=I+Math.imul(N,ze)|0;var Gr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul(he,Oe),f=Math.imul(he,Ne),f=f+Math.imul(ue,Oe)|0,I=Math.imul(ue,Ne),w=w+Math.imul(re,Le)|0,f=f+Math.imul(re,Pe)|0,f=f+Math.imul(oe,Le)|0,I=I+Math.imul(oe,Pe)|0,w=w+Math.imul(P,$e)|0,f=f+Math.imul(P,De)|0,f=f+Math.imul(W,$e)|0,I=I+Math.imul(W,De)|0,w=w+Math.imul(h,Be)|0,f=f+Math.imul(h,Fe)|0,f=f+Math.imul(v,Be)|0,I=I+Math.imul(v,Fe)|0,w=w+Math.imul(Z,je)|0,f=f+Math.imul(Z,Ue)|0,f=f+Math.imul(fe,je)|0,I=I+Math.imul(fe,Ue)|0,w=w+Math.imul(C,We)|0,f=f+Math.imul(C,He)|0,f=f+Math.imul(R,We)|0,I=I+Math.imul(R,He)|0,w=w+Math.imul(H,Ve)|0,f=f+Math.imul(H,ze)|0,f=f+Math.imul(Y,Ve)|0,I=I+Math.imul(Y,ze)|0,w=w+Math.imul(ee,qe)|0,f=f+Math.imul(ee,Ge)|0,f=f+Math.imul(N,qe)|0,I=I+Math.imul(N,Ge)|0;var Jr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,w=Math.imul(Me,Oe),f=Math.imul(Me,Ne),f=f+Math.imul(Ce,Oe)|0,I=Math.imul(Ce,Ne),w=w+Math.imul(he,Le)|0,f=f+Math.imul(he,Pe)|0,f=f+Math.imul(ue,Le)|0,I=I+Math.imul(ue,Pe)|0,w=w+Math.imul(re,$e)|0,f=f+Math.imul(re,De)|0,f=f+Math.imul(oe,$e)|0,I=I+Math.imul(oe,De)|0,w=w+Math.imul(P,Be)|0,f=f+Math.imul(P,Fe)|0,f=f+Math.imul(W,Be)|0,I=I+Math.imul(W,Fe)|0,w=w+Math.imul(h,je)|0,f=f+Math.imul(h,Ue)|0,f=f+Math.imul(v,je)|0,I=I+Math.imul(v,Ue)|0,w=w+Math.imul(Z,We)|0,f=f+Math.imul(Z,He)|0,f=f+Math.imul(fe,We)|0,I=I+Math.imul(fe,He)|0,w=w+Math.imul(C,Ve)|0,f=f+Math.imul(C,ze)|0,f=f+Math.imul(R,Ve)|0,I=I+Math.imul(R,ze)|0,w=w+Math.imul(H,qe)|0,f=f+Math.imul(H,Ge)|0,f=f+Math.imul(Y,qe)|0,I=I+Math.imul(Y,Ge)|0,w=w+Math.imul(ee,Je)|0,f=f+Math.imul(ee,Ze)|0,f=f+Math.imul(N,Je)|0,I=I+Math.imul(N,Ze)|0;var Zr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(Te,Oe),f=Math.imul(Te,Ne),f=f+Math.imul(ke,Oe)|0,I=Math.imul(ke,Ne),w=w+Math.imul(Me,Le)|0,f=f+Math.imul(Me,Pe)|0,f=f+Math.imul(Ce,Le)|0,I=I+Math.imul(Ce,Pe)|0,w=w+Math.imul(he,$e)|0,f=f+Math.imul(he,De)|0,f=f+Math.imul(ue,$e)|0,I=I+Math.imul(ue,De)|0,w=w+Math.imul(re,Be)|0,f=f+Math.imul(re,Fe)|0,f=f+Math.imul(oe,Be)|0,I=I+Math.imul(oe,Fe)|0,w=w+Math.imul(P,je)|0,f=f+Math.imul(P,Ue)|0,f=f+Math.imul(W,je)|0,I=I+Math.imul(W,Ue)|0,w=w+Math.imul(h,We)|0,f=f+Math.imul(h,He)|0,f=f+Math.imul(v,We)|0,I=I+Math.imul(v,He)|0,w=w+Math.imul(Z,Ve)|0,f=f+Math.imul(Z,ze)|0,f=f+Math.imul(fe,Ve)|0,I=I+Math.imul(fe,ze)|0,w=w+Math.imul(C,qe)|0,f=f+Math.imul(C,Ge)|0,f=f+Math.imul(R,qe)|0,I=I+Math.imul(R,Ge)|0,w=w+Math.imul(H,Je)|0,f=f+Math.imul(H,Ze)|0,f=f+Math.imul(Y,Je)|0,I=I+Math.imul(Y,Ze)|0,w=w+Math.imul(ee,Qe)|0,f=f+Math.imul(ee,Ye)|0,f=f+Math.imul(N,Qe)|0,I=I+Math.imul(N,Ye)|0;var Qr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,w=Math.imul(Te,Le),f=Math.imul(Te,Pe),f=f+Math.imul(ke,Le)|0,I=Math.imul(ke,Pe),w=w+Math.imul(Me,$e)|0,f=f+Math.imul(Me,De)|0,f=f+Math.imul(Ce,$e)|0,I=I+Math.imul(Ce,De)|0,w=w+Math.imul(he,Be)|0,f=f+Math.imul(he,Fe)|0,f=f+Math.imul(ue,Be)|0,I=I+Math.imul(ue,Fe)|0,w=w+Math.imul(re,je)|0,f=f+Math.imul(re,Ue)|0,f=f+Math.imul(oe,je)|0,I=I+Math.imul(oe,Ue)|0,w=w+Math.imul(P,We)|0,f=f+Math.imul(P,He)|0,f=f+Math.imul(W,We)|0,I=I+Math.imul(W,He)|0,w=w+Math.imul(h,Ve)|0,f=f+Math.imul(h,ze)|0,f=f+Math.imul(v,Ve)|0,I=I+Math.imul(v,ze)|0,w=w+Math.imul(Z,qe)|0,f=f+Math.imul(Z,Ge)|0,f=f+Math.imul(fe,qe)|0,I=I+Math.imul(fe,Ge)|0,w=w+Math.imul(C,Je)|0,f=f+Math.imul(C,Ze)|0,f=f+Math.imul(R,Je)|0,I=I+Math.imul(R,Ze)|0,w=w+Math.imul(H,Qe)|0,f=f+Math.imul(H,Ye)|0,f=f+Math.imul(Y,Qe)|0,I=I+Math.imul(Y,Ye)|0;var Yr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(Te,$e),f=Math.imul(Te,De),f=f+Math.imul(ke,$e)|0,I=Math.imul(ke,De),w=w+Math.imul(Me,Be)|0,f=f+Math.imul(Me,Fe)|0,f=f+Math.imul(Ce,Be)|0,I=I+Math.imul(Ce,Fe)|0,w=w+Math.imul(he,je)|0,f=f+Math.imul(he,Ue)|0,f=f+Math.imul(ue,je)|0,I=I+Math.imul(ue,Ue)|0,w=w+Math.imul(re,We)|0,f=f+Math.imul(re,He)|0,f=f+Math.imul(oe,We)|0,I=I+Math.imul(oe,He)|0,w=w+Math.imul(P,Ve)|0,f=f+Math.imul(P,ze)|0,f=f+Math.imul(W,Ve)|0,I=I+Math.imul(W,ze)|0,w=w+Math.imul(h,qe)|0,f=f+Math.imul(h,Ge)|0,f=f+Math.imul(v,qe)|0,I=I+Math.imul(v,Ge)|0,w=w+Math.imul(Z,Je)|0,f=f+Math.imul(Z,Ze)|0,f=f+Math.imul(fe,Je)|0,I=I+Math.imul(fe,Ze)|0,w=w+Math.imul(C,Qe)|0,f=f+Math.imul(C,Ye)|0,f=f+Math.imul(R,Qe)|0,I=I+Math.imul(R,Ye)|0;var Kr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(Te,Be),f=Math.imul(Te,Fe),f=f+Math.imul(ke,Be)|0,I=Math.imul(ke,Fe),w=w+Math.imul(Me,je)|0,f=f+Math.imul(Me,Ue)|0,f=f+Math.imul(Ce,je)|0,I=I+Math.imul(Ce,Ue)|0,w=w+Math.imul(he,We)|0,f=f+Math.imul(he,He)|0,f=f+Math.imul(ue,We)|0,I=I+Math.imul(ue,He)|0,w=w+Math.imul(re,Ve)|0,f=f+Math.imul(re,ze)|0,f=f+Math.imul(oe,Ve)|0,I=I+Math.imul(oe,ze)|0,w=w+Math.imul(P,qe)|0,f=f+Math.imul(P,Ge)|0,f=f+Math.imul(W,qe)|0,I=I+Math.imul(W,Ge)|0,w=w+Math.imul(h,Je)|0,f=f+Math.imul(h,Ze)|0,f=f+Math.imul(v,Je)|0,I=I+Math.imul(v,Ze)|0,w=w+Math.imul(Z,Qe)|0,f=f+Math.imul(Z,Ye)|0,f=f+Math.imul(fe,Qe)|0,I=I+Math.imul(fe,Ye)|0;var Xr=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(Te,je),f=Math.imul(Te,Ue),f=f+Math.imul(ke,je)|0,I=Math.imul(ke,Ue),w=w+Math.imul(Me,We)|0,f=f+Math.imul(Me,He)|0,f=f+Math.imul(Ce,We)|0,I=I+Math.imul(Ce,He)|0,w=w+Math.imul(he,Ve)|0,f=f+Math.imul(he,ze)|0,f=f+Math.imul(ue,Ve)|0,I=I+Math.imul(ue,ze)|0,w=w+Math.imul(re,qe)|0,f=f+Math.imul(re,Ge)|0,f=f+Math.imul(oe,qe)|0,I=I+Math.imul(oe,Ge)|0,w=w+Math.imul(P,Je)|0,f=f+Math.imul(P,Ze)|0,f=f+Math.imul(W,Je)|0,I=I+Math.imul(W,Ze)|0,w=w+Math.imul(h,Qe)|0,f=f+Math.imul(h,Ye)|0,f=f+Math.imul(v,Qe)|0,I=I+Math.imul(v,Ye)|0;var en=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(en>>>26)|0,en&=67108863,w=Math.imul(Te,We),f=Math.imul(Te,He),f=f+Math.imul(ke,We)|0,I=Math.imul(ke,He),w=w+Math.imul(Me,Ve)|0,f=f+Math.imul(Me,ze)|0,f=f+Math.imul(Ce,Ve)|0,I=I+Math.imul(Ce,ze)|0,w=w+Math.imul(he,qe)|0,f=f+Math.imul(he,Ge)|0,f=f+Math.imul(ue,qe)|0,I=I+Math.imul(ue,Ge)|0,w=w+Math.imul(re,Je)|0,f=f+Math.imul(re,Ze)|0,f=f+Math.imul(oe,Je)|0,I=I+Math.imul(oe,Ze)|0,w=w+Math.imul(P,Qe)|0,f=f+Math.imul(P,Ye)|0,f=f+Math.imul(W,Qe)|0,I=I+Math.imul(W,Ye)|0;var xa=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(xa>>>26)|0,xa&=67108863,w=Math.imul(Te,Ve),f=Math.imul(Te,ze),f=f+Math.imul(ke,Ve)|0,I=Math.imul(ke,ze),w=w+Math.imul(Me,qe)|0,f=f+Math.imul(Me,Ge)|0,f=f+Math.imul(Ce,qe)|0,I=I+Math.imul(Ce,Ge)|0,w=w+Math.imul(he,Je)|0,f=f+Math.imul(he,Ze)|0,f=f+Math.imul(ue,Je)|0,I=I+Math.imul(ue,Ze)|0,w=w+Math.imul(re,Qe)|0,f=f+Math.imul(re,Ye)|0,f=f+Math.imul(oe,Qe)|0,I=I+Math.imul(oe,Ye)|0;var Ma=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,w=Math.imul(Te,qe),f=Math.imul(Te,Ge),f=f+Math.imul(ke,qe)|0,I=Math.imul(ke,Ge),w=w+Math.imul(Me,Je)|0,f=f+Math.imul(Me,Ze)|0,f=f+Math.imul(Ce,Je)|0,I=I+Math.imul(Ce,Ze)|0,w=w+Math.imul(he,Qe)|0,f=f+Math.imul(he,Ye)|0,f=f+Math.imul(ue,Qe)|0,I=I+Math.imul(ue,Ye)|0;var Ca=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,w=Math.imul(Te,Je),f=Math.imul(Te,Ze),f=f+Math.imul(ke,Je)|0,I=Math.imul(ke,Ze),w=w+Math.imul(Me,Qe)|0,f=f+Math.imul(Me,Ye)|0,f=f+Math.imul(Ce,Qe)|0,I=I+Math.imul(Ce,Ye)|0;var Ra=(L+w|0)+((f&8191)<<13)|0;L=(I+(f>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,w=Math.imul(Te,Qe),f=Math.imul(Te,Ye),f=f+Math.imul(ke,Qe)|0,I=Math.imul(ke,Ye);var Ia=(L+w|0)+((f&8191)<<13)|0;return L=(I+(f>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,k[0]=Ur,k[1]=Wr,k[2]=Hr,k[3]=Vr,k[4]=zr,k[5]=qr,k[6]=Gr,k[7]=Jr,k[8]=Zr,k[9]=Qr,k[10]=Yr,k[11]=Kr,k[12]=Xr,k[13]=en,k[14]=xa,k[15]=Ma,k[16]=Ca,k[17]=Ra,k[18]=Ia,L!==0&&(k[19]=L,b.length++),b};Math.imul||(O=S);function D(_,c,g){g.negative=c.negative^_.negative,g.length=_.length+c.length;for(var b=0,E=0,x=0;x<g.length-1;x++){var k=E;E=0;for(var L=b&67108863,w=Math.min(x,c.length-1),f=Math.max(0,x-_.length+1);f<=w;f++){var I=x-f,Q=_.words[I]|0,ee=c.words[f]|0,N=Q*ee,B=N&67108863;k=k+(N/67108864|0)|0,B=B+L|0,L=B&67108863,k=k+(B>>>26)|0,E+=k>>>26,k&=67108863}g.words[x]=L,b=k,k=E}return b!==0?g.words[x]=b:g.length--,g._strip()}function U(_,c,g){return D(_,c,g)}s.prototype.mulTo=function(c,g){var b,E=this.length+c.length;return this.length===10&&c.length===10?b=O(this,c,g):E<63?b=S(this,c,g):E<1024?b=D(this,c,g):b=U(this,c,g),b},s.prototype.mul=function(c){var g=new s(null);return g.words=new Array(this.length+c.length),this.mulTo(c,g)},s.prototype.mulf=function(c){var g=new s(null);return g.words=new Array(this.length+c.length),U(this,c,g)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){var g=c<0;g&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var b=0,E=0;E<this.length;E++){var x=(this.words[E]|0)*c,k=(x&67108863)+(b&67108863);b>>=26,b+=x/67108864|0,b+=k>>>26,this.words[E]=k&67108863}return b!==0&&(this.words[E]=b,this.length++),g?this.ineg():this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var g=F(c);if(g.length===0)return new s(1);for(var b=this,E=0;E<g.length&&g[E]===0;E++,b=b.sqr());if(++E<g.length)for(var x=b.sqr();E<g.length;E++,x=x.sqr())g[E]!==0&&(b=b.mul(x));return b},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var g=c%26,b=(c-g)/26,E=67108863>>>26-g<<26-g,x;if(g!==0){var k=0;for(x=0;x<this.length;x++){var L=this.words[x]&E,w=(this.words[x]|0)-L<<g;this.words[x]=w|k,k=L>>>26-g}k&&(this.words[x]=k,this.length++)}if(b!==0){for(x=this.length-1;x>=0;x--)this.words[x+b]=this.words[x];for(x=0;x<b;x++)this.words[x]=0;this.length+=b}return this._strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,g,b){n(typeof c=="number"&&c>=0);var E;g?E=(g-g%26)/26:E=0;var x=c%26,k=Math.min((c-x)/26,this.length),L=67108863^67108863>>>x<<x,w=b;if(E-=k,E=Math.max(0,E),w){for(var f=0;f<k;f++)w.words[f]=this.words[f];w.length=k}if(k!==0)if(this.length>k)for(this.length-=k,f=0;f<this.length;f++)this.words[f]=this.words[f+k];else this.words[0]=0,this.length=1;var I=0;for(f=this.length-1;f>=0&&(I!==0||f>=E);f--){var Q=this.words[f]|0;this.words[f]=I<<26-x|Q>>>x,I=Q&L}return w&&I!==0&&(w.words[w.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(c,g,b){return n(this.negative===0),this.iushrn(c,g,b)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var g=c%26,b=(c-g)/26,E=1<<g;if(this.length<=b)return!1;var x=this.words[b];return!!(x&E)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var g=c%26,b=(c-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(g!==0&&b++,this.length=Math.min(b,this.length),g!==0){var E=67108863^67108863>>>g<<g;this.words[this.length-1]&=E}return this._strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,g,b){var E=c.length+b,x;this._expand(E);var k,L=0;for(x=0;x<c.length;x++){k=(this.words[x+b]|0)+L;var w=(c.words[x]|0)*g;k-=w&67108863,L=(k>>26)-(w/67108864|0),this.words[x+b]=k&67108863}for(;x<this.length-b;x++)k=(this.words[x+b]|0)+L,L=k>>26,this.words[x+b]=k&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,x=0;x<this.length;x++)k=-(this.words[x]|0)+L,L=k>>26,this.words[x]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(c,g){var b=this.length-c.length,E=this.clone(),x=c,k=x.words[x.length-1]|0,L=this._countBits(k);b=26-L,b!==0&&(x=x.ushln(b),E.iushln(b),k=x.words[x.length-1]|0);var w=E.length-x.length,f;if(g!=="mod"){f=new s(null),f.length=w+1,f.words=new Array(f.length);for(var I=0;I<f.length;I++)f.words[I]=0}var Q=E.clone()._ishlnsubmul(x,1,w);Q.negative===0&&(E=Q,f&&(f.words[w]=1));for(var ee=w-1;ee>=0;ee--){var N=(E.words[x.length+ee]|0)*67108864+(E.words[x.length+ee-1]|0);for(N=Math.min(N/k|0,67108863),E._ishlnsubmul(x,N,ee);E.negative!==0;)N--,E.negative=0,E._ishlnsubmul(x,1,ee),E.isZero()||(E.negative^=1);f&&(f.words[ee]=N)}return f&&f._strip(),E._strip(),g!=="div"&&b!==0&&E.iushrn(b),{div:f||null,mod:E}},s.prototype.divmod=function(c,g,b){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var E,x,k;return this.negative!==0&&c.negative===0?(k=this.neg().divmod(c,g),g!=="mod"&&(E=k.div.neg()),g!=="div"&&(x=k.mod.neg(),b&&x.negative!==0&&x.iadd(c)),{div:E,mod:x}):this.negative===0&&c.negative!==0?(k=this.divmod(c.neg(),g),g!=="mod"&&(E=k.div.neg()),{div:E,mod:k.mod}):this.negative&c.negative?(k=this.neg().divmod(c.neg(),g),g!=="div"&&(x=k.mod.neg(),b&&x.negative!==0&&x.isub(c)),{div:k.div,mod:x}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?g==="div"?{div:this.divn(c.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modrn(c.words[0]))}:this._wordDiv(c,g)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var g=this.divmod(c);if(g.mod.isZero())return g.div;var b=g.div.negative!==0?g.mod.isub(c):g.mod,E=c.ushrn(1),x=c.andln(1),k=b.cmp(E);return k<0||x===1&&k===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(c){var g=c<0;g&&(c=-c),n(c<=67108863);for(var b=(1<<26)%c,E=0,x=this.length-1;x>=0;x--)E=(b*E+(this.words[x]|0))%c;return g?-E:E},s.prototype.modn=function(c){return this.modrn(c)},s.prototype.idivn=function(c){var g=c<0;g&&(c=-c),n(c<=67108863);for(var b=0,E=this.length-1;E>=0;E--){var x=(this.words[E]|0)+b*67108864;this.words[E]=x/c|0,b=x%c}return this._strip(),g?this.ineg():this},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var g=this,b=c.clone();g.negative!==0?g=g.umod(c):g=g.clone();for(var E=new s(1),x=new s(0),k=new s(0),L=new s(1),w=0;g.isEven()&&b.isEven();)g.iushrn(1),b.iushrn(1),++w;for(var f=b.clone(),I=g.clone();!g.isZero();){for(var Q=0,ee=1;!(g.words[0]&ee)&&Q<26;++Q,ee<<=1);if(Q>0)for(g.iushrn(Q);Q-- >0;)(E.isOdd()||x.isOdd())&&(E.iadd(f),x.isub(I)),E.iushrn(1),x.iushrn(1);for(var N=0,B=1;!(b.words[0]&B)&&N<26;++N,B<<=1);if(N>0)for(b.iushrn(N);N-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(f),L.isub(I)),k.iushrn(1),L.iushrn(1);g.cmp(b)>=0?(g.isub(b),E.isub(k),x.isub(L)):(b.isub(g),k.isub(E),L.isub(x))}return{a:k,b:L,gcd:b.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var g=this,b=c.clone();g.negative!==0?g=g.umod(c):g=g.clone();for(var E=new s(1),x=new s(0),k=b.clone();g.cmpn(1)>0&&b.cmpn(1)>0;){for(var L=0,w=1;!(g.words[0]&w)&&L<26;++L,w<<=1);if(L>0)for(g.iushrn(L);L-- >0;)E.isOdd()&&E.iadd(k),E.iushrn(1);for(var f=0,I=1;!(b.words[0]&I)&&f<26;++f,I<<=1);if(f>0)for(b.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(k),x.iushrn(1);g.cmp(b)>=0?(g.isub(b),E.isub(x)):(b.isub(g),x.isub(E))}var Q;return g.cmpn(1)===0?Q=E:Q=x,Q.cmpn(0)<0&&Q.iadd(c),Q},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var g=this.clone(),b=c.clone();g.negative=0,b.negative=0;for(var E=0;g.isEven()&&b.isEven();E++)g.iushrn(1),b.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;b.isEven();)b.iushrn(1);var x=g.cmp(b);if(x<0){var k=g;g=b,b=k}else if(x===0||b.cmpn(1)===0)break;g.isub(b)}while(!0);return b.iushln(E)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var g=c%26,b=(c-g)/26,E=1<<g;if(this.length<=b)return this._expand(b+1),this.words[b]|=E,this;for(var x=E,k=b;x!==0&&k<this.length;k++){var L=this.words[k]|0;L+=x,x=L>>>26,L&=67108863,this.words[k]=L}return x!==0&&(this.words[k]=x,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var g=c<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var b;if(this.length>1)b=1;else{g&&(c=-c),n(c<=67108863,"Number is too big");var E=this.words[0]|0;b=E===c?0:E<c?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var g=this.ucmp(c);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var g=0,b=this.length-1;b>=0;b--){var E=this.words[b]|0,x=c.words[b]|0;if(E!==x){E<x?g=-1:E>x&&(g=1);break}}return g},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new ie(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var j={k256:null,p224:null,p192:null,p25519:null};function V(_,c){this.name=_,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},V.prototype.ireduce=function(c){var g=c,b;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),b=g.bitLength();while(b>this.n);var E=b<this.n?-1:g.ucmp(this.p);return E===0?(g.words[0]=0,g.length=1):E>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},V.prototype.split=function(c,g){c.iushrn(this.n,0,g)},V.prototype.imulK=function(c){return c.imul(this.k)};function K(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,V),K.prototype.split=function(c,g){for(var b=4194303,E=Math.min(c.length,9),x=0;x<E;x++)g.words[x]=c.words[x];if(g.length=E,c.length<=9){c.words[0]=0,c.length=1;return}var k=c.words[9];for(g.words[g.length++]=k&b,x=10;x<c.length;x++){var L=c.words[x]|0;c.words[x-10]=(L&b)<<4|k>>>22,k=L}k>>>=22,c.words[x-10]=k,k===0&&c.length>10?c.length-=10:c.length-=9},K.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var g=0,b=0;b<c.length;b++){var E=c.words[b]|0;g+=E*977,c.words[b]=g&67108863,g=E*64+(g/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function X(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,V);function q(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(q,V);function ne(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ne,V),ne.prototype.imulK=function(c){for(var g=0,b=0;b<c.length;b++){var E=(c.words[b]|0)*19+g,x=E&67108863;E>>>=26,c.words[b]=x,g=E}return g!==0&&(c.words[c.length++]=g),c},s._prime=function(c){if(j[c])return j[c];var g;if(c==="k256")g=new K;else if(c==="p224")g=new X;else if(c==="p192")g=new q;else if(c==="p25519")g=new ne;else throw new Error("Unknown prime "+c);return j[c]=g,g};function ie(_){if(typeof _=="string"){var c=s._prime(_);this.m=c.p,this.prime=c}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}ie.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},ie.prototype._verify2=function(c,g){n((c.negative|g.negative)===0,"red works only with positives"),n(c.red&&c.red===g.red,"red works only with red numbers")},ie.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(d(c,c.umod(this.m)._forceRed(this)),c)},ie.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},ie.prototype.add=function(c,g){this._verify2(c,g);var b=c.add(g);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ie.prototype.iadd=function(c,g){this._verify2(c,g);var b=c.iadd(g);return b.cmp(this.m)>=0&&b.isub(this.m),b},ie.prototype.sub=function(c,g){this._verify2(c,g);var b=c.sub(g);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ie.prototype.isub=function(c,g){this._verify2(c,g);var b=c.isub(g);return b.cmpn(0)<0&&b.iadd(this.m),b},ie.prototype.shl=function(c,g){return this._verify1(c),this.imod(c.ushln(g))},ie.prototype.imul=function(c,g){return this._verify2(c,g),this.imod(c.imul(g))},ie.prototype.mul=function(c,g){return this._verify2(c,g),this.imod(c.mul(g))},ie.prototype.isqr=function(c){return this.imul(c,c.clone())},ie.prototype.sqr=function(c){return this.mul(c,c)},ie.prototype.sqrt=function(c){if(c.isZero())return c.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(c,b)}for(var E=this.m.subn(1),x=0;!E.isZero()&&E.andln(1)===0;)x++,E.iushrn(1);n(!E.isZero());var k=new s(1).toRed(this),L=k.redNeg(),w=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,w).cmp(L)!==0;)f.redIAdd(L);for(var I=this.pow(f,E),Q=this.pow(c,E.addn(1).iushrn(1)),ee=this.pow(c,E),N=x;ee.cmp(k)!==0;){for(var B=ee,H=0;B.cmp(k)!==0;H++)B=B.redSqr();n(H<N);var Y=this.pow(I,new s(1).iushln(N-H-1));Q=Q.redMul(Y),I=Y.redSqr(),ee=ee.redMul(I),N=H}return Q},ie.prototype.invm=function(c){var g=c._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},ie.prototype.pow=function(c,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return c.clone();var b=4,E=new Array(1<<b);E[0]=new s(1).toRed(this),E[1]=c;for(var x=2;x<E.length;x++)E[x]=this.mul(E[x-1],c);var k=E[0],L=0,w=0,f=g.bitLength()%26;for(f===0&&(f=26),x=g.length-1;x>=0;x--){for(var I=g.words[x],Q=f-1;Q>=0;Q--){var ee=I>>Q&1;if(k!==E[0]&&(k=this.sqr(k)),ee===0&&L===0){w=0;continue}L<<=1,L|=ee,w++,!(w!==b&&(x!==0||Q!==0))&&(k=this.mul(k,E[L]),w=0,L=0)}f=26}return k},ie.prototype.convertTo=function(c){var g=c.umod(this.m);return g===c?g.clone():g},ie.prototype.convertFrom=function(c){var g=c.clone();return g.red=null,g},s.mont=function(c){return new ce(c)};function ce(_){ie.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,ie),ce.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ce.prototype.convertFrom=function(c){var g=this.imod(c.mul(this.rinv));return g.red=null,g},ce.prototype.imul=function(c,g){if(c.isZero()||g.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(g),E=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(E).iushrn(this.shift),k=x;return x.cmp(this.m)>=0?k=x.isub(this.m):x.cmpn(0)<0&&(k=x.iadd(this.m)),k._forceRed(this)},ce.prototype.mul=function(c,g){if(c.isZero()||g.isZero())return new s(0)._forceRed(this);var b=c.mul(g),E=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(E).iushrn(this.shift),k=x;return x.cmp(this.m)>=0?k=x.isub(this.m):x.cmpn(0)<0&&(k=x.iadd(this.m)),k._forceRed(this)},ce.prototype.invm=function(c){var g=this.imod(c._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,te)})(Ku);var wo=Ku.exports,wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.EVENTS=void 0;wi.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var ss={},jh={},Or={},Uh=Ki;Ki.default=Ki;Ki.stable=Vh;Ki.stableStringify=Vh;var Xs="[...]",Wh="[Circular]",gn=[],ln=[];function Hh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Ki(t,e,r,n){typeof n>"u"&&(n=Hh()),bu(t,"",0,[],void 0,0,n);var i;try{ln.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,zh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var s=gn.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Kn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),gn.push([n,r,e,i])):ln.push([e,r,t]):(n[r]=t,gn.push([n,r,e]))}function bu(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Kn(Wh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Kn(Xs,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Kn(Xs,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)bu(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var l=u[a];bu(t[l],l,a,n,t,s,o)}}n.pop()}}function Ug(t,e){return t<e?-1:t>e?1:0}function Vh(t,e,r,n){typeof n>"u"&&(n=Hh());var i=mu(t,"",0,[],void 0,0,n)||t,s;try{ln.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,zh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var o=gn.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function mu(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Kn(Wh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Kn(Xs,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Kn(Xs,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)mu(t[a],a,a,n,t,s,o);else{var u={},l=Object.keys(t).sort(Ug);for(a=0;a<l.length;a++){var d=l[a];mu(t[d],d,a,n,t,s,o),u[d]=t[d]}if(typeof i<"u")gn.push([i,e,t]),i[e]=u;else return u}n.pop()}}function zh(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(ln.length>0)for(var n=0;n<ln.length;n++){var i=ln[n];if(i[1]===e&&i[0]===r){r=i[2],ln.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Or,"__esModule",{value:!0});Or.EthereumProviderError=Or.EthereumRpcError=void 0;const Wg=Uh;let qh=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Wg.default(this.serialize(),zg,2)}};Or.EthereumRpcError=qh;let Hg=class extends qh{constructor(e,r,n){if(!Vg(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};Or.EthereumProviderError=Hg;function Vg(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function zg(t,e){if(e!=="[Circular]")return e}var Xu={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.errorValues=Nr.errorCodes=void 0;Nr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Nr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Nr,r=Or,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(y,M=i){if(Number.isInteger(y)){const A=y.toString();if(p(e.errorValues,A))return e.errorValues[A].message;if(l(y))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return M}t.getMessageFromCode=o;function a(y){if(!Number.isInteger(y))return!1;const M=y.toString();return!!(e.errorValues[M]||l(y))}t.isValidCode=a;function u(y,{fallbackError:M=s,shouldIncludeStack:A=!1}={}){var $,F;if(!M||!Number.isInteger(M.code)||typeof M.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(y instanceof r.EthereumRpcError)return y.serialize();const S={};if(y&&typeof y=="object"&&!Array.isArray(y)&&p(y,"code")&&a(y.code)){const D=y;S.code=D.code,D.message&&typeof D.message=="string"?(S.message=D.message,p(D,"data")&&(S.data=D.data)):(S.message=o(S.code),S.data={originalError:d(y)})}else{S.code=M.code;const D=($=y)===null||$===void 0?void 0:$.message;S.message=D&&typeof D=="string"?D:M.message,S.data={originalError:d(y)}}const O=(F=y)===null||F===void 0?void 0:F.stack;return A&&y&&O&&typeof O=="string"&&(S.stack=O),S}t.serializeError=u;function l(y){return y>=-32099&&y<=-32e3}function d(y){return y&&typeof y=="object"&&!Array.isArray(y)?Object.assign({},y):y}function p(y,M){return Object.prototype.hasOwnProperty.call(y,M)}})(Xu);var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.ethErrors=void 0;const ec=Or,Gh=Xu,_t=Nr;Eo.ethErrors={rpc:{parse:t=>Pt(_t.errorCodes.rpc.parse,t),invalidRequest:t=>Pt(_t.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Pt(_t.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Pt(_t.errorCodes.rpc.methodNotFound,t),internal:t=>Pt(_t.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Pt(e,t)},invalidInput:t=>Pt(_t.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Pt(_t.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Pt(_t.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Pt(_t.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Pt(_t.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Pt(_t.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Li(_t.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Li(_t.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Li(_t.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Li(_t.errorCodes.provider.disconnected,t),chainDisconnected:t=>Li(_t.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ec.EthereumProviderError(e,r,n)}}};function Pt(t,e){const[r,n]=Jh(e);return new ec.EthereumRpcError(t,r||Gh.getMessageFromCode(t),n)}function Li(t,e){const[r,n]=Jh(e);return new ec.EthereumProviderError(t,r||Gh.getMessageFromCode(t),n)}function Jh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Or;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Xu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Eo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Nr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(jh);var Ae={},So={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(So);Object.defineProperty(Ae,"__esModule",{value:!0});Ae.EthereumAddressFromSignedMessageResponse=Ae.SubmitEthereumTransactionResponse=Ae.SignEthereumTransactionResponse=Ae.SignEthereumMessageResponse=Ae.isRequestEthereumAccountsResponse=Ae.SelectProviderResponse=Ae.WatchAssetReponse=Ae.RequestEthereumAccountsResponse=Ae.SwitchEthereumChainResponse=Ae.AddEthereumChainResponse=Ae.isErrorResponse=void 0;const dr=So;function qg(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Ae.isErrorResponse=qg;function Gg(t){return{method:dr.Web3Method.addEthereumChain,result:t}}Ae.AddEthereumChainResponse=Gg;function Jg(t){return{method:dr.Web3Method.switchEthereumChain,result:t}}Ae.SwitchEthereumChainResponse=Jg;function Zg(t){return{method:dr.Web3Method.requestEthereumAccounts,result:t}}Ae.RequestEthereumAccountsResponse=Zg;function Qg(t){return{method:dr.Web3Method.watchAsset,result:t}}Ae.WatchAssetReponse=Qg;function Yg(t){return{method:dr.Web3Method.selectProvider,result:t}}Ae.SelectProviderResponse=Yg;function Kg(t){return t&&t.method===dr.Web3Method.requestEthereumAccounts}Ae.isRequestEthereumAccountsResponse=Kg;function Xg(t){return{method:dr.Web3Method.signEthereumMessage,result:t}}Ae.SignEthereumMessageResponse=Xg;function ev(t){return{method:dr.Web3Method.signEthereumTransaction,result:t}}Ae.SignEthereumTransactionResponse=ev;function tv(t){return{method:dr.Web3Method.submitEthereumTransaction,result:t}}Ae.SubmitEthereumTransactionResponse=tv;function rv(t){return{method:dr.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ae.EthereumAddressFromSignedMessageResponse=rv;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.LIB_VERSION=void 0;Ei.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=jh,r=Ae,n=Ei;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(d){return d!==void 0?(0,e.getMessageFromCode)(d):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(d="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${d}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(d,p){const y=(0,e.serializeError)(o(d),{shouldIncludeStack:!0}),M=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");M.searchParams.set("version",n.LIB_VERSION),M.searchParams.set("code",y.code.toString());const A=a(y.data,p);return A&&M.searchParams.set("method",A),M.searchParams.set("message",y.message),Object.assign(Object.assign({},y),{docUrl:M.href})}t.serializeError=s;function o(d){return typeof d=="string"?{message:d,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(d)?Object.assign(Object.assign({},d),{message:d.errorMessage,code:d.errorCode,data:{method:d.method,result:d.result}}):d}function a(d,p){var y;const M=(y=d)===null||y===void 0?void 0:y.method;if(M)return M;if(p!==void 0)return typeof p=="string"?p:Array.isArray(p)?p.length>0?p[0].method:void 0:p.method}function u(d){var p;if(typeof d=="number")return d;if(l(d))return(p=d.code)!==null&&p!==void 0?p:d.errorCode}t.getErrorCode=u;function l(d){return typeof d=="object"&&d!==null&&(typeof d.code=="number"||typeof d.errorCode=="number")}})(ss);var Si={},Zh={exports:{}},_u={exports:{}},os={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Ng,r=Lg,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=O,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var m=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(m,h),m.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(m){if(m>i)throw new RangeError('The value "'+m+'" is invalid for option "size"');var h=new Uint8Array(m);return Object.setPrototypeOf(h,a.prototype),h}function a(m,h,v){if(typeof m=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(m)}return u(m,h,v)}a.poolSize=8192;function u(m,h,v){if(typeof m=="string")return y(m,h);if(ArrayBuffer.isView(m))return A(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(z(m,ArrayBuffer)||m&&z(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(z(m,SharedArrayBuffer)||m&&z(m.buffer,SharedArrayBuffer)))return $(m,h,v);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=m.valueOf&&m.valueOf();if(T!=null&&T!==m)return a.from(T,h,v);var P=F(m);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return a.from(m[Symbol.toPrimitive]("string"),h,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}a.from=function(m,h,v){return u(m,h,v)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function d(m,h,v){return l(m),m<=0?o(m):h!==void 0?typeof v=="string"?o(m).fill(h,v):o(m).fill(h):o(m)}a.alloc=function(m,h,v){return d(m,h,v)};function p(m){return l(m),o(m<0?0:S(m)|0)}a.allocUnsafe=function(m){return p(m)},a.allocUnsafeSlow=function(m){return p(m)};function y(m,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var v=D(m,h)|0,T=o(v),P=T.write(m,h);return P!==v&&(T=T.slice(0,P)),T}function M(m){for(var h=m.length<0?0:S(m.length)|0,v=o(h),T=0;T<h;T+=1)v[T]=m[T]&255;return v}function A(m){if(z(m,Uint8Array)){var h=new Uint8Array(m);return $(h.buffer,h.byteOffset,h.byteLength)}return M(m)}function $(m,h,v){if(h<0||m.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<h+(v||0))throw new RangeError('"length" is outside of buffer bounds');var T;return h===void 0&&v===void 0?T=new Uint8Array(m):v===void 0?T=new Uint8Array(m,h):T=new Uint8Array(m,h,v),Object.setPrototypeOf(T,a.prototype),T}function F(m){if(a.isBuffer(m)){var h=S(m.length)|0,v=o(h);return v.length===0||m.copy(v,0,0,h),v}if(m.length!==void 0)return typeof m.length!="number"||Z(m.length)?o(0):M(m);if(m.type==="Buffer"&&Array.isArray(m.data))return M(m.data)}function S(m){if(m>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return m|0}function O(m){return+m!=m&&(m=0),a.alloc(+m)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,v){if(z(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),z(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(h)||!a.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===v)return 0;for(var T=h.length,P=v.length,W=0,J=Math.min(T,P);W<J;++W)if(h[W]!==v[W]){T=h[W],P=v[W];break}return T<P?-1:P<T?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,v){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);var T;if(v===void 0)for(v=0,T=0;T<h.length;++T)v+=h[T].length;var P=a.allocUnsafe(v),W=0;for(T=0;T<h.length;++T){var J=h[T];if(z(J,Uint8Array))W+J.length>P.length?a.from(J).copy(P,W):Uint8Array.prototype.set.call(P,J,W);else if(a.isBuffer(J))J.copy(P,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=J.length}return P};function D(m,h){if(a.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||z(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var v=m.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&v===0)return 0;for(var P=!1;;)switch(h){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return H(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return C(m).length;default:if(P)return T?-1:H(m).length;h=(""+h).toLowerCase(),P=!0}}a.byteLength=D;function U(m,h,v){var T=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,h>>>=0,v<=h))return"";for(m||(m="utf8");;)switch(m){case"hex":return k(this,h,v);case"utf8":case"utf-8":return c(this,h,v);case"ascii":return E(this,h,v);case"latin1":case"binary":return x(this,h,v);case"base64":return _(this,h,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,h,v);default:if(T)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),T=!0}}a.prototype._isBuffer=!0;function j(m,h,v){var T=m[h];m[h]=m[v],m[v]=T}a.prototype.swap16=function(){var h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<h;v+=2)j(this,v,v+1);return this},a.prototype.swap32=function(){var h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<h;v+=4)j(this,v,v+3),j(this,v+1,v+2);return this},a.prototype.swap64=function(){var h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<h;v+=8)j(this,v,v+7),j(this,v+1,v+6),j(this,v+2,v+5),j(this,v+3,v+4);return this},a.prototype.toString=function(){var h=this.length;return h===0?"":arguments.length===0?c(this,0,h):U.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){var h="",v=t.INSPECT_MAX_BYTES;return h=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(h+=" ... "),"<Buffer "+h+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(h,v,T,P,W){if(z(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(v===void 0&&(v=0),T===void 0&&(T=h?h.length:0),P===void 0&&(P=0),W===void 0&&(W=this.length),v<0||T>h.length||P<0||W>this.length)throw new RangeError("out of range index");if(P>=W&&v>=T)return 0;if(P>=W)return-1;if(v>=T)return 1;if(v>>>=0,T>>>=0,P>>>=0,W>>>=0,this===h)return 0;for(var J=W-P,re=T-v,oe=Math.min(J,re),we=this.slice(P,W),he=h.slice(v,T),ue=0;ue<oe;++ue)if(we[ue]!==he[ue]){J=we[ue],re=he[ue];break}return J<re?-1:re<J?1:0};function V(m,h,v,T,P){if(m.length===0)return-1;if(typeof v=="string"?(T=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,Z(v)&&(v=P?0:m.length-1),v<0&&(v=m.length+v),v>=m.length){if(P)return-1;v=m.length-1}else if(v<0)if(P)v=0;else return-1;if(typeof h=="string"&&(h=a.from(h,T)),a.isBuffer(h))return h.length===0?-1:K(m,h,v,T,P);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(m,h,v):Uint8Array.prototype.lastIndexOf.call(m,h,v):K(m,[h],v,T,P);throw new TypeError("val must be string, number or Buffer")}function K(m,h,v,T,P){var W=1,J=m.length,re=h.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(m.length<2||h.length<2)return-1;W=2,J/=2,re/=2,v/=2}function oe(Me,Ce){return W===1?Me[Ce]:Me.readUInt16BE(Ce*W)}var we;if(P){var he=-1;for(we=v;we<J;we++)if(oe(m,we)===oe(h,he===-1?0:we-he)){if(he===-1&&(he=we),we-he+1===re)return he*W}else he!==-1&&(we-=we-he),he=-1}else for(v+re>J&&(v=J-re),we=v;we>=0;we--){for(var ue=!0,ct=0;ct<re;ct++)if(oe(m,we+ct)!==oe(h,ct)){ue=!1;break}if(ue)return we}return-1}a.prototype.includes=function(h,v,T){return this.indexOf(h,v,T)!==-1},a.prototype.indexOf=function(h,v,T){return V(this,h,v,T,!0)},a.prototype.lastIndexOf=function(h,v,T){return V(this,h,v,T,!1)};function X(m,h,v,T){v=Number(v)||0;var P=m.length-v;T?(T=Number(T),T>P&&(T=P)):T=P;var W=h.length;T>W/2&&(T=W/2);for(var J=0;J<T;++J){var re=parseInt(h.substr(J*2,2),16);if(Z(re))return J;m[v+J]=re}return J}function q(m,h,v,T){return R(H(h,m.length-v),m,v,T)}function ne(m,h,v,T){return R(Y(h),m,v,T)}function ie(m,h,v,T){return R(C(h),m,v,T)}function ce(m,h,v,T){return R(ge(h,m.length-v),m,v,T)}a.prototype.write=function(h,v,T,P){if(v===void 0)P="utf8",T=this.length,v=0;else if(T===void 0&&typeof v=="string")P=v,T=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(T)?(T=T>>>0,P===void 0&&(P="utf8")):(P=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var W=this.length-v;if((T===void 0||T>W)&&(T=W),h.length>0&&(T<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var J=!1;;)switch(P){case"hex":return X(this,h,v,T);case"utf8":case"utf-8":return q(this,h,v,T);case"ascii":case"latin1":case"binary":return ne(this,h,v,T);case"base64":return ie(this,h,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,h,v,T);default:if(J)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(m,h,v){return h===0&&v===m.length?e.fromByteArray(m):e.fromByteArray(m.slice(h,v))}function c(m,h,v){v=Math.min(m.length,v);for(var T=[],P=h;P<v;){var W=m[P],J=null,re=W>239?4:W>223?3:W>191?2:1;if(P+re<=v){var oe,we,he,ue;switch(re){case 1:W<128&&(J=W);break;case 2:oe=m[P+1],(oe&192)===128&&(ue=(W&31)<<6|oe&63,ue>127&&(J=ue));break;case 3:oe=m[P+1],we=m[P+2],(oe&192)===128&&(we&192)===128&&(ue=(W&15)<<12|(oe&63)<<6|we&63,ue>2047&&(ue<55296||ue>57343)&&(J=ue));break;case 4:oe=m[P+1],we=m[P+2],he=m[P+3],(oe&192)===128&&(we&192)===128&&(he&192)===128&&(ue=(W&15)<<18|(oe&63)<<12|(we&63)<<6|he&63,ue>65535&&ue<1114112&&(J=ue))}}J===null?(J=65533,re=1):J>65535&&(J-=65536,T.push(J>>>10&1023|55296),J=56320|J&1023),T.push(J),P+=re}return b(T)}var g=4096;function b(m){var h=m.length;if(h<=g)return String.fromCharCode.apply(String,m);for(var v="",T=0;T<h;)v+=String.fromCharCode.apply(String,m.slice(T,T+=g));return v}function E(m,h,v){var T="";v=Math.min(m.length,v);for(var P=h;P<v;++P)T+=String.fromCharCode(m[P]&127);return T}function x(m,h,v){var T="";v=Math.min(m.length,v);for(var P=h;P<v;++P)T+=String.fromCharCode(m[P]);return T}function k(m,h,v){var T=m.length;(!h||h<0)&&(h=0),(!v||v<0||v>T)&&(v=T);for(var P="",W=h;W<v;++W)P+=fe[m[W]];return P}function L(m,h,v){for(var T=m.slice(h,v),P="",W=0;W<T.length-1;W+=2)P+=String.fromCharCode(T[W]+T[W+1]*256);return P}a.prototype.slice=function(h,v){var T=this.length;h=~~h,v=v===void 0?T:~~v,h<0?(h+=T,h<0&&(h=0)):h>T&&(h=T),v<0?(v+=T,v<0&&(v=0)):v>T&&(v=T),v<h&&(v=h);var P=this.subarray(h,v);return Object.setPrototypeOf(P,a.prototype),P};function w(m,h,v){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+h>v)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,v,T){h=h>>>0,v=v>>>0,T||w(h,v,this.length);for(var P=this[h],W=1,J=0;++J<v&&(W*=256);)P+=this[h+J]*W;return P},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,v,T){h=h>>>0,v=v>>>0,T||w(h,v,this.length);for(var P=this[h+--v],W=1;v>0&&(W*=256);)P+=this[h+--v]*W;return P},a.prototype.readUint8=a.prototype.readUInt8=function(h,v){return h=h>>>0,v||w(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,v){return h=h>>>0,v||w(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,v){return h=h>>>0,v||w(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,v){return h=h>>>0,v||w(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,v){return h=h>>>0,v||w(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readIntLE=function(h,v,T){h=h>>>0,v=v>>>0,T||w(h,v,this.length);for(var P=this[h],W=1,J=0;++J<v&&(W*=256);)P+=this[h+J]*W;return W*=128,P>=W&&(P-=Math.pow(2,8*v)),P},a.prototype.readIntBE=function(h,v,T){h=h>>>0,v=v>>>0,T||w(h,v,this.length);for(var P=v,W=1,J=this[h+--P];P>0&&(W*=256);)J+=this[h+--P]*W;return W*=128,J>=W&&(J-=Math.pow(2,8*v)),J},a.prototype.readInt8=function(h,v){return h=h>>>0,v||w(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,v){h=h>>>0,v||w(h,2,this.length);var T=this[h]|this[h+1]<<8;return T&32768?T|4294901760:T},a.prototype.readInt16BE=function(h,v){h=h>>>0,v||w(h,2,this.length);var T=this[h+1]|this[h]<<8;return T&32768?T|4294901760:T},a.prototype.readInt32LE=function(h,v){return h=h>>>0,v||w(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,v){return h=h>>>0,v||w(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readFloatLE=function(h,v){return h=h>>>0,v||w(h,4,this.length),r.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,v){return h=h>>>0,v||w(h,4,this.length),r.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,v){return h=h>>>0,v||w(h,8,this.length),r.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,v){return h=h>>>0,v||w(h,8,this.length),r.read(this,h,!1,52,8)};function f(m,h,v,T,P,W){if(!a.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>P||h<W)throw new RangeError('"value" argument is out of bounds');if(v+T>m.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,v,T,P){if(h=+h,v=v>>>0,T=T>>>0,!P){var W=Math.pow(2,8*T)-1;f(this,h,v,T,W,0)}var J=1,re=0;for(this[v]=h&255;++re<T&&(J*=256);)this[v+re]=h/J&255;return v+T},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,v,T,P){if(h=+h,v=v>>>0,T=T>>>0,!P){var W=Math.pow(2,8*T)-1;f(this,h,v,T,W,0)}var J=T-1,re=1;for(this[v+J]=h&255;--J>=0&&(re*=256);)this[v+J]=h/re&255;return v+T},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,1,255,0),this[v]=h&255,v+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,2,65535,0),this[v]=h&255,this[v+1]=h>>>8,v+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,2,65535,0),this[v]=h>>>8,this[v+1]=h&255,v+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,4,4294967295,0),this[v+3]=h>>>24,this[v+2]=h>>>16,this[v+1]=h>>>8,this[v]=h&255,v+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,4,4294967295,0),this[v]=h>>>24,this[v+1]=h>>>16,this[v+2]=h>>>8,this[v+3]=h&255,v+4},a.prototype.writeIntLE=function(h,v,T,P){if(h=+h,v=v>>>0,!P){var W=Math.pow(2,8*T-1);f(this,h,v,T,W-1,-W)}var J=0,re=1,oe=0;for(this[v]=h&255;++J<T&&(re*=256);)h<0&&oe===0&&this[v+J-1]!==0&&(oe=1),this[v+J]=(h/re>>0)-oe&255;return v+T},a.prototype.writeIntBE=function(h,v,T,P){if(h=+h,v=v>>>0,!P){var W=Math.pow(2,8*T-1);f(this,h,v,T,W-1,-W)}var J=T-1,re=1,oe=0;for(this[v+J]=h&255;--J>=0&&(re*=256);)h<0&&oe===0&&this[v+J+1]!==0&&(oe=1),this[v+J]=(h/re>>0)-oe&255;return v+T},a.prototype.writeInt8=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,1,127,-128),h<0&&(h=255+h+1),this[v]=h&255,v+1},a.prototype.writeInt16LE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,2,32767,-32768),this[v]=h&255,this[v+1]=h>>>8,v+2},a.prototype.writeInt16BE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,2,32767,-32768),this[v]=h>>>8,this[v+1]=h&255,v+2},a.prototype.writeInt32LE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,4,2147483647,-2147483648),this[v]=h&255,this[v+1]=h>>>8,this[v+2]=h>>>16,this[v+3]=h>>>24,v+4},a.prototype.writeInt32BE=function(h,v,T){return h=+h,v=v>>>0,T||f(this,h,v,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[v]=h>>>24,this[v+1]=h>>>16,this[v+2]=h>>>8,this[v+3]=h&255,v+4};function I(m,h,v,T,P,W){if(v+T>m.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Q(m,h,v,T,P){return h=+h,v=v>>>0,P||I(m,h,v,4),r.write(m,h,v,T,23,4),v+4}a.prototype.writeFloatLE=function(h,v,T){return Q(this,h,v,!0,T)},a.prototype.writeFloatBE=function(h,v,T){return Q(this,h,v,!1,T)};function ee(m,h,v,T,P){return h=+h,v=v>>>0,P||I(m,h,v,8),r.write(m,h,v,T,52,8),v+8}a.prototype.writeDoubleLE=function(h,v,T){return ee(this,h,v,!0,T)},a.prototype.writeDoubleBE=function(h,v,T){return ee(this,h,v,!1,T)},a.prototype.copy=function(h,v,T,P){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(T||(T=0),!P&&P!==0&&(P=this.length),v>=h.length&&(v=h.length),v||(v=0),P>0&&P<T&&(P=T),P===T||h.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),h.length-v<P-T&&(P=h.length-v+T);var W=P-T;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,T,P):Uint8Array.prototype.set.call(h,this.subarray(T,P),v),W},a.prototype.fill=function(h,v,T,P){if(typeof h=="string"){if(typeof v=="string"?(P=v,v=0,T=this.length):typeof T=="string"&&(P=T,T=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!a.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(h.length===1){var W=h.charCodeAt(0);(P==="utf8"&&W<128||P==="latin1")&&(h=W)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(v<0||this.length<v||this.length<T)throw new RangeError("Out of range index");if(T<=v)return this;v=v>>>0,T=T===void 0?this.length:T>>>0,h||(h=0);var J;if(typeof h=="number")for(J=v;J<T;++J)this[J]=h;else{var re=a.isBuffer(h)?h:a.from(h,P),oe=re.length;if(oe===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(J=0;J<T-v;++J)this[J+v]=re[J%oe]}return this};var N=/[^+/0-9A-Za-z-_]/g;function B(m){if(m=m.split("=")[0],m=m.trim().replace(N,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function H(m,h){h=h||1/0;for(var v,T=m.length,P=null,W=[],J=0;J<T;++J){if(v=m.charCodeAt(J),v>55295&&v<57344){if(!P){if(v>56319){(h-=3)>-1&&W.push(239,191,189);continue}else if(J+1===T){(h-=3)>-1&&W.push(239,191,189);continue}P=v;continue}if(v<56320){(h-=3)>-1&&W.push(239,191,189),P=v;continue}v=(P-55296<<10|v-56320)+65536}else P&&(h-=3)>-1&&W.push(239,191,189);if(P=null,v<128){if((h-=1)<0)break;W.push(v)}else if(v<2048){if((h-=2)<0)break;W.push(v>>6|192,v&63|128)}else if(v<65536){if((h-=3)<0)break;W.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((h-=4)<0)break;W.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return W}function Y(m){for(var h=[],v=0;v<m.length;++v)h.push(m.charCodeAt(v)&255);return h}function ge(m,h){for(var v,T,P,W=[],J=0;J<m.length&&!((h-=2)<0);++J)v=m.charCodeAt(J),T=v>>8,P=v%256,W.push(P),W.push(T);return W}function C(m){return e.toByteArray(B(m))}function R(m,h,v,T){for(var P=0;P<T&&!(P+v>=h.length||P>=m.length);++P)h[P+v]=m[P];return P}function z(m,h){return m instanceof h||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===h.name}function Z(m){return m!==m}var fe=function(){for(var m="0123456789abcdef",h=new Array(256),v=0;v<16;++v)for(var T=v*16,P=0;P<16;++P)h[T+P]=m[v]+m[P];return h}()})(os);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=os,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof u=="string"?l.fill(a,u):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(_u,_u.exports);var Fr=_u.exports,Qh=Fr.Buffer;function xo(t,e){this._block=Qh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}xo.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Qh.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,u=Math.min(i-o,n-a),l=0;l<u;l++)r[a+l]=t[o+l];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};xo.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};xo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var xi=xo,nv=Kt,Yh=xi,iv=Fr.Buffer,sv=[1518500249,1859775393,-1894007588,-899497514],ov=new Array(80);function as(){this.init(),this._w=ov,Yh.call(this,64,56)}nv(as,Yh);as.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function av(t){return t<<5|t>>>27}function uv(t){return t<<30|t>>>2}function cv(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}as.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var l=~~(u/20),d=av(r)+cv(l,n,i,s)+o+e[u]+sv[l]|0;o=s,s=i,i=uv(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};as.prototype._hash=function(){var t=iv.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var lv=as,fv=Kt,Kh=xi,hv=Fr.Buffer,dv=[1518500249,1859775393,-1894007588,-899497514],pv=new Array(80);function us(){this.init(),this._w=pv,Kh.call(this,64,56)}fv(us,Kh);us.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function gv(t){return t<<1|t>>>31}function vv(t){return t<<5|t>>>27}function yv(t){return t<<30|t>>>2}function bv(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}us.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=gv(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var l=~~(u/20),d=vv(r)+bv(l,n,i,s)+o+e[u]+dv[l]|0;o=s,s=i,i=yv(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};us.prototype._hash=function(){var t=hv.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var mv=us,_v=Kt,Xh=xi,wv=Fr.Buffer,Ev=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Sv=new Array(64);function cs(){this.init(),this._w=Sv,Xh.call(this,64,56)}_v(cs,Xh);cs.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function xv(t,e,r){return r^t&(e^r)}function Mv(t,e,r){return t&e|r&(t|e)}function Cv(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Rv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Iv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Av(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}cs.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,l=this._h|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<64;++d)e[d]=Av(e[d-2])+e[d-7]+Iv(e[d-15])+e[d-16]|0;for(var p=0;p<64;++p){var y=l+Rv(o)+xv(o,a,u)+Ev[p]+e[p]|0,M=Cv(r)+Mv(r,n,i)|0;l=u,u=a,a=o,o=s+y|0,s=i,i=n,n=r,r=y+M|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0};cs.prototype._hash=function(){var t=wv.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var ed=cs,Tv=Kt,kv=ed,Ov=xi,Nv=Fr.Buffer,Lv=new Array(64);function Mo(){this.init(),this._w=Lv,Ov.call(this,64,56)}Tv(Mo,kv);Mo.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Mo.prototype._hash=function(){var t=Nv.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Pv=Mo,$v=Kt,td=xi,Dv=Fr.Buffer,dl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Bv=new Array(160);function ls(){this.init(),this._w=Bv,td.call(this,128,112)}$v(ls,td);ls.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function pl(t,e,r){return r^t&(e^r)}function gl(t,e,r){return t&e|r&(t|e)}function vl(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function yl(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Fv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function jv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Uv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Wv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function lt(t,e){return t>>>0<e>>>0?1:0}ls.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,l=this._hh|0,d=this._al|0,p=this._bl|0,y=this._cl|0,M=this._dl|0,A=this._el|0,$=this._fl|0,F=this._gl|0,S=this._hl|0,O=0;O<32;O+=2)e[O]=t.readInt32BE(O*4),e[O+1]=t.readInt32BE(O*4+4);for(;O<160;O+=2){var D=e[O-30],U=e[O-15*2+1],j=Fv(D,U),V=jv(U,D);D=e[O-2*2],U=e[O-2*2+1];var K=Uv(D,U),X=Wv(U,D),q=e[O-7*2],ne=e[O-7*2+1],ie=e[O-16*2],ce=e[O-16*2+1],_=V+ne|0,c=j+q+lt(_,V)|0;_=_+X|0,c=c+K+lt(_,X)|0,_=_+ce|0,c=c+ie+lt(_,ce)|0,e[O]=c,e[O+1]=_}for(var g=0;g<160;g+=2){c=e[g],_=e[g+1];var b=gl(r,n,i),E=gl(d,p,y),x=vl(r,d),k=vl(d,r),L=yl(o,A),w=yl(A,o),f=dl[g],I=dl[g+1],Q=pl(o,a,u),ee=pl(A,$,F),N=S+w|0,B=l+L+lt(N,S)|0;N=N+ee|0,B=B+Q+lt(N,ee)|0,N=N+I|0,B=B+f+lt(N,I)|0,N=N+_|0,B=B+c+lt(N,_)|0;var H=k+E|0,Y=x+b+lt(H,k)|0;l=u,S=F,u=a,F=$,a=o,$=A,A=M+N|0,o=s+B+lt(A,M)|0,s=i,M=y,i=n,y=p,n=r,p=d,d=N+H|0,r=B+Y+lt(d,N)|0}this._al=this._al+d|0,this._bl=this._bl+p|0,this._cl=this._cl+y|0,this._dl=this._dl+M|0,this._el=this._el+A|0,this._fl=this._fl+$|0,this._gl=this._gl+F|0,this._hl=this._hl+S|0,this._ah=this._ah+r+lt(this._al,d)|0,this._bh=this._bh+n+lt(this._bl,p)|0,this._ch=this._ch+i+lt(this._cl,y)|0,this._dh=this._dh+s+lt(this._dl,M)|0,this._eh=this._eh+o+lt(this._el,A)|0,this._fh=this._fh+a+lt(this._fl,$)|0,this._gh=this._gh+u+lt(this._gl,F)|0,this._hh=this._hh+l+lt(this._hl,S)|0};ls.prototype._hash=function(){var t=Dv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var rd=ls,Hv=Kt,Vv=rd,zv=xi,qv=Fr.Buffer,Gv=new Array(160);function Co(){this.init(),this._w=Gv,zv.call(this,128,112)}Hv(Co,Vv);Co.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Co.prototype._hash=function(){var t=qv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Jv=Co,En=Zh.exports=function(e){e=e.toLowerCase();var r=En[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};En.sha=lv;En.sha1=mv;En.sha224=Pv;En.sha256=ed;En.sha384=Jv;En.sha512=rd;var Zv=Zh.exports,se={},Qv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},bl=typeof Symbol<"u"&&Symbol,Yv=Qv,Kv=function(){return typeof bl!="function"||typeof Symbol!="function"||typeof bl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Yv()},ml={foo:{}},Xv=Object,ey=function(){return{__proto__:ml}.foo===ml.foo&&!({__proto__:null}instanceof Xv)},ty="Function.prototype.bind called on incompatible ",ry=Object.prototype.toString,ny=Math.max,iy="[object Function]",_l=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},sy=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},oy=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},ay=function(e){var r=this;if(typeof r!="function"||ry.apply(r)!==iy)throw new TypeError(ty+r);for(var n=sy(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,_l(n,arguments));return Object(d)===d?d:this}return r.apply(e,_l(n,arguments))},o=ny(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+oy(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},uy=ay,tc=Function.prototype.bind||uy,cy=Function.prototype.call,ly=Object.prototype.hasOwnProperty,fy=tc,hy=fy.call(cy,ly),me,oi=SyntaxError,nd=Function,Xn=TypeError,Aa=function(t){try{return nd('"use strict"; return ('+t+").constructor;")()}catch{}},dn=Object.getOwnPropertyDescriptor;if(dn)try{dn({},"")}catch{dn=null}var Ta=function(){throw new Xn},dy=dn?function(){try{return arguments.callee,Ta}catch{try{return dn(arguments,"callee").get}catch{return Ta}}}():Ta,Un=Kv(),py=ey(),dt=Object.getPrototypeOf||(py?function(t){return t.__proto__}:null),Jn={},gy=typeof Uint8Array>"u"||!dt?me:dt(Uint8Array),pn={"%AggregateError%":typeof AggregateError>"u"?me:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?me:ArrayBuffer,"%ArrayIteratorPrototype%":Un&&dt?dt([][Symbol.iterator]()):me,"%AsyncFromSyncIteratorPrototype%":me,"%AsyncFunction%":Jn,"%AsyncGenerator%":Jn,"%AsyncGeneratorFunction%":Jn,"%AsyncIteratorPrototype%":Jn,"%Atomics%":typeof Atomics>"u"?me:Atomics,"%BigInt%":typeof BigInt>"u"?me:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?me:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?me:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?me:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?me:Float32Array,"%Float64Array%":typeof Float64Array>"u"?me:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?me:FinalizationRegistry,"%Function%":nd,"%GeneratorFunction%":Jn,"%Int8Array%":typeof Int8Array>"u"?me:Int8Array,"%Int16Array%":typeof Int16Array>"u"?me:Int16Array,"%Int32Array%":typeof Int32Array>"u"?me:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Un&&dt?dt(dt([][Symbol.iterator]())):me,"%JSON%":typeof JSON=="object"?JSON:me,"%Map%":typeof Map>"u"?me:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Un||!dt?me:dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?me:Promise,"%Proxy%":typeof Proxy>"u"?me:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?me:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?me:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Un||!dt?me:dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?me:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Un&&dt?dt(""[Symbol.iterator]()):me,"%Symbol%":Un?Symbol:me,"%SyntaxError%":oi,"%ThrowTypeError%":dy,"%TypedArray%":gy,"%TypeError%":Xn,"%Uint8Array%":typeof Uint8Array>"u"?me:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?me:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?me:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?me:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?me:WeakMap,"%WeakRef%":typeof WeakRef>"u"?me:WeakRef,"%WeakSet%":typeof WeakSet>"u"?me:WeakSet};if(dt)try{null.error}catch(t){var vy=dt(dt(t));pn["%Error.prototype%"]=vy}var yy=function t(e){var r;if(e==="%AsyncFunction%")r=Aa("async function () {}");else if(e==="%GeneratorFunction%")r=Aa("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Aa("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&dt&&(r=dt(i.prototype))}return pn[e]=r,r},wl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fs=tc,eo=hy,by=fs.call(Function.call,Array.prototype.concat),my=fs.call(Function.apply,Array.prototype.splice),El=fs.call(Function.call,String.prototype.replace),to=fs.call(Function.call,String.prototype.slice),_y=fs.call(Function.call,RegExp.prototype.exec),wy=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ey=/\\(\\)?/g,Sy=function(e){var r=to(e,0,1),n=to(e,-1);if(r==="%"&&n!=="%")throw new oi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new oi("invalid intrinsic syntax, expected opening `%`");var i=[];return El(e,wy,function(s,o,a,u){i[i.length]=a?El(u,Ey,"$1"):o||s}),i},xy=function(e,r){var n=e,i;if(eo(wl,n)&&(i=wl[n],n="%"+i[0]+"%"),eo(pn,n)){var s=pn[n];if(s===Jn&&(s=yy(n)),typeof s>"u"&&!r)throw new Xn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new oi("intrinsic "+e+" does not exist!")},Sn=function(e,r){if(typeof e!="string"||e.length===0)throw new Xn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xn('"allowMissing" argument must be a boolean');if(_y(/^%?[^%]*%?$/,e)===null)throw new oi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Sy(e),i=n.length>0?n[0]:"",s=xy("%"+i+"%",r),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],my(n,by([0,1],l)));for(var d=1,p=!0;d<n.length;d+=1){var y=n[d],M=to(y,0,1),A=to(y,-1);if((M==='"'||M==="'"||M==="`"||A==='"'||A==="'"||A==="`")&&M!==A)throw new oi("property names with quotes must have matching quotes");if((y==="constructor"||!p)&&(u=!0),i+="."+y,o="%"+i+"%",eo(pn,o))a=pn[o];else if(a!=null){if(!(y in a)){if(!r)throw new Xn("base intrinsic for "+e+" exists, but the property is not available.");return}if(dn&&d+1>=n.length){var $=dn(a,y);p=!!$,p&&"get"in $&&!("originalValue"in $.get)?a=$.get:a=a[y]}else p=eo(a,y),a=a[y];p&&!u&&(pn[o]=a)}}return a},id={exports:{}},My=Sn,wu=My("%Object.defineProperty%",!0),Eu=function(){if(wu)try{return wu({},"a",{value:1}),!0}catch{return!1}return!1};Eu.hasArrayLengthDefineBug=function(){if(!Eu())return null;try{return wu([],"length",{value:1}).length!==1}catch{return!0}};var sd=Eu,Cy=Sn,Gs=Cy("%Object.getOwnPropertyDescriptor%",!0);if(Gs)try{Gs([],"length")}catch{Gs=null}var od=Gs,Ry=sd(),rc=Sn,Wi=Ry&&rc("%Object.defineProperty%",!0);if(Wi)try{Wi({},"a",{value:1})}catch{Wi=!1}var Iy=rc("%SyntaxError%"),Wn=rc("%TypeError%"),Sl=od,Ay=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Wn("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Wn("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Wn("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Wn("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Wn("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Wn("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!Sl&&Sl(e,r);if(Wi)Wi(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Iy("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ad=Sn,xl=Ay,Ty=sd(),Ml=od,Cl=ad("%TypeError%"),ky=ad("%Math.floor%"),Oy=function(e,r){if(typeof e!="function")throw new Cl("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||ky(r)!==r)throw new Cl("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&Ml){var o=Ml(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(Ty?xl(e,"length",r,!0,!0):xl(e,"length",r)),e};(function(t){var e=tc,r=Sn,n=Oy,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),u=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(y){if(typeof y!="function")throw new i("a function is required");var M=a(e,o,arguments);return n(M,1+l(0,y.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d})(id);var Ny=id.exports,ud=Sn,cd=Ny,Ly=cd(ud("String.prototype.indexOf")),Py=function(e,r){var n=ud(e,!!r);return typeof n=="function"&&Ly(e,".prototype.")>-1?cd(n):n},nc=typeof Map=="function"&&Map.prototype,ka=Object.getOwnPropertyDescriptor&&nc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ro=nc&&ka&&typeof ka.get=="function"?ka.get:null,Rl=nc&&Map.prototype.forEach,ic=typeof Set=="function"&&Set.prototype,Oa=Object.getOwnPropertyDescriptor&&ic?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,no=ic&&Oa&&typeof Oa.get=="function"?Oa.get:null,Il=ic&&Set.prototype.forEach,$y=typeof WeakMap=="function"&&WeakMap.prototype,Hi=$y?WeakMap.prototype.has:null,Dy=typeof WeakSet=="function"&&WeakSet.prototype,Vi=Dy?WeakSet.prototype.has:null,By=typeof WeakRef=="function"&&WeakRef.prototype,Al=By?WeakRef.prototype.deref:null,Fy=Boolean.prototype.valueOf,jy=Object.prototype.toString,Uy=Function.prototype.toString,Wy=String.prototype.match,sc=String.prototype.slice,Tr=String.prototype.replace,Hy=String.prototype.toUpperCase,Tl=String.prototype.toLowerCase,ld=RegExp.prototype.test,kl=Array.prototype.concat,ar=Array.prototype.join,Vy=Array.prototype.slice,Ol=Math.floor,Su=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Na=Object.getOwnPropertySymbols,xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ai=typeof Symbol=="function"&&typeof Symbol.iterator=="object",St=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ai||"symbol")?Symbol.toStringTag:null,fd=Object.prototype.propertyIsEnumerable,Nl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Ll(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ld.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Ol(-t):Ol(t);if(n!==t){var i=String(n),s=sc.call(e,i.length+1);return Tr.call(i,r,"$&_")+"."+Tr.call(Tr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Tr.call(e,r,"$&_")}var Mu=yo,Pl=Mu.custom,$l=dd(Pl)?Pl:null,zy=function t(e,r,n,i){var s=r||{};if(Rr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Rr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Rr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Rr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Rr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return gd(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?Ll(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?Ll(e,l):l}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Cu(e)?"[Array]":"[Object]";var p=cb(s,n);if(typeof i>"u")i=[];else if(pd(i,e)>=0)return"[Circular]";function y(_,c,g){if(c&&(i=Vy.call(i),i.push(c)),g){var b={depth:s.depth};return Rr(s,"quoteStyle")&&(b.quoteStyle=s.quoteStyle),t(_,b,n+1,i)}return t(_,s,n+1,i)}if(typeof e=="function"&&!Dl(e)){var M=eb(e),A=Os(e,y);return"[Function"+(M?": "+M:" (anonymous)")+"]"+(A.length>0?" { "+ar.call(A,", ")+" }":"")}if(dd(e)){var $=ai?Tr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):xu.call(e);return typeof e=="object"&&!ai?Pi($):$}if(ob(e)){for(var F="<"+Tl.call(String(e.nodeName)),S=e.attributes||[],O=0;O<S.length;O++)F+=" "+S[O].name+"="+hd(qy(S[O].value),"double",s);return F+=">",e.childNodes&&e.childNodes.length&&(F+="..."),F+="</"+Tl.call(String(e.nodeName))+">",F}if(Cu(e)){if(e.length===0)return"[]";var D=Os(e,y);return p&&!ub(D)?"["+Ru(D,p)+"]":"[ "+ar.call(D,", ")+" ]"}if(Jy(e)){var U=Os(e,y);return!("cause"in Error.prototype)&&"cause"in e&&!fd.call(e,"cause")?"{ ["+String(e)+"] "+ar.call(kl.call("[cause]: "+y(e.cause),U),", ")+" }":U.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ar.call(U,", ")+" }"}if(typeof e=="object"&&o){if($l&&typeof e[$l]=="function"&&Mu)return Mu(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(tb(e)){var j=[];return Rl&&Rl.call(e,function(_,c){j.push(y(c,e,!0)+" => "+y(_,e))}),Bl("Map",ro.call(e),j,p)}if(ib(e)){var V=[];return Il&&Il.call(e,function(_){V.push(y(_,e))}),Bl("Set",no.call(e),V,p)}if(rb(e))return La("WeakMap");if(sb(e))return La("WeakSet");if(nb(e))return La("WeakRef");if(Qy(e))return Pi(y(Number(e)));if(Ky(e))return Pi(y(Su.call(e)));if(Yy(e))return Pi(Fy.call(e));if(Zy(e))return Pi(y(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===te)return"{ [object globalThis] }";if(!Gy(e)&&!Dl(e)){var K=Os(e,y),X=Nl?Nl(e)===Object.prototype:e instanceof Object||e.constructor===Object,q=e instanceof Object?"":"null prototype",ne=!X&&St&&Object(e)===e&&St in e?sc.call(jr(e),8,-1):q?"Object":"",ie=X||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ce=ie+(ne||q?"["+ar.call(kl.call([],ne||[],q||[]),": ")+"] ":"");return K.length===0?ce+"{}":p?ce+"{"+Ru(K,p)+"}":ce+"{ "+ar.call(K,", ")+" }"}return String(e)};function hd(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function qy(t){return Tr.call(String(t),/"/g,"&quot;")}function Cu(t){return jr(t)==="[object Array]"&&(!St||!(typeof t=="object"&&St in t))}function Gy(t){return jr(t)==="[object Date]"&&(!St||!(typeof t=="object"&&St in t))}function Dl(t){return jr(t)==="[object RegExp]"&&(!St||!(typeof t=="object"&&St in t))}function Jy(t){return jr(t)==="[object Error]"&&(!St||!(typeof t=="object"&&St in t))}function Zy(t){return jr(t)==="[object String]"&&(!St||!(typeof t=="object"&&St in t))}function Qy(t){return jr(t)==="[object Number]"&&(!St||!(typeof t=="object"&&St in t))}function Yy(t){return jr(t)==="[object Boolean]"&&(!St||!(typeof t=="object"&&St in t))}function dd(t){if(ai)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!xu)return!1;try{return xu.call(t),!0}catch{}return!1}function Ky(t){if(!t||typeof t!="object"||!Su)return!1;try{return Su.call(t),!0}catch{}return!1}var Xy=Object.prototype.hasOwnProperty||function(t){return t in this};function Rr(t,e){return Xy.call(t,e)}function jr(t){return jy.call(t)}function eb(t){if(t.name)return t.name;var e=Wy.call(Uy.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function pd(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function tb(t){if(!ro||!t||typeof t!="object")return!1;try{ro.call(t);try{no.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function rb(t){if(!Hi||!t||typeof t!="object")return!1;try{Hi.call(t,Hi);try{Vi.call(t,Vi)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function nb(t){if(!Al||!t||typeof t!="object")return!1;try{return Al.call(t),!0}catch{}return!1}function ib(t){if(!no||!t||typeof t!="object")return!1;try{no.call(t);try{ro.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function sb(t){if(!Vi||!t||typeof t!="object")return!1;try{Vi.call(t,Vi);try{Hi.call(t,Hi)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function ob(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function gd(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return gd(sc.call(t,0,e.maxStringLength),e)+n}var i=Tr.call(Tr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ab);return hd(i,"single",e)}function ab(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Hy.call(e.toString(16))}function Pi(t){return"Object("+t+")"}function La(t){return t+" { ? }"}function Bl(t,e,r,n){var i=n?Ru(r,n):ar.call(r,", ");return t+" ("+e+") {"+i+"}"}function ub(t){for(var e=0;e<t.length;e++)if(pd(t[e],`
`)>=0)return!1;return!0}function cb(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ar.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ar.call(Array(e+1),r)}}function Ru(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ar.call(t,","+r)+`
`+e.prev}function Os(t,e){var r=Cu(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Rr(t,i)?e(t[i],t):""}var s=typeof Na=="function"?Na(t):[],o;if(ai){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)Rr(t,u)&&(r&&String(Number(u))===u&&u<t.length||ai&&o["$"+u]instanceof Symbol||(ld.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof Na=="function")for(var l=0;l<s.length;l++)fd.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var oc=Sn,Mi=Py,lb=zy,fb=oc("%TypeError%"),Ns=oc("%WeakMap%",!0),Ls=oc("%Map%",!0),hb=Mi("WeakMap.prototype.get",!0),db=Mi("WeakMap.prototype.set",!0),pb=Mi("WeakMap.prototype.has",!0),gb=Mi("Map.prototype.get",!0),vb=Mi("Map.prototype.set",!0),yb=Mi("Map.prototype.has",!0),ac=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},bb=function(t,e){var r=ac(t,e);return r&&r.value},mb=function(t,e,r){var n=ac(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},_b=function(t,e){return!!ac(t,e)},wb=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new fb("Side channel does not contain "+lb(s))},get:function(s){if(Ns&&s&&(typeof s=="object"||typeof s=="function")){if(e)return hb(e,s)}else if(Ls){if(r)return gb(r,s)}else if(n)return bb(n,s)},has:function(s){if(Ns&&s&&(typeof s=="object"||typeof s=="function")){if(e)return pb(e,s)}else if(Ls){if(r)return yb(r,s)}else if(n)return _b(n,s);return!1},set:function(s,o){Ns&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ns),db(e,s,o)):Ls?(r||(r=new Ls),vb(r,s,o)):(n||(n={key:{},next:null}),mb(n,s,o))}};return i},Eb=String.prototype.replace,Sb=/%20/g,Pa={RFC1738:"RFC1738",RFC3986:"RFC3986"},uc={default:Pa.RFC3986,formatters:{RFC1738:function(t){return Eb.call(t,Sb,"+")},RFC3986:function(t){return String(t)}},RFC1738:Pa.RFC1738,RFC3986:Pa.RFC3986},xb=uc,$a=Object.prototype.hasOwnProperty,sn=Array.isArray,tr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Mb=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(sn(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},vd=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Cb=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(sn(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!$a.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return sn(e)&&!sn(r)&&(i=vd(e,n)),sn(e)&&sn(r)?(r.forEach(function(s,o){if($a.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return $a.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Rb=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Ib=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Ab=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===xb.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+tr[l];continue}if(l<2048){a=a+(tr[192|l>>6]+tr[128|l&63]);continue}if(l<55296||l>=57344){a=a+(tr[224|l>>12]+tr[128|l>>6&63]+tr[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=tr[240|l>>18]+tr[128|l>>12&63]+tr[128|l>>6&63]+tr[128|l&63]}return a},Tb=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],d=o[l];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:l}),n.push(d))}return Mb(r),e},kb=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ob=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Nb=function(e,r){return[].concat(e,r)},Lb=function(e,r){if(sn(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},yd={arrayToObject:vd,assign:Rb,combine:Nb,compact:Tb,decode:Ib,encode:Ab,isBuffer:Ob,isRegExp:kb,maybeMap:Lb,merge:Cb},bd=wb,Iu=yd,zi=uc,Pb=Object.prototype.hasOwnProperty,Fl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},vr=Array.isArray,$b=String.prototype.split,Db=Array.prototype.push,md=function(t,e){Db.apply(t,vr(e)?e:[e])},Bb=Date.prototype.toISOString,jl=zi.default,yt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Iu.encode,encodeValuesOnly:!1,format:jl,formatter:zi.formatters[jl],indices:!1,serializeDate:function(e){return Bb.call(e)},skipNulls:!1,strictNullHandling:!1},Fb=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Da={},jb=function t(e,r,n,i,s,o,a,u,l,d,p,y,M,A,$,F){for(var S=e,O=F,D=0,U=!1;(O=O.get(Da))!==void 0&&!U;){var j=O.get(e);if(D+=1,typeof j<"u"){if(j===D)throw new RangeError("Cyclic object value");U=!0}typeof O.get(Da)>"u"&&(D=0)}if(typeof u=="function"?S=u(r,S):S instanceof Date?S=p(S):n==="comma"&&vr(S)&&(S=Iu.maybeMap(S,function(k){return k instanceof Date?p(k):k})),S===null){if(s)return a&&!A?a(r,yt.encoder,$,"key",y):r;S=""}if(Fb(S)||Iu.isBuffer(S)){if(a){var V=A?r:a(r,yt.encoder,$,"key",y);if(n==="comma"&&A){for(var K=$b.call(String(S),","),X="",q=0;q<K.length;++q)X+=(q===0?"":",")+M(a(K[q],yt.encoder,$,"value",y));return[M(V)+(i&&vr(S)&&K.length===1?"[]":"")+"="+X]}return[M(V)+"="+M(a(S,yt.encoder,$,"value",y))]}return[M(r)+"="+M(String(S))]}var ne=[];if(typeof S>"u")return ne;var ie;if(n==="comma"&&vr(S))ie=[{value:S.length>0?S.join(",")||null:void 0}];else if(vr(u))ie=u;else{var ce=Object.keys(S);ie=l?ce.sort(l):ce}for(var _=i&&vr(S)&&S.length===1?r+"[]":r,c=0;c<ie.length;++c){var g=ie[c],b=typeof g=="object"&&typeof g.value<"u"?g.value:S[g];if(!(o&&b===null)){var E=vr(S)?typeof n=="function"?n(_,g):_:_+(d?"."+g:"["+g+"]");F.set(e,D);var x=bd();x.set(Da,F),md(ne,t(b,E,n,i,s,o,a,u,l,d,p,y,M,A,$,x))}}return ne},Ub=function(e){if(!e)return yt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||yt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=zi.default;if(typeof e.format<"u"){if(!Pb.call(zi.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=zi.formatters[n],s=yt.filter;return(typeof e.filter=="function"||vr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?yt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yt.charsetSentinel,delimiter:typeof e.delimiter>"u"?yt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yt.encode,encoder:typeof e.encoder=="function"?e.encoder:yt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yt.strictNullHandling}},Wb=function(t,e){var r=t,n=Ub(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):vr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Fl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=Fl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=bd(),p=0;p<i.length;++p){var y=i[p];n.skipNulls&&r[y]===null||md(o,jb(r[y],y,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var M=o.join(n.delimiter),A=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),M.length>0?A+M:""},ui=yd,Au=Object.prototype.hasOwnProperty,Hb=Array.isArray,ft={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ui.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Vb=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},_d=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},zb="utf8=%26%2310003%3B",qb="utf8=%E2%9C%93",Gb=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===qb?l="utf-8":o[u]===zb&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var d=o[u],p=d.indexOf("]="),y=p===-1?d.indexOf("="):p+1,M,A;y===-1?(M=r.decoder(d,ft.decoder,l,"key"),A=r.strictNullHandling?null:""):(M=r.decoder(d.slice(0,y),ft.decoder,l,"key"),A=ui.maybeMap(_d(d.slice(y+1),r),function($){return r.decoder($,ft.decoder,l,"value")})),A&&r.interpretNumericEntities&&l==="iso-8859-1"&&(A=Vb(A)),d.indexOf("[]=")>-1&&(A=Hb(A)?[A]:A),Au.call(n,M)?n[M]=ui.combine(n[M],A):n[M]=A}return n},Jb=function(t,e,r,n){for(var i=n?e:_d(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},Zb=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,d=[];if(l){if(!n.plainObjects&&Au.call(Object.prototype,l)&&!n.allowPrototypes)return;d.push(l)}for(var p=0;n.depth>0&&(u=a.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Au.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(u[1])}return u&&d.push("["+s.slice(u.index)+"]"),Jb(d,r,n,i)}},Qb=function(e){if(!e)return ft;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ft.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ft.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ft.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ft.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ft.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ft.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ft.comma,decoder:typeof e.decoder=="function"?e.decoder:ft.decoder,delimiter:typeof e.delimiter=="string"||ui.isRegExp(e.delimiter)?e.delimiter:ft.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ft.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ft.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ft.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ft.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ft.strictNullHandling}},Yb=function(t,e){var r=Qb(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Gb(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=Zb(a,n[a],r,typeof t=="string");i=ui.merge(i,u,r)}return r.allowSparse===!0?i:ui.compact(i)},Kb=Wb,Xb=Yb,em=uc,tm={formats:em,parse:Xb,stringify:Kb},hs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(hs);var rm=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(se,"__esModule",{value:!0});se.isInIFrame=se.createQrUrl=se.getFavicon=se.range=se.isBigNumber=se.ensureParsedJSONObject=se.ensureBN=se.ensureRegExpString=se.ensureIntNumber=se.ensureBuffer=se.ensureAddressString=se.ensureEvenLengthHexString=se.ensureHexString=se.isHexString=se.prepend0x=se.strip0x=se.has0xPrefix=se.hexStringFromIntNumber=se.intNumberFromHexString=se.bigIntStringFromBN=se.hexStringFromBuffer=se.hexStringToUint8Array=se.uint8ArrayToHex=se.randomBytesHex=void 0;const Ir=rm(wo),nm=tm,xn=ss,Wt=hs,wd=/^[0-9]*$/,Ed=/^[a-f0-9]*$/;function im(t){return Sd(crypto.getRandomValues(new Uint8Array(t)))}se.randomBytesHex=im;function Sd(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}se.uint8ArrayToHex=Sd;function sm(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}se.hexStringToUint8Array=sm;function om(t,e=!1){const r=t.toString("hex");return(0,Wt.HexString)(e?"0x"+r:r)}se.hexStringFromBuffer=om;function am(t){return(0,Wt.BigIntString)(t.toString(10))}se.bigIntStringFromBN=am;function um(t){return(0,Wt.IntNumber)(new Ir.default(ps(t,!1),16).toNumber())}se.intNumberFromHexString=um;function cm(t){return(0,Wt.HexString)("0x"+new Ir.default(t).toString(16))}se.hexStringFromIntNumber=cm;function cc(t){return t.startsWith("0x")||t.startsWith("0X")}se.has0xPrefix=cc;function Ro(t){return cc(t)?t.slice(2):t}se.strip0x=Ro;function xd(t){return cc(t)?"0x"+t.slice(2):"0x"+t}se.prepend0x=xd;function ds(t){if(typeof t!="string")return!1;const e=Ro(t).toLowerCase();return Ed.test(e)}se.isHexString=ds;function Md(t,e=!1){if(typeof t=="string"){const r=Ro(t).toLowerCase();if(Ed.test(r))return(0,Wt.HexString)(e?"0x"+r:r)}throw xn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}se.ensureHexString=Md;function ps(t,e=!1){let r=Md(t,!1);return r.length%2===1&&(r=(0,Wt.HexString)("0"+r)),e?(0,Wt.HexString)("0x"+r):r}se.ensureEvenLengthHexString=ps;function lm(t){if(typeof t=="string"){const e=Ro(t).toLowerCase();if(ds(e)&&e.length===40)return(0,Wt.AddressString)(xd(e))}throw xn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}se.ensureAddressString=lm;function fm(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(ds(t)){const e=ps(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw xn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}se.ensureBuffer=fm;function Cd(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Wt.IntNumber)(t);if(typeof t=="string"){if(wd.test(t))return(0,Wt.IntNumber)(Number(t));if(ds(t))return(0,Wt.IntNumber)(new Ir.default(ps(t,!1),16).toNumber())}throw xn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}se.ensureIntNumber=Cd;function hm(t){if(t instanceof RegExp)return(0,Wt.RegExpString)(t.toString());throw xn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}se.ensureRegExpString=hm;function dm(t){if(t!==null&&(Ir.default.isBN(t)||Rd(t)))return new Ir.default(t.toString(10),10);if(typeof t=="number")return new Ir.default(Cd(t));if(typeof t=="string"){if(wd.test(t))return new Ir.default(t,10);if(ds(t))return new Ir.default(ps(t,!1),16)}throw xn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}se.ensureBN=dm;function pm(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw xn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}se.ensureParsedJSONObject=pm;function Rd(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}se.isBigNumber=Rd;function gm(t,e){return Array.from({length:e-t},(r,n)=>t+n)}se.range=gm;function vm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}se.getFavicon=vm;function ym(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,nm.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}se.createQrUrl=ym;function bm(){try{return window.frameElement!==null}catch{return!1}}se.isInIFrame=bm;Object.defineProperty(Si,"__esModule",{value:!0});Si.Session=void 0;const Ul=Zv,Wl=se,Hl="session:id",Vl="session:secret",zl="session:linked";class lc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Wl.randomBytesHex)(16),this._secret=n||(0,Wl.randomBytesHex)(32),this._key=new Ul.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Hl),n=e.getItem(zl),i=e.getItem(Vl);return r&&i?new lc(e,r,i,n==="1"):null}static hash(e){return new Ul.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Hl,this._id),this._storage.setItem(Vl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(zl,this._linked?"1":"0")}}Si.Session=lc;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.WalletSDKRelayAbstract=Yt.APP_VERSION_KEY=Yt.LOCAL_STORAGE_ADDRESSES_KEY=Yt.WALLET_USER_NAME_KEY=void 0;const ql=ss;Yt.WALLET_USER_NAME_KEY="walletUsername";Yt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Yt.APP_VERSION_KEY="AppVersion";class mm{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw ql.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,ql.serializeError)(s,e.method);return i})}}Yt.WalletSDKRelayAbstract=mm;var Tu={exports:{}},Id=Qu.EventEmitter,Ba,Gl;function _m(){if(Gl)return Ba;Gl=1;function t(A,$){var F=Object.keys(A);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(A);$&&(S=S.filter(function(O){return Object.getOwnPropertyDescriptor(A,O).enumerable})),F.push.apply(F,S)}return F}function e(A){for(var $=1;$<arguments.length;$++){var F=arguments[$]!=null?arguments[$]:{};$%2?t(Object(F),!0).forEach(function(S){r(A,S,F[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):t(Object(F)).forEach(function(S){Object.defineProperty(A,S,Object.getOwnPropertyDescriptor(F,S))})}return A}function r(A,$,F){return $=o($),$ in A?Object.defineProperty(A,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):A[$]=F,A}function n(A,$){if(!(A instanceof $))throw new TypeError("Cannot call a class as a function")}function i(A,$){for(var F=0;F<$.length;F++){var S=$[F];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(A,o(S.key),S)}}function s(A,$,F){return $&&i(A.prototype,$),F&&i(A,F),Object.defineProperty(A,"prototype",{writable:!1}),A}function o(A){var $=a(A,"string");return typeof $=="symbol"?$:String($)}function a(A,$){if(typeof A!="object"||A===null)return A;var F=A[Symbol.toPrimitive];if(F!==void 0){var S=F.call(A,$||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(A)}var u=os,l=u.Buffer,d=yo,p=d.inspect,y=p&&p.custom||"inspect";function M(A,$,F){l.prototype.copy.call(A,$,F)}return Ba=function(){function A(){n(this,A),this.head=null,this.tail=null,this.length=0}return s(A,[{key:"push",value:function(F){var S={data:F,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(F){var S={data:F,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var F=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,F}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(F){if(this.length===0)return"";for(var S=this.head,O=""+S.data;S=S.next;)O+=F+S.data;return O}},{key:"concat",value:function(F){if(this.length===0)return l.alloc(0);for(var S=l.allocUnsafe(F>>>0),O=this.head,D=0;O;)M(O.data,S,D),D+=O.data.length,O=O.next;return S}},{key:"consume",value:function(F,S){var O;return F<this.head.data.length?(O=this.head.data.slice(0,F),this.head.data=this.head.data.slice(F)):F===this.head.data.length?O=this.shift():O=S?this._getString(F):this._getBuffer(F),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(F){var S=this.head,O=1,D=S.data;for(F-=D.length;S=S.next;){var U=S.data,j=F>U.length?U.length:F;if(j===U.length?D+=U:D+=U.slice(0,F),F-=j,F===0){j===U.length?(++O,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=U.slice(j));break}++O}return this.length-=O,D}},{key:"_getBuffer",value:function(F){var S=l.allocUnsafe(F),O=this.head,D=1;for(O.data.copy(S),F-=O.data.length;O=O.next;){var U=O.data,j=F>U.length?U.length:F;if(U.copy(S,S.length-F,0,j),F-=j,F===0){j===U.length?(++D,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=U.slice(j));break}++D}return this.length-=D,S}},{key:y,value:function(F,S){return p(this,e(e({},S),{},{depth:0,customInspect:!1}))}}]),A}(),Ba}function wm(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ku,this,t)):process.nextTick(ku,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Js,r):(r._writableState.errorEmitted=!0,process.nextTick(Jl,r,s)):process.nextTick(Jl,r,s):e?(process.nextTick(Js,r),e(s)):process.nextTick(Js,r)}),this)}function Jl(t,e){ku(t,e),Js(t)}function Js(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Em(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ku(t,e){t.emit("error",e)}function Sm(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Ad={destroy:wm,undestroy:Em,errorOrDestroy:Sm},Mn={};function xm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Td={};function Vt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){xm(o,s);function o(a,u,l){return s.call(this,n(a,u,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Td[t]=i}function Zl(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Mm(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Cm(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Rm(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Vt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Vt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Mm(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Cm(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Zl(e,"type"));else{var s=Rm(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Zl(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Vt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Vt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Vt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Vt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Vt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Vt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Vt("ERR_STREAM_WRITE_AFTER_END","write after end");Vt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Vt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Vt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Mn.codes=Td;var Im=Mn.codes.ERR_INVALID_OPT_VALUE;function Am(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Tm(t,e,r,n){var i=Am(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Im(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var kd={getHighWaterMark:Tm},km=Om;function Om(t,e){if(Fa("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Fa("throwDeprecation"))throw new Error(e);Fa("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Fa(t){try{if(!te.localStorage)return!1}catch{return!1}var e=te.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var ja,Ql;function Od(){if(Ql)return ja;Ql=1,ja=X;function t(N){var B=this;this.next=null,this.entry=null,this.finish=function(){ee(B,N)}}var e;X.WritableState=V;var r={deprecate:km},n=Id,i=os.Buffer,s=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(N){return i.from(N)}function a(N){return i.isBuffer(N)||N instanceof s}var u=Ad,l=kd,d=l.getHighWaterMark,p=Mn.codes,y=p.ERR_INVALID_ARG_TYPE,M=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_MULTIPLE_CALLBACK,$=p.ERR_STREAM_CANNOT_PIPE,F=p.ERR_STREAM_DESTROYED,S=p.ERR_STREAM_NULL_VALUES,O=p.ERR_STREAM_WRITE_AFTER_END,D=p.ERR_UNKNOWN_ENCODING,U=u.errorOrDestroy;Kt(X,n);function j(){}function V(N,B,H){e=e||ci(),N=N||{},typeof H!="boolean"&&(H=B instanceof e),this.objectMode=!!N.objectMode,H&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=d(this,N,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=N.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ge){b(B,ge)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}V.prototype.getBuffer=function(){for(var B=this.bufferedRequest,H=[];B;)H.push(B),B=B.next;return H},function(){try{Object.defineProperty(V.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var K;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(B){return K.call(this,B)?!0:this!==X?!1:B&&B._writableState instanceof V}})):K=function(B){return B instanceof this};function X(N){e=e||ci();var B=this instanceof e;if(!B&&!K.call(X,this))return new X(N);this._writableState=new V(N,this,B),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),n.call(this)}X.prototype.pipe=function(){U(this,new $)};function q(N,B){var H=new O;U(N,H),process.nextTick(B,H)}function ne(N,B,H,Y){var ge;return H===null?ge=new S:typeof H!="string"&&!B.objectMode&&(ge=new y("chunk",["string","Buffer"],H)),ge?(U(N,ge),process.nextTick(Y,ge),!1):!0}X.prototype.write=function(N,B,H){var Y=this._writableState,ge=!1,C=!Y.objectMode&&a(N);return C&&!i.isBuffer(N)&&(N=o(N)),typeof B=="function"&&(H=B,B=null),C?B="buffer":B||(B=Y.defaultEncoding),typeof H!="function"&&(H=j),Y.ending?q(this,H):(C||ne(this,Y,N,H))&&(Y.pendingcb++,ge=ce(this,Y,C,N,B,H)),ge},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,!N.writing&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&k(this,N))},X.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new D(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(N,B,H){return!N.objectMode&&N.decodeStrings!==!1&&typeof B=="string"&&(B=i.from(B,H)),B}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ce(N,B,H,Y,ge,C){if(!H){var R=ie(B,Y,ge);Y!==R&&(H=!0,ge="buffer",Y=R)}var z=B.objectMode?1:Y.length;B.length+=z;var Z=B.length<B.highWaterMark;if(Z||(B.needDrain=!0),B.writing||B.corked){var fe=B.lastBufferedRequest;B.lastBufferedRequest={chunk:Y,encoding:ge,isBuf:H,callback:C,next:null},fe?fe.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else _(N,B,!1,z,Y,ge,C);return Z}function _(N,B,H,Y,ge,C,R){B.writelen=Y,B.writecb=R,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new F("write")):H?N._writev(ge,B.onwrite):N._write(ge,C,B.onwrite),B.sync=!1}function c(N,B,H,Y,ge){--B.pendingcb,H?(process.nextTick(ge,Y),process.nextTick(I,N,B),N._writableState.errorEmitted=!0,U(N,Y)):(ge(Y),N._writableState.errorEmitted=!0,U(N,Y),I(N,B))}function g(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}function b(N,B){var H=N._writableState,Y=H.sync,ge=H.writecb;if(typeof ge!="function")throw new A;if(g(H),B)c(N,H,Y,B,ge);else{var C=L(H)||N.destroyed;!C&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&k(N,H),Y?process.nextTick(E,N,H,C,ge):E(N,H,C,ge)}}function E(N,B,H,Y){H||x(N,B),B.pendingcb--,Y(),I(N,B)}function x(N,B){B.length===0&&B.needDrain&&(B.needDrain=!1,N.emit("drain"))}function k(N,B){B.bufferProcessing=!0;var H=B.bufferedRequest;if(N._writev&&H&&H.next){var Y=B.bufferedRequestCount,ge=new Array(Y),C=B.corkedRequestsFree;C.entry=H;for(var R=0,z=!0;H;)ge[R]=H,H.isBuf||(z=!1),H=H.next,R+=1;ge.allBuffers=z,_(N,B,!0,B.length,ge,"",C.finish),B.pendingcb++,B.lastBufferedRequest=null,C.next?(B.corkedRequestsFree=C.next,C.next=null):B.corkedRequestsFree=new t(B),B.bufferedRequestCount=0}else{for(;H;){var Z=H.chunk,fe=H.encoding,m=H.callback,h=B.objectMode?1:Z.length;if(_(N,B,!1,h,Z,fe,m),H=H.next,B.bufferedRequestCount--,B.writing)break}H===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=H,B.bufferProcessing=!1}X.prototype._write=function(N,B,H){H(new M("_write()"))},X.prototype._writev=null,X.prototype.end=function(N,B,H){var Y=this._writableState;return typeof N=="function"?(H=N,N=null,B=null):typeof B=="function"&&(H=B,B=null),N!=null&&this.write(N,B),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||Q(this,Y,H),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function w(N,B){N._final(function(H){B.pendingcb--,H&&U(N,H),B.prefinished=!0,N.emit("prefinish"),I(N,B)})}function f(N,B){!B.prefinished&&!B.finalCalled&&(typeof N._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,process.nextTick(w,N,B)):(B.prefinished=!0,N.emit("prefinish")))}function I(N,B){var H=L(B);if(H&&(f(N,B),B.pendingcb===0&&(B.finished=!0,N.emit("finish"),B.autoDestroy))){var Y=N._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&N.destroy()}return H}function Q(N,B,H){B.ending=!0,I(N,B),H&&(B.finished?process.nextTick(H):N.once("finish",H)),B.ended=!0,N.writable=!1}function ee(N,B,H){var Y=N.entry;for(N.entry=null;Y;){var ge=Y.callback;B.pendingcb--,ge(H),Y=Y.next}B.corkedRequestsFree.next=N}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(N,B){B(N)},ja}var Ua,Yl;function ci(){if(Yl)return Ua;Yl=1;var t=Object.keys||function(l){var d=[];for(var p in l)d.push(p);return d};Ua=o;var e=Ld(),r=Od();Kt(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),Ua}var Wa={},Kl;function Xl(){if(Kl)return Wa;Kl=1;var t=Fr.Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var O;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(O)return;S=(""+S).toLowerCase(),O=!0}}function n(S){var O=r(S);if(typeof O!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return O||S}Wa.StringDecoder=i;function i(S){this.encoding=n(S);var O;switch(this.encoding){case"utf16le":this.text=p,this.end=y,O=4;break;case"utf8":this.fillLast=u,O=4;break;case"base64":this.text=M,this.end=A,O=3;break;default:this.write=$,this.end=F;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(O)}i.prototype.write=function(S){if(S.length===0)return"";var O,D;if(this.lastNeed){if(O=this.fillLast(S),O===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<S.length?O?O+this.text(S,D):this.text(S,D):O||""},i.prototype.end=d,i.prototype.text=l,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function o(S,O,D){var U=O.length-1;if(U<D)return 0;var j=s(O[U]);return j>=0?(j>0&&(S.lastNeed=j-1),j):--U<D||j===-2?0:(j=s(O[U]),j>=0?(j>0&&(S.lastNeed=j-2),j):--U<D||j===-2?0:(j=s(O[U]),j>=0?(j>0&&(j===2?j=0:S.lastNeed=j-3),j):0))}function a(S,O,D){if((O[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return S.lastNeed=2,"�"}}function u(S){var O=this.lastTotal-this.lastNeed,D=a(this,S);if(D!==void 0)return D;if(this.lastNeed<=S.length)return S.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,O,0,S.length),this.lastNeed-=S.length}function l(S,O){var D=o(this,S,O);if(!this.lastNeed)return S.toString("utf8",O);this.lastTotal=D;var U=S.length-(D-this.lastNeed);return S.copy(this.lastChar,0,U),S.toString("utf8",O,U)}function d(S){var O=S&&S.length?this.write(S):"";return this.lastNeed?O+"�":O}function p(S,O){if((S.length-O)%2===0){var D=S.toString("utf16le",O);if(D){var U=D.charCodeAt(D.length-1);if(U>=55296&&U<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",O,S.length-1)}function y(S){var O=S&&S.length?this.write(S):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,D)}return O}function M(S,O){var D=(S.length-O)%3;return D===0?S.toString("base64",O):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",O,S.length-D))}function A(S){var O=S&&S.length?this.write(S):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function $(S){return S.toString(this.encoding)}function F(S){return S&&S.length?this.write(S):""}return Wa}var ef=Mn.codes.ERR_STREAM_PREMATURE_CLOSE;function Nm(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Lm(){}function Pm(t){return t.setHeader&&typeof t.abort=="function"}function Nd(t,e,r){if(typeof e=="function")return Nd(t,null,e);e||(e={}),r=Nm(r||Lm);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},d=function(A){r.call(t,A)},p=function(){var A;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(A=new ef),r.call(t,A);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new ef),r.call(t,A)},y=function(){t.req.on("finish",a)};return Pm(t)?(t.on("complete",a),t.on("abort",p),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}var fc=Nd,Ha,tf;function $m(){if(tf)return Ha;tf=1;var t;function e(D,U,j){return U=r(U),U in D?Object.defineProperty(D,U,{value:j,enumerable:!0,configurable:!0,writable:!0}):D[U]=j,D}function r(D){var U=n(D,"string");return typeof U=="symbol"?U:String(U)}function n(D,U){if(typeof D!="object"||D===null)return D;var j=D[Symbol.toPrimitive];if(j!==void 0){var V=j.call(D,U||"default");if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(D)}var i=fc,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function y(D,U){return{value:D,done:U}}function M(D){var U=D[s];if(U!==null){var j=D[p].read();j!==null&&(D[l]=null,D[s]=null,D[o]=null,U(y(j,!1)))}}function A(D){process.nextTick(M,D)}function $(D,U){return function(j,V){D.then(function(){if(U[u]){j(y(void 0,!0));return}U[d](j,V)},V)}}var F=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((t={get stream(){return this[p]},next:function(){var U=this,j=this[a];if(j!==null)return Promise.reject(j);if(this[u])return Promise.resolve(y(void 0,!0));if(this[p].destroyed)return new Promise(function(q,ne){process.nextTick(function(){U[a]?ne(U[a]):q(y(void 0,!0))})});var V=this[l],K;if(V)K=new Promise($(V,this));else{var X=this[p].read();if(X!==null)return Promise.resolve(y(X,!1));K=new Promise(this[d])}return this[l]=K,K}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var U=this;return new Promise(function(j,V){U[p].destroy(null,function(K){if(K){V(K);return}j(y(void 0,!0))})})}),t),F),O=function(U){var j,V=Object.create(S,(j={},e(j,p,{value:U,writable:!0}),e(j,s,{value:null,writable:!0}),e(j,o,{value:null,writable:!0}),e(j,a,{value:null,writable:!0}),e(j,u,{value:U._readableState.endEmitted,writable:!0}),e(j,d,{value:function(X,q){var ne=V[p].read();ne?(V[l]=null,V[s]=null,V[o]=null,X(y(ne,!1))):(V[s]=X,V[o]=q)},writable:!0}),j));return V[l]=null,i(U,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var X=V[o];X!==null&&(V[l]=null,V[s]=null,V[o]=null,X(K)),V[a]=K;return}var q=V[s];q!==null&&(V[l]=null,V[s]=null,V[o]=null,q(y(void 0,!0))),V[u]=!0}),U.on("readable",A.bind(null,V)),V};return Ha=O,Ha}var Va,rf;function Dm(){return rf||(rf=1,Va=function(){throw new Error("Readable.from is not available in the browser")}),Va}var za,nf;function Ld(){if(nf)return za;nf=1,za=q;var t;q.ReadableState=X,Qu.EventEmitter;var e=function(R,z){return R.listeners(z).length},r=Id,n=os.Buffer,i=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(C){return n.from(C)}function o(C){return n.isBuffer(C)||C instanceof i}var a=yo,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var l=_m(),d=Ad,p=kd,y=p.getHighWaterMark,M=Mn.codes,A=M.ERR_INVALID_ARG_TYPE,$=M.ERR_STREAM_PUSH_AFTER_EOF,F=M.ERR_METHOD_NOT_IMPLEMENTED,S=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,D,U;Kt(q,r);var j=d.errorOrDestroy,V=["error","close","destroy","pause","resume"];function K(C,R,z){if(typeof C.prependListener=="function")return C.prependListener(R,z);!C._events||!C._events[R]?C.on(R,z):Array.isArray(C._events[R])?C._events[R].unshift(z):C._events[R]=[z,C._events[R]]}function X(C,R,z){t=t||ci(),C=C||{},typeof z!="boolean"&&(z=R instanceof t),this.objectMode=!!C.objectMode,z&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=y(this,C,"readableHighWaterMark",z),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(O||(O=Xl().StringDecoder),this.decoder=new O(C.encoding),this.encoding=C.encoding)}function q(C){if(t=t||ci(),!(this instanceof q))return new q(C);var R=this instanceof t;this._readableState=new X(C,this,R),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),r.call(this)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),q.prototype.destroy=d.destroy,q.prototype._undestroy=d.undestroy,q.prototype._destroy=function(C,R){R(C)},q.prototype.push=function(C,R){var z=this._readableState,Z;return z.objectMode?Z=!0:typeof C=="string"&&(R=R||z.defaultEncoding,R!==z.encoding&&(C=n.from(C,R),R=""),Z=!0),ne(this,C,R,!1,Z)},q.prototype.unshift=function(C){return ne(this,C,null,!0,!1)};function ne(C,R,z,Z,fe){u("readableAddChunk",R);var m=C._readableState;if(R===null)m.reading=!1,b(C,m);else{var h;if(fe||(h=ce(m,R)),h)j(C,h);else if(m.objectMode||R&&R.length>0)if(typeof R!="string"&&!m.objectMode&&Object.getPrototypeOf(R)!==n.prototype&&(R=s(R)),Z)m.endEmitted?j(C,new S):ie(C,m,R,!0);else if(m.ended)j(C,new $);else{if(m.destroyed)return!1;m.reading=!1,m.decoder&&!z?(R=m.decoder.write(R),m.objectMode||R.length!==0?ie(C,m,R,!1):k(C,m)):ie(C,m,R,!1)}else Z||(m.reading=!1,k(C,m))}return!m.ended&&(m.length<m.highWaterMark||m.length===0)}function ie(C,R,z,Z){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,C.emit("data",z)):(R.length+=R.objectMode?1:z.length,Z?R.buffer.unshift(z):R.buffer.push(z),R.needReadable&&E(C)),k(C,R)}function ce(C,R){var z;return!o(R)&&typeof R!="string"&&R!==void 0&&!C.objectMode&&(z=new A("chunk",["string","Buffer","Uint8Array"],R)),z}q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(C){O||(O=Xl().StringDecoder);var R=new O(C);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,Z="";z!==null;)Z+=R.write(z.data),z=z.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};var _=1073741824;function c(C){return C>=_?C=_:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function g(C,R){return C<=0||R.length===0&&R.ended?0:R.objectMode?1:C!==C?R.flowing&&R.length?R.buffer.head.data.length:R.length:(C>R.highWaterMark&&(R.highWaterMark=c(C)),C<=R.length?C:R.ended?R.length:(R.needReadable=!0,0))}q.prototype.read=function(C){u("read",C),C=parseInt(C,10);var R=this._readableState,z=C;if(C!==0&&(R.emittedReadable=!1),C===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return u("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?H(this):E(this),null;if(C=g(C,R),C===0&&R.ended)return R.length===0&&H(this),null;var Z=R.needReadable;u("need readable",Z),(R.length===0||R.length-C<R.highWaterMark)&&(Z=!0,u("length less than watermark",Z)),R.ended||R.reading?(Z=!1,u("reading or ended",Z)):Z&&(u("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(C=g(z,R)));var fe;return C>0?fe=B(C,R):fe=null,fe===null?(R.needReadable=R.length<=R.highWaterMark,C=0):(R.length-=C,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),z!==C&&R.ended&&H(this)),fe!==null&&this.emit("data",fe),fe};function b(C,R){if(u("onEofChunk"),!R.ended){if(R.decoder){var z=R.decoder.end();z&&z.length&&(R.buffer.push(z),R.length+=R.objectMode?1:z.length)}R.ended=!0,R.sync?E(C):(R.needReadable=!1,R.emittedReadable||(R.emittedReadable=!0,x(C)))}}function E(C){var R=C._readableState;u("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(u("emitReadable",R.flowing),R.emittedReadable=!0,process.nextTick(x,C))}function x(C){var R=C._readableState;u("emitReadable_",R.destroyed,R.length,R.ended),!R.destroyed&&(R.length||R.ended)&&(C.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,N(C)}function k(C,R){R.readingMore||(R.readingMore=!0,process.nextTick(L,C,R))}function L(C,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var z=R.length;if(u("maybeReadMore read 0"),C.read(0),z===R.length)break}R.readingMore=!1}q.prototype._read=function(C){j(this,new F("_read()"))},q.prototype.pipe=function(C,R){var z=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=C;break;case 1:Z.pipes=[Z.pipes,C];break;default:Z.pipes.push(C);break}Z.pipesCount+=1,u("pipe count=%d opts=%j",Z.pipesCount,R);var fe=(!R||R.end!==!1)&&C!==process.stdout&&C!==process.stderr,m=fe?v:he;Z.endEmitted?process.nextTick(m):z.once("end",m),C.on("unpipe",h);function h(ue,ct){u("onunpipe"),ue===z&&ct&&ct.hasUnpiped===!1&&(ct.hasUnpiped=!0,W())}function v(){u("onend"),C.end()}var T=w(z);C.on("drain",T);var P=!1;function W(){u("cleanup"),C.removeListener("close",oe),C.removeListener("finish",we),C.removeListener("drain",T),C.removeListener("error",re),C.removeListener("unpipe",h),z.removeListener("end",v),z.removeListener("end",he),z.removeListener("data",J),P=!0,Z.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&T()}z.on("data",J);function J(ue){u("ondata");var ct=C.write(ue);u("dest.write",ct),ct===!1&&((Z.pipesCount===1&&Z.pipes===C||Z.pipesCount>1&&ge(Z.pipes,C)!==-1)&&!P&&(u("false write response, pause",Z.awaitDrain),Z.awaitDrain++),z.pause())}function re(ue){u("onerror",ue),he(),C.removeListener("error",re),e(C,"error")===0&&j(C,ue)}K(C,"error",re);function oe(){C.removeListener("finish",we),he()}C.once("close",oe);function we(){u("onfinish"),C.removeListener("close",oe),he()}C.once("finish",we);function he(){u("unpipe"),z.unpipe(C)}return C.emit("pipe",z),Z.flowing||(u("pipe resume"),z.resume()),C};function w(C){return function(){var z=C._readableState;u("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,z.awaitDrain===0&&e(C,"data")&&(z.flowing=!0,N(C))}}q.prototype.unpipe=function(C){var R=this._readableState,z={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return C&&C!==R.pipes?this:(C||(C=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,C&&C.emit("unpipe",this,z),this);if(!C){var Z=R.pipes,fe=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var m=0;m<fe;m++)Z[m].emit("unpipe",this,{hasUnpiped:!1});return this}var h=ge(R.pipes,C);return h===-1?this:(R.pipes.splice(h,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),C.emit("unpipe",this,z),this)},q.prototype.on=function(C,R){var z=r.prototype.on.call(this,C,R),Z=this._readableState;return C==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):C==="readable"&&!Z.endEmitted&&!Z.readableListening&&(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,u("on readable",Z.length,Z.reading),Z.length?E(this):Z.reading||process.nextTick(I,this)),z},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(C,R){var z=r.prototype.removeListener.call(this,C,R);return C==="readable"&&process.nextTick(f,this),z},q.prototype.removeAllListeners=function(C){var R=r.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&process.nextTick(f,this),R};function f(C){var R=C._readableState;R.readableListening=C.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:C.listenerCount("data")>0&&C.resume()}function I(C){u("readable nexttick read 0"),C.read(0)}q.prototype.resume=function(){var C=this._readableState;return C.flowing||(u("resume"),C.flowing=!C.readableListening,Q(this,C)),C.paused=!1,this};function Q(C,R){R.resumeScheduled||(R.resumeScheduled=!0,process.nextTick(ee,C,R))}function ee(C,R){u("resume",R.reading),R.reading||C.read(0),R.resumeScheduled=!1,C.emit("resume"),N(C),R.flowing&&!R.reading&&C.read(0)}q.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function N(C){var R=C._readableState;for(u("flow",R.flowing);R.flowing&&C.read()!==null;);}q.prototype.wrap=function(C){var R=this,z=this._readableState,Z=!1;C.on("end",function(){if(u("wrapped end"),z.decoder&&!z.ended){var h=z.decoder.end();h&&h.length&&R.push(h)}R.push(null)}),C.on("data",function(h){if(u("wrapped data"),z.decoder&&(h=z.decoder.write(h)),!(z.objectMode&&h==null)&&!(!z.objectMode&&(!h||!h.length))){var v=R.push(h);v||(Z=!0,C.pause())}});for(var fe in C)this[fe]===void 0&&typeof C[fe]=="function"&&(this[fe]=function(v){return function(){return C[v].apply(C,arguments)}}(fe));for(var m=0;m<V.length;m++)C.on(V[m],this.emit.bind(this,V[m]));return this._read=function(h){u("wrapped _read",h),Z&&(Z=!1,C.resume())},this},typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=$m()),D(this)}),Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}}),q._fromList=B,Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(C,R){if(R.length===0)return null;var z;return R.objectMode?z=R.buffer.shift():!C||C>=R.length?(R.decoder?z=R.buffer.join(""):R.buffer.length===1?z=R.buffer.first():z=R.buffer.concat(R.length),R.buffer.clear()):z=R.buffer.consume(C,R.decoder),z}function H(C){var R=C._readableState;u("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,process.nextTick(Y,R,C))}function Y(C,R){if(u("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,R.readable=!1,R.emit("end"),C.autoDestroy)){var z=R._writableState;(!z||z.autoDestroy&&z.finished)&&R.destroy()}}typeof Symbol=="function"&&(q.from=function(C,R){return U===void 0&&(U=Dm()),U(q,C,R)});function ge(C,R){for(var z=0,Z=C.length;z<Z;z++)if(C[z]===R)return z;return-1}return za}var Pd=_r,Io=Mn.codes,Bm=Io.ERR_METHOD_NOT_IMPLEMENTED,Fm=Io.ERR_MULTIPLE_CALLBACK,jm=Io.ERR_TRANSFORM_ALREADY_TRANSFORMING,Um=Io.ERR_TRANSFORM_WITH_LENGTH_0,Ao=ci();Kt(_r,Ao);function Wm(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Fm);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function _r(t){if(!(this instanceof _r))return new _r(t);Ao.call(this,t),this._transformState={afterTransform:Wm.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Hm)}function Hm(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){sf(t,e,r)}):sf(this,null,null)}_r.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ao.prototype.push.call(this,t,e)};_r.prototype._transform=function(t,e,r){r(new Bm("_transform()"))};_r.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};_r.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};_r.prototype._destroy=function(t,e){Ao.prototype._destroy.call(this,t,function(r){e(r)})};function sf(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Um;if(t._transformState.transforming)throw new jm;return t.push(null)}var Vm=Xi,$d=Pd;Kt(Xi,$d);function Xi(t){if(!(this instanceof Xi))return new Xi(t);$d.call(this,t)}Xi.prototype._transform=function(t,e,r){r(null,t)};var qa;function zm(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Dd=Mn.codes,qm=Dd.ERR_MISSING_ARGS,Gm=Dd.ERR_STREAM_DESTROYED;function of(t){if(t)throw t}function Jm(t){return t.setHeader&&typeof t.abort=="function"}function Zm(t,e,r,n){n=zm(n);var i=!1;t.on("close",function(){i=!0}),qa===void 0&&(qa=fc),qa(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Jm(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Gm("pipe"))}}}function af(t){t()}function Qm(t,e){return t.pipe(e)}function Ym(t){return!t.length||typeof t[t.length-1]!="function"?of:t.pop()}function Km(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Ym(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new qm("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,l=a>0;return Zm(o,u,l,function(d){i||(i=d),d&&s.forEach(af),!u&&(s.forEach(af),n(i))})});return e.reduce(Qm)}var Xm=Km;(function(t,e){e=t.exports=Ld(),e.Stream=e,e.Readable=e,e.Writable=Od(),e.Duplex=ci(),e.Transform=Pd,e.PassThrough=Vm,e.finished=fc,e.pipeline=Xm})(Tu,Tu.exports);var Bd=Tu.exports;const{Transform:e1}=Bd;var t1=t=>class Fd extends e1{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Fd(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:r1}=Bd;var n1=t=>class jd extends r1{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new jd(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const i1=t1,s1=n1;var o1=function(t){const e=i1(t),r=s1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Ud={};const uf=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Ud.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],d=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49];let y=d^(i<<1|s>>>31),M=p^(s<<1|i>>>31);const A=t[0]^y,$=t[1]^M,F=t[10]^y,S=t[11]^M,O=t[20]^y,D=t[21]^M,U=t[30]^y,j=t[31]^M,V=t[40]^y,K=t[41]^M;y=r^(o<<1|a>>>31),M=n^(a<<1|o>>>31);const X=t[2]^y,q=t[3]^M,ne=t[12]^y,ie=t[13]^M,ce=t[22]^y,_=t[23]^M,c=t[32]^y,g=t[33]^M,b=t[42]^y,E=t[43]^M;y=i^(u<<1|l>>>31),M=s^(l<<1|u>>>31);const x=t[4]^y,k=t[5]^M,L=t[14]^y,w=t[15]^M,f=t[24]^y,I=t[25]^M,Q=t[34]^y,ee=t[35]^M,N=t[44]^y,B=t[45]^M;y=o^(d<<1|p>>>31),M=a^(p<<1|d>>>31);const H=t[6]^y,Y=t[7]^M,ge=t[16]^y,C=t[17]^M,R=t[26]^y,z=t[27]^M,Z=t[36]^y,fe=t[37]^M,m=t[46]^y,h=t[47]^M;y=u^(r<<1|n>>>31),M=l^(n<<1|r>>>31);const v=t[8]^y,T=t[9]^M,P=t[18]^y,W=t[19]^M,J=t[28]^y,re=t[29]^M,oe=t[38]^y,we=t[39]^M,he=t[48]^y,ue=t[49]^M,ct=A,Me=$,Ce=S<<4|F>>>28,Tn=F<<4|S>>>28,Te=O<<3|D>>>29,ke=D<<3|O>>>29,kn=j<<9|U>>>23,Oe=U<<9|j>>>23,Ne=V<<18|K>>>14,On=K<<18|V>>>14,Le=X<<1|q>>>31,Pe=q<<1|X>>>31,Nn=ie<<12|ne>>>20,$e=ne<<12|ie>>>20,De=ce<<10|_>>>22,Ln=_<<10|ce>>>22,Be=g<<13|c>>>19,Fe=c<<13|g>>>19,Pn=b<<2|E>>>30,je=E<<2|b>>>30,Ue=k<<30|x>>>2,$n=x<<30|k>>>2,We=L<<6|w>>>26,He=w<<6|L>>>26,Dn=I<<11|f>>>21,Ve=f<<11|I>>>21,ze=Q<<15|ee>>>17,Bn=ee<<15|Q>>>17,qe=B<<29|N>>>3,Ge=N<<29|B>>>3,Fn=H<<28|Y>>>4,Je=Y<<28|H>>>4,Ze=C<<23|ge>>>9,jn=ge<<23|C>>>9,Qe=R<<25|z>>>7,Ye=z<<25|R>>>7,Ur=Z<<21|fe>>>11,Wr=fe<<21|Z>>>11,Hr=h<<24|m>>>8,Vr=m<<24|h>>>8,zr=v<<27|T>>>5,qr=T<<27|v>>>5,Gr=P<<20|W>>>12,Jr=W<<20|P>>>12,Zr=re<<7|J>>>25,Qr=J<<7|re>>>25,Yr=oe<<8|we>>>24,Kr=we<<8|oe>>>24,Xr=he<<14|ue>>>18,en=ue<<14|he>>>18;t[0]=ct^~Nn&Dn,t[1]=Me^~$e&Ve,t[10]=Fn^~Gr&Te,t[11]=Je^~Jr&ke,t[20]=Le^~We&Qe,t[21]=Pe^~He&Ye,t[30]=zr^~Ce&De,t[31]=qr^~Tn&Ln,t[40]=Ue^~Ze&Zr,t[41]=$n^~jn&Qr,t[2]=Nn^~Dn&Ur,t[3]=$e^~Ve&Wr,t[12]=Gr^~Te&Be,t[13]=Jr^~ke&Fe,t[22]=We^~Qe&Yr,t[23]=He^~Ye&Kr,t[32]=Ce^~De&ze,t[33]=Tn^~Ln&Bn,t[42]=Ze^~Zr&kn,t[43]=jn^~Qr&Oe,t[4]=Dn^~Ur&Xr,t[5]=Ve^~Wr&en,t[14]=Te^~Be&qe,t[15]=ke^~Fe&Ge,t[24]=Qe^~Yr&Ne,t[25]=Ye^~Kr&On,t[34]=De^~ze&Hr,t[35]=Ln^~Bn&Vr,t[44]=Zr^~kn&Pn,t[45]=Qr^~Oe&je,t[6]=Ur^~Xr&ct,t[7]=Wr^~en&Me,t[16]=Be^~qe&Fn,t[17]=Fe^~Ge&Je,t[26]=Yr^~Ne&Le,t[27]=Kr^~On&Pe,t[36]=ze^~Hr&zr,t[37]=Bn^~Vr&qr,t[46]=kn^~Pn&Ue,t[47]=Oe^~je&$n,t[8]=Xr^~ct&Nn,t[9]=en^~Me&$e,t[18]=qe^~Fn&Gr,t[19]=Ge^~Je&Jr,t[28]=Ne^~Le&We,t[29]=On^~Pe&He,t[38]=Hr^~zr&Ce,t[39]=Vr^~qr&Tn,t[48]=Pn^~Ue&Ze,t[49]=je^~$n&jn,t[0]^=uf[e*2],t[1]^=uf[e*2+1]}};const io=Ud;function Ci(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Ci.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Ci.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(io.p1600(this.state),this.count=0)};Ci.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&io.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),io.p1600(this.state),this.count=0,this.squeezing=!0};Ci.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(io.p1600(this.state),this.count=0);return e};Ci.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var a1=Ci,u1=o1(a1);const c1=u1,l1=wo;function Wd(t){return Buffer.allocUnsafe(t).fill(0)}function Hd(t,e,r){const n=Wd(e);return t=To(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function f1(t,e){return Hd(t,e,!0)}function To(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Vd(t)?t=Buffer.from(p1(zd(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(l1.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function h1(t){return t=To(t),"0x"+t.toString("hex")}function d1(t,e){return t=To(t),e||(e=256),c1("keccak"+e).update(t).digest()}function p1(t){return t.length%2?"0"+t:t}function Vd(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function zd(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var qd={zeros:Wd,setLength:Hd,setLengthRight:f1,isHexString:Vd,stripHexPrefix:zd,toBuffer:To,bufferToHex:h1,keccak:d1};const vn=qd,fn=wo;function Gd(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function ei(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function cf(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Jd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function on(t){var e=typeof t;if(e==="string")return vn.isHexString(t)?new fn(vn.stripHexPrefix(t),16):new fn(t,10);if(e==="number")return new fn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function sr(t,e){var r,n,i,s;if(t==="address")return sr("uint160",on(e));if(t==="bool")return sr("uint8",e?1:0);if(t==="string")return sr("bytes",new Buffer(e,"utf8"));if(v1(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Jd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(sr(t,e[s]));if(r==="dynamic"){var o=sr("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([sr("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,vn.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=ei(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return vn.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=ei(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=on(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=ei(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=on(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=cf(t),n=on(e),n<0)throw new Error("Supplied ufixed is negative");return sr("uint256",n.mul(new fn(2).pow(new fn(r[1]))))}else if(t.startsWith("fixed"))return r=cf(t),sr("int256",on(e).mul(new fn(2).pow(new fn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function g1(t){return t==="string"||t==="bytes"||Jd(t)==="dynamic"}function v1(t){return t.lastIndexOf("]")===t.length-1}function y1(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Gd(t[s]),a=e[s],u=sr(o,a);g1(o)?(r.push(sr("uint256",i)),n.push(u),i+=u.length):r.push(u)}return Buffer.concat(r.concat(n))}function Zd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Gd(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(vn.setLength(a,20));else if(o.startsWith("bytes")){if(r=ei(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(vn.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=ei(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=on(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=ei(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=on(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function b1(t,e){return vn.keccak(Zd(t,e))}var m1={rawEncode:y1,solidityPack:Zd,soliditySHA3:b1};const Jt=qd,qi=m1,Qd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ga={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,u,l)=>{if(r[u]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Jt.keccak(this.encodeData(u,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",Jt.keccak(l)];if(u==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Jt.keccak(l)];if(u.lastIndexOf("]")===u.length-1){const d=u.slice(0,u.lastIndexOf("[")),p=l.map(y=>o(a,d,y));return["bytes32",Jt.keccak(qi.rawEncode(p.map(([y])=>y),p.map(([,y])=>y)))]}return[u,l]};for(const a of r[t]){const[u,l]=o(a.name,a.type,e[a.name]);i.push(u),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Jt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Jt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Jt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return qi.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Jt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Jt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Qd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Jt.keccak(Buffer.concat(n))}};var _1={TYPED_MESSAGE_SCHEMA:Qd,TypedDataUtils:Ga,hashForSignTypedDataLegacy:function(t){return w1(t.data)},hashForSignTypedData_v3:function(t){return Ga.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ga.hash(t.data)}};function w1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Jt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return qi.soliditySHA3(["bytes32","bytes32"],[qi.soliditySHA3(new Array(t.length).fill("string"),i),qi.soliditySHA3(n,r)])}var li={};Object.defineProperty(li,"__esModule",{value:!0});li.filterFromParam=li.FilterPolyfill=void 0;const Zn=hs,xt=se,E1=5*60*1e3,an={jsonrpc:"2.0",id:0};class S1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Zn.IntNumber)(1),this.provider=e}async newFilter(e){const r=Yd(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,xt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,xt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,xt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,xt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,xt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Ps())}async getFilterLogs(e){const r=(0,xt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_getLogs",params:[lf(n)]})):Ps()}makeFilterId(){return(0,Zn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Ps();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return $s();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_getLogs",params:[lf(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,xt.intNumberFromHexString)(l.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>n){const l=(0,Zn.IntNumber)(u+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Ps();const n=await this.getCurrentBlockHeight();if(r>n)return $s();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,xt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Zn.IntNumber)(o))))).filter(o=>!!o),s=(0,Zn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},an),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve($s())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},E1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_blockNumber",params:[]}));return(0,xt.intNumberFromHexString)((0,xt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_getBlockByNumber",params:[(0,xt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,xt.ensureHexString)(r.result.hash):null}}li.FilterPolyfill=S1;function Yd(t){return{fromBlock:ff(t.fromBlock),toBlock:ff(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}li.filterFromParam=Yd;function lf(t){const e={fromBlock:hf(t.fromBlock),toBlock:hf(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function ff(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Zn.IntNumber)(0);if((0,xt.isHexString)(t))return(0,xt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function hf(t){return t==="latest"?t:(0,xt.hexStringFromIntNumber)(t)}function Ps(){return Object.assign(Object.assign({},an),{error:{code:-32e3,message:"filter not found"}})}function $s(){return Object.assign(Object.assign({},an),{result:[]})}var Kd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Kd);var ko={},Xd={},Oo={},hc=x1;function x1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const df=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)u[l-1]=arguments[l];o?(u.unshift(o),s(u)):i(u)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(o)}),t.apply(this,n)})};var M1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):df(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?df(s,e):s}return n},gs={},C1=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});gs.BaseBlockTracker=void 0;const R1=C1(wn),I1=1e3,A1=(t,e)=>t+e,pf=["sync","latest"];class T1 extends R1.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*I1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){pf.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return pf.map(e=>this.listenerCount(e)).reduce(A1)}_newPotentialLatest(e){const r=this._currentBlock;r&&gf(e)<=gf(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}gs.BaseBlockTracker=T1;function gf(t){return Number.parseInt(t,16)}var ep={},tp={},mt={};class rp extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function k1(t){return Ht(t)&&typeof t[Symbol.iterator]=="function"}function Ht(t){return typeof t=="object"&&t!=null}function vf(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ut(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function O1(t){const{done:e,value:r}=t.next();return e?void 0:r}function N1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ut(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*Ou(t,e,r,n){k1(t)||(t=[t]);for(const i of t){const s=N1(i,e,r,n);s&&(yield s)}}function*dc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ht(e.schema)&&Ht(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let u="valid";for(const l of e.validator(t,a))l.explanation=r.message,u="not_valid",yield[l,void 0];for(let[l,d,p]of e.entries(t,a)){const y=dc(d,p,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,d],coerce:s,mask:o,message:r.message});for(const M of y)M[0]?(u=M[0].refinement!=null?"not_refined":"not_valid",yield[M[0],void 0]):s&&(d=M[1],l===void 0?t=d:t instanceof Map?t.set(l,d):t instanceof Set?t.add(d):Ht(t)&&(d!==void 0||l in t)&&(t[l]=d))}if(u!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,u="not_refined",yield[l,void 0];u==="valid"&&(yield[void 0,t])}class st{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,l)=>{const d=i(u,l);return Ou(d,l,this,u)}:this.validator=()=>[],s?this.refiner=(u,l)=>{const d=s(u,l);return Ou(d,l,this,u)}:this.refiner=()=>[]}assert(e,r){return np(e,this,r)}create(e,r){return ip(e,this,r)}is(e){return pc(e,this)}mask(e,r){return sp(e,this,r)}validate(e,r={}){return Ri(e,this,r)}}function np(t,e,r){const n=Ri(t,e,{message:r});if(n[0])throw n[0]}function ip(t,e,r){const n=Ri(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function sp(t,e,r){const n=Ri(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function pc(t,e){return!Ri(t,e)[0]}function Ri(t,e,r={}){const n=dc(t,e,r),i=O1(n);return i[0]?[new rp(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function L1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?vc(n):vs(n)}function Tt(t,e){return new st({type:t,schema:null,validator:e})}function P1(t,e){return new st({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function $1(t){return new st({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function D1(t){let e;return new st({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function B1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return vc(n);default:return vs(n)}}function F1(t){const e=t instanceof st?{...t.schema}:{...t};for(const r in e)e[r]=op(e[r]);return vs(e)}function j1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return vs(n)}function U1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Tt(t,e)}function W1(){return Tt("any",()=>!0)}function H1(t){return new st({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ut(e)}`}})}function V1(){return Tt("bigint",t=>typeof t=="bigint")}function z1(){return Tt("boolean",t=>typeof t=="boolean")}function q1(){return Tt("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${ut(t)}`)}function G1(t){const e={},r=t.map(n=>ut(n)).join();for(const n of t)e[n]=n;return new st({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${ut(n)}`}})}function J1(){return Tt("func",t=>typeof t=="function"||`Expected a function, but received: ${ut(t)}`)}function Z1(t){return Tt("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ut(e)}`)}function Q1(){return Tt("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ut(t)}`)}function Y1(t){return new st({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function K1(t){const e=ut(t),r=typeof t;return new st({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${ut(n)}`}})}function X1(t,e){return new st({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${ut(r)}`}})}function gc(){return Tt("never",()=>!1)}function e_(t){return new st({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function t_(){return Tt("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ut(t)}`)}function vs(t){const e=t?Object.keys(t):[],r=gc();return new st({type:"object",schema:t||null,*entries(n){if(t&&Ht(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Ht(n)||`Expected an object, but received: ${ut(n)}`},coercer(n){return Ht(n)?{...n}:n}})}function op(t){return new st({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function r_(t,e){return new st({type:"record",schema:null,*entries(r){if(Ht(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Ht(r)||`Expected an object, but received: ${ut(r)}`}})}function n_(){return Tt("regexp",t=>t instanceof RegExp)}function i_(t){return new st({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${ut(e)}`}})}function ap(){return Tt("string",t=>typeof t=="string"||`Expected a string, but received: ${ut(t)}`)}function s_(t){const e=gc();return new st({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ut(r)}`}})}function vc(t){const e=Object.keys(t);return new st({type:"type",schema:t,*entries(r){if(Ht(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Ht(r)||`Expected an object, but received: ${ut(r)}`},coercer(r){return Ht(r)?{...r}:r}})}function o_(t){const e=t.map(r=>r.type).join(" | ");return new st({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=dc(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ut(r)}`,...i]}})}function up(){return Tt("unknown",()=>!0)}function yc(t,e,r){return new st({...t,coercer:(n,i)=>pc(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function a_(t,e,r={}){return yc(t,up(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&vf(n)&&vf(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function u_(t){return yc(t,ap(),e=>e.trim())}function c_(t){return Cn(t,"empty",e=>{const r=cp(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function cp(t){return t instanceof Map||t instanceof Set?t.size:t.length}function l_(t,e,r={}){const{exclusive:n}=r;return Cn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function f_(t,e,r={}){const{exclusive:n}=r;return Cn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function h_(t){return Cn(t,"nonempty",e=>cp(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function d_(t,e){return Cn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function p_(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Cn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Cn(t,e,r){return new st({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=Ou(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const g_=Object.freeze(Object.defineProperty({__proto__:null,Struct:st,StructError:rp,any:W1,array:H1,assert:np,assign:L1,bigint:V1,boolean:z1,coerce:yc,create:ip,date:q1,defaulted:a_,define:Tt,deprecated:P1,dynamic:$1,empty:c_,enums:G1,func:J1,instance:Z1,integer:Q1,intersection:Y1,is:pc,lazy:D1,literal:K1,map:X1,mask:sp,max:l_,min:f_,never:gc,nonempty:h_,nullable:e_,number:t_,object:vs,omit:B1,optional:op,partial:F1,pattern:d_,pick:j1,record:r_,refine:Cn,regexp:n_,set:i_,size:p_,string:ap,struct:U1,trimmed:u_,tuple:s_,type:vc,union:o_,unknown:up,validate:Ri},Symbol.toStringTag,{value:"Module"})),Rn=_n(g_);Object.defineProperty(mt,"__esModule",{value:!0});mt.assertExhaustive=mt.assertStruct=mt.assert=mt.AssertionError=void 0;const v_=Rn;function y_(t){return typeof t=="object"&&t!==null&&"message"in t}function b_(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function m_(t){const e=y_(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function lp(t,e){return b_(t)?new t({message:e}):t({message:e})}class bc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}mt.AssertionError=bc;function __(t,e="Assertion failed.",r=bc){if(!t)throw e instanceof Error?e:lp(r,e)}mt.assert=__;function w_(t,e,r="Assertion failed",n=bc){try{(0,v_.assert)(t,e)}catch(i){throw lp(n,`${r}: ${m_(i)}.`)}}mt.assertStruct=w_;function E_(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}mt.assertExhaustive=E_;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.base64=void 0;const S_=Rn,x_=mt,M_=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,x_.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,S_.pattern)(t,a)};ys.base64=M_;var Ee={},bs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Rn,r=mt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function u(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=u})(bs);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.createDataView=Ee.concatBytes=Ee.valueToBytes=Ee.stringToBytes=Ee.numberToBytes=Ee.signedBigIntToBytes=Ee.bigIntToBytes=Ee.hexToBytes=Ee.bytesToString=Ee.bytesToNumber=Ee.bytesToSignedBigInt=Ee.bytesToBigInt=Ee.bytesToHex=Ee.assertIsBytes=Ee.isBytes=void 0;const Ot=mt,Nu=bs,yf=48,bf=58,mf=87;function C_(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const R_=C_();function mc(t){return t instanceof Uint8Array}Ee.isBytes=mc;function Ii(t){(0,Ot.assert)(mc(t),"Value must be a Uint8Array.")}Ee.assertIsBytes=Ii;function fp(t){if(Ii(t),t.length===0)return"0x";const e=R_(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,Nu.add0x)(r.join(""))}Ee.bytesToHex=fp;function hp(t){Ii(t);const e=fp(t);return BigInt(e)}Ee.bytesToBigInt=hp;function I_(t){Ii(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}Ee.bytesToSignedBigInt=I_;function A_(t){Ii(t);const e=hp(t);return(0,Ot.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}Ee.bytesToNumber=A_;function T_(t){return Ii(t),new TextDecoder().decode(t)}Ee.bytesToString=T_;function No(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,Nu.assertIsHexString)(t);const r=(0,Nu.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),u=o-(o<bf?yf:mf),l=a-(a<bf?yf:mf);i[s]=u*16+l}return i}Ee.hexToBytes=No;function dp(t){(0,Ot.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ot.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return No(e)}Ee.bigIntToBytes=dp;function k_(t,e){(0,Ot.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function O_(t,e){(0,Ot.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ot.assert)(typeof e=="number","Byte length must be a number."),(0,Ot.assert)(e>0,"Byte length must be greater than 0."),(0,Ot.assert)(k_(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}Ee.signedBigIntToBytes=O_;function pp(t){(0,Ot.assert)(typeof t=="number","Value must be a number."),(0,Ot.assert)(t>=0,"Value must be a non-negative number."),(0,Ot.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return No(e)}Ee.numberToBytes=pp;function gp(t){return(0,Ot.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}Ee.stringToBytes=gp;function vp(t){if(typeof t=="bigint")return dp(t);if(typeof t=="number")return pp(t);if(typeof t=="string")return t.startsWith("0x")?No(t):gp(t);if(mc(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}Ee.valueToBytes=vp;function N_(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=vp(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}Ee.concatBytes=N_;function L_(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}Ee.createDataView=L_;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.ChecksumStruct=void 0;const _f=Rn,P_=ys;Lo.ChecksumStruct=(0,_f.size)((0,P_.base64)((0,_f.string)(),{paddingRequired:!0}),44,44);var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.createHex=cr.createBytes=cr.createBigInt=cr.createNumber=void 0;const et=Rn,$_=mt,yp=Ee,Po=bs,bp=(0,et.union)([(0,et.number)(),(0,et.bigint)(),(0,et.string)(),Po.StrictHexStruct]),D_=(0,et.coerce)((0,et.number)(),bp,Number),B_=(0,et.coerce)((0,et.bigint)(),bp,BigInt);(0,et.union)([Po.StrictHexStruct,(0,et.instance)(Uint8Array)]);const F_=(0,et.coerce)((0,et.instance)(Uint8Array),(0,et.union)([Po.StrictHexStruct]),yp.hexToBytes),j_=(0,et.coerce)(Po.StrictHexStruct,(0,et.instance)(Uint8Array),yp.bytesToHex);function U_(t){try{const e=(0,et.create)(t,D_);return(0,$_.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof et.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}cr.createNumber=U_;function W_(t){try{return(0,et.create)(t,B_)}catch(e){throw e instanceof et.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}cr.createBigInt=W_;function H_(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,et.create)(t,F_)}catch(e){throw e instanceof et.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}cr.createBytes=H_;function V_(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,et.create)(t,j_)}catch(e){throw e instanceof et.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}cr.createHex=V_;var fi={},mp=te&&te.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Mt=te&&te.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},qt,rr;Object.defineProperty(fi,"__esModule",{value:!0});fi.FrozenSet=fi.FrozenMap=void 0;class _c{constructor(e){qt.set(this,void 0),mp(this,qt,new Map(e),"f"),Object.freeze(this)}get size(){return Mt(this,qt,"f").size}[(qt=new WeakMap,Symbol.iterator)](){return Mt(this,qt,"f")[Symbol.iterator]()}entries(){return Mt(this,qt,"f").entries()}forEach(e,r){return Mt(this,qt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Mt(this,qt,"f").get(e)}has(e){return Mt(this,qt,"f").has(e)}keys(){return Mt(this,qt,"f").keys()}values(){return Mt(this,qt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}fi.FrozenMap=_c;class wc{constructor(e){rr.set(this,void 0),mp(this,rr,new Set(e),"f"),Object.freeze(this)}get size(){return Mt(this,rr,"f").size}[(rr=new WeakMap,Symbol.iterator)](){return Mt(this,rr,"f")[Symbol.iterator]()}entries(){return Mt(this,rr,"f").entries()}forEach(e,r){return Mt(this,rr,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Mt(this,rr,"f").has(e)}keys(){return Mt(this,rr,"f").keys()}values(){return Mt(this,rr,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}fi.FrozenSet=wc;Object.freeze(_c);Object.freeze(_c.prototype);Object.freeze(wc);Object.freeze(wc.prototype);var _p={},Ec={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,d)=>Object.hasOwnProperty.call(l,d);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let d=l;for(;Object.getPrototypeOf(d)!==null;)d=Object.getPrototypeOf(d);return Object.getPrototypeOf(l)===d}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var d;return l.split("").reduce((y,M)=>o(M)?y+1:y+2,0)+((d=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&d!==void 0?d:[]).length}t.calculateStringSize=a;function u(l){return l.toString().length}t.calculateNumberSize=u})(Ec);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Rn,r=mt,n=Ec;t.JsonStruct=(0,e.define)("Json",j=>{const[V]=U(j,!0);return V?!0:"Expected a valid JSON-serializable value"});function i(j){return(0,e.is)(j,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(j){return(0,e.is)(j,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(j,V){(0,r.assertStruct)(j,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",V)}t.assertIsJsonRpcNotification=o;function a(j){return(0,e.is)(j,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function u(j,V){(0,r.assertStruct)(j,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",V)}t.assertIsJsonRpcRequest=u,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(j){return(0,e.is)(j,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function d(j,V){(0,r.assertStruct)(j,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",V)}t.assertIsPendingJsonRpcResponse=d;function p(j){return(0,e.is)(j,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=p;function y(j,V){(0,r.assertStruct)(j,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",V)}t.assertIsJsonRpcResponse=y;function M(j){return(0,e.is)(j,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=M;function A(j,V){(0,r.assertStruct)(j,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",V)}t.assertIsJsonRpcSuccess=A;function $(j){return(0,e.is)(j,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=$;function F(j,V){(0,r.assertStruct)(j,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",V)}t.assertIsJsonRpcFailure=F;function S(j){return(0,e.is)(j,t.JsonRpcErrorStruct)}t.isJsonRpcError=S;function O(j,V){(0,r.assertStruct)(j,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",V)}t.assertIsJsonRpcError=O;function D(j){const{permitEmptyString:V,permitFractions:K,permitNull:X}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},j);return ne=>!!(typeof ne=="number"&&(K||Number.isInteger(ne))||typeof ne=="string"&&(V||ne.length>0)||X&&ne===null)}t.getJsonRpcIdValidator=D;function U(j,V=!1){const K=new Set;function X(q,ne){if(q===void 0)return[!1,0];if(q===null)return[!0,ne?0:n.JsonSize.Null];const ie=typeof q;try{if(ie==="function")return[!1,0];if(ie==="string"||q instanceof String)return[!0,ne?0:(0,n.calculateStringSize)(q)+n.JsonSize.Quote*2];if(ie==="boolean"||q instanceof Boolean)return ne?[!0,0]:[!0,q==!0?n.JsonSize.True:n.JsonSize.False];if(ie==="number"||q instanceof Number)return ne?[!0,0]:[!0,(0,n.calculateNumberSize)(q)];if(q instanceof Date)return ne?[!0,0]:[!0,isNaN(q.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(q)&&!Array.isArray(q))return[!1,0];if(K.has(q))return[!1,0];K.add(q);try{return[!0,Object.entries(q).reduce((ce,[_,c],g,b)=>{let[E,x]=X(c,ne);if(!E)throw new Error("JSON validation did not pass. Validation process stopped.");if(K.delete(q),ne)return 0;const k=Array.isArray(q)?0:_.length+n.JsonSize.Comma+n.JsonSize.Colon*2,L=g<b.length-1?n.JsonSize.Comma:0;return ce+k+x+L},ne?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return X(j,V)}t.validateJsonAndGetSize=U})(_p);var hi={},Lu={exports:{}},Ja,wf;function z_(){if(wf)return Ja;wf=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Ja=function(d,p){p=p||{};var y=typeof d;if(y==="string"&&d.length>0)return o(d);if(y==="number"&&isFinite(d))return p.long?u(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(p){var y=parseFloat(p[1]),M=(p[2]||"ms").toLowerCase();switch(M){case"years":case"year":case"yrs":case"yr":case"y":return y*s;case"weeks":case"week":case"w":return y*i;case"days":case"day":case"d":return y*n;case"hours":case"hour":case"hrs":case"hr":case"h":return y*r;case"minutes":case"minute":case"mins":case"min":case"m":return y*e;case"seconds":case"second":case"secs":case"sec":case"s":return y*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function a(d){var p=Math.abs(d);return p>=n?Math.round(d/n)+"d":p>=r?Math.round(d/r)+"h":p>=e?Math.round(d/e)+"m":p>=t?Math.round(d/t)+"s":d+"ms"}function u(d){var p=Math.abs(d);return p>=n?l(d,p,n,"day"):p>=r?l(d,p,r,"hour"):p>=e?l(d,p,e,"minute"):p>=t?l(d,p,t,"second"):d+" ms"}function l(d,p,y,M){var A=p>=y*1.5;return Math.round(d/y)+" "+M+(A?"s":"")}return Ja}function q_(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=z_(),r.destroy=l,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let p=0;for(let y=0;y<d.length;y++)p=(p<<5)-p+d.charCodeAt(y),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(d){let p,y=null,M,A;function $(...F){if(!$.enabled)return;const S=$,O=Number(new Date),D=O-(p||O);S.diff=D,S.prev=p,S.curr=O,p=O,F[0]=r.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let U=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(V,K)=>{if(V==="%%")return"%";U++;const X=r.formatters[K];if(typeof X=="function"){const q=F[U];V=X.call(S,q),F.splice(U,1),U--}return V}),r.formatArgs.call(S,F),(S.log||r.log).apply(S,F)}return $.namespace=d,$.useColors=r.useColors(),$.color=r.selectColor(d),$.extend=n,$.destroy=r.destroy,Object.defineProperty($,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(M!==r.namespaces&&(M=r.namespaces,A=r.enabled(d)),A),set:F=>{y=F}}),typeof r.init=="function"&&r.init($),$}function n(d,p){const y=r(this.namespace+(typeof p>"u"?":":p)+d);return y.log=this.log,y}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let p;const y=(typeof d=="string"?d:"").split(/[\s,]+/),M=y.length;for(p=0;p<M;p++)y[p]&&(d=y[p].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function s(){const d=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let p,y;for(p=0,y=r.skips.length;p<y;p++)if(r.skips[p].test(d))return!1;for(p=0,y=r.names.length;p<y;p++)if(r.names[p].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function u(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var G_=q_;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;u.splice(1,0,l,"color: inherit");let d=0,p=0;u[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(d++,y==="%c"&&(p=d))}),u.splice(p,0,l)}e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function s(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}function o(){try{return localStorage}catch{}}t.exports=G_(e);const{formatters:a}=t.exports;a.j=function(u){try{return JSON.stringify(u)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(Lu,Lu.exports);var J_=Lu.exports,Z_=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hi,"__esModule",{value:!0});hi.createModuleLogger=hi.createProjectLogger=void 0;const Q_=Z_(J_),Y_=(0,Q_.default)("metamask");function K_(t){return Y_.extend(t)}hi.createProjectLogger=K_;function X_(t,e){return t.extend(e)}hi.createModuleLogger=X_;var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.hexToBigInt=lr.hexToNumber=lr.bigIntToHex=lr.numberToHex=void 0;const ti=mt,es=bs,ew=t=>((0,ti.assert)(typeof t=="number","Value must be a number."),(0,ti.assert)(t>=0,"Value must be a non-negative number."),(0,ti.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,es.add0x)(t.toString(16)));lr.numberToHex=ew;const tw=t=>((0,ti.assert)(typeof t=="bigint","Value must be a bigint."),(0,ti.assert)(t>=0,"Value must be a non-negative bigint."),(0,es.add0x)(t.toString(16)));lr.bigIntToHex=tw;const rw=t=>{(0,es.assertIsHexString)(t);const e=parseInt(t,16);return(0,ti.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};lr.hexToNumber=rw;const nw=t=>((0,es.assertIsHexString)(t),BigInt((0,es.add0x)(t)));lr.hexToBigInt=nw;var wp={};Object.defineProperty(wp,"__esModule",{value:!0});var Ep={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Ep);var Sp={},Pu={exports:{}};const iw="2.0.0",xp=256,sw=Number.MAX_SAFE_INTEGER||9007199254740991,ow=16,aw=xp-6,uw=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var $o={MAX_LENGTH:xp,MAX_SAFE_COMPONENT_LENGTH:ow,MAX_SAFE_BUILD_LENGTH:aw,MAX_SAFE_INTEGER:sw,RELEASE_TYPES:uw,SEMVER_SPEC_VERSION:iw,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const cw=typeof process=="object"&&{}&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Do=cw;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=$o,s=Do;e=t.exports={};const o=e.re=[],a=e.safeRe=[],u=e.src=[],l=e.t={};let d=0;const p="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",i],[p,n]],M=$=>{for(const[F,S]of y)$=$.split(`${F}*`).join(`${F}{0,${S}}`).split(`${F}+`).join(`${F}{1,${S}}`);return $},A=($,F,S)=>{const O=M(F),D=d++;s($,D,F),l[$]=D,u[D]=F,o[D]=new RegExp(F,S?"g":void 0),a[D]=new RegExp(O,S?"g":void 0)};A("NUMERICIDENTIFIER","0|[1-9]\\d*"),A("NUMERICIDENTIFIERLOOSE","\\d+"),A("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),A("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),A("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),A("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),A("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),A("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),A("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),A("BUILDIDENTIFIER",`${p}+`),A("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),A("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),A("FULL",`^${u[l.FULLPLAIN]}$`),A("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),A("LOOSE",`^${u[l.LOOSEPLAIN]}$`),A("GTLT","((?:<|>)?=?)"),A("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),A("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),A("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),A("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),A("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),A("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),A("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),A("COERCERTL",u[l.COERCE],!0),A("LONETILDE","(?:~>?)"),A("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",A("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),A("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),A("LONECARET","(?:\\^)"),A("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",A("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),A("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),A("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),A("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),A("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",A("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),A("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),A("STAR","(<|>)?=?\\s*\\*"),A("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),A("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Pu,Pu.exports);var ms=Pu.exports;const lw=Object.freeze({loose:!0}),fw=Object.freeze({}),hw=t=>t?typeof t!="object"?lw:t:fw;var Sc=hw;const Ef=/^[0-9]+$/,Mp=(t,e)=>{const r=Ef.test(t),n=Ef.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},dw=(t,e)=>Mp(e,t);var Cp={compareIdentifiers:Mp,rcompareIdentifiers:dw};const Ds=Do,{MAX_LENGTH:Sf,MAX_SAFE_INTEGER:Bs}=$o,{safeRe:xf,t:Mf}=ms,pw=Sc,{compareIdentifiers:Hn}=Cp;let gw=class ir{constructor(e,r){if(r=pw(r),e instanceof ir){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Sf)throw new TypeError(`version is longer than ${Sf} characters`);Ds("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?xf[Mf.LOOSE]:xf[Mf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Bs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Bs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Bs||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Bs)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ds("SemVer.compare",this.version,this.options,e),!(e instanceof ir)){if(typeof e=="string"&&e===this.version)return 0;e=new ir(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ir||(e=new ir(e,this.options)),Hn(this.major,e.major)||Hn(this.minor,e.minor)||Hn(this.patch,e.patch)}comparePre(e){if(e instanceof ir||(e=new ir(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Ds("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hn(n,i)}while(++r)}compareBuild(e){e instanceof ir||(e=new ir(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Ds("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Hn(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Hn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var It=gw;const Cf=It,vw=(t,e,r=!1)=>{if(t instanceof Cf)return t;try{return new Cf(t,e)}catch(n){if(!r)return null;throw n}};var Ai=vw;const yw=Ai,bw=(t,e)=>{const r=yw(t,e);return r?r.version:null};var mw=bw;const _w=Ai,ww=(t,e)=>{const r=_w(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Ew=ww;const Rf=It,Sw=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Rf(t instanceof Rf?t.version:t,r).inc(e,n,i).version}catch{return null}};var xw=Sw;const If=Ai,Mw=(t,e)=>{const r=If(t,null,!0),n=If(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const d=u?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};var Cw=Mw;const Rw=It,Iw=(t,e)=>new Rw(t,e).major;var Aw=Iw;const Tw=It,kw=(t,e)=>new Tw(t,e).minor;var Ow=kw;const Nw=It,Lw=(t,e)=>new Nw(t,e).patch;var Pw=Lw;const $w=Ai,Dw=(t,e)=>{const r=$w(t,e);return r&&r.prerelease.length?r.prerelease:null};var Bw=Dw;const Af=It,Fw=(t,e,r)=>new Af(t,r).compare(new Af(e,r));var Xt=Fw;const jw=Xt,Uw=(t,e,r)=>jw(e,t,r);var Ww=Uw;const Hw=Xt,Vw=(t,e)=>Hw(t,e,!0);var zw=Vw;const Tf=It,qw=(t,e,r)=>{const n=new Tf(t,r),i=new Tf(e,r);return n.compare(i)||n.compareBuild(i)};var xc=qw;const Gw=xc,Jw=(t,e)=>t.sort((r,n)=>Gw(r,n,e));var Zw=Jw;const Qw=xc,Yw=(t,e)=>t.sort((r,n)=>Qw(n,r,e));var Kw=Yw;const Xw=Xt,e2=(t,e,r)=>Xw(t,e,r)>0;var Bo=e2;const t2=Xt,r2=(t,e,r)=>t2(t,e,r)<0;var Mc=r2;const n2=Xt,i2=(t,e,r)=>n2(t,e,r)===0;var Rp=i2;const s2=Xt,o2=(t,e,r)=>s2(t,e,r)!==0;var Ip=o2;const a2=Xt,u2=(t,e,r)=>a2(t,e,r)>=0;var Cc=u2;const c2=Xt,l2=(t,e,r)=>c2(t,e,r)<=0;var Rc=l2;const f2=Rp,h2=Ip,d2=Bo,p2=Cc,g2=Mc,v2=Rc,y2=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return f2(t,r,n);case"!=":return h2(t,r,n);case">":return d2(t,r,n);case">=":return p2(t,r,n);case"<":return g2(t,r,n);case"<=":return v2(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Ap=y2;const b2=It,m2=Ai,{safeRe:Fs,t:js}=ms,_2=(t,e)=>{if(t instanceof b2)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Fs[js.COERCE]);else{let n;for(;(n=Fs[js.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Fs[js.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Fs[js.COERCERTL].lastIndex=-1}return r===null?null:m2(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var w2=_2,Za,kf;function E2(){return kf||(kf=1,Za=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Za}var S2=Se;Se.Node=yn;Se.create=Se;function Se(t){var e=this;if(e instanceof Se||(e=new Se),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Se.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Se.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Se.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Se.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)M2(this,arguments[t]);return this.length};Se.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)C2(this,arguments[t]);return this.length};Se.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Se.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Se.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Se.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Se.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Se.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Se.prototype.map=function(t,e){e=e||this;for(var r=new Se,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Se.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Se,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Se.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Se.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Se.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Se.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Se.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Se;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Se.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Se;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Se.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=x2(this,i,r[n]);return s};Se.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function x2(t,e,r){var n=e===t.head?new yn(r,null,e,t):new yn(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function M2(t,e){t.tail=new yn(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function C2(t,e){t.head=new yn(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function yn(t,e,r,n){if(!(this instanceof yn))return new yn(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{E2()(Se)}catch{}const R2=S2,un=Symbol("max"),yr=Symbol("length"),Vn=Symbol("lengthCalculator"),Gi=Symbol("allowStale"),hn=Symbol("maxAge"),pr=Symbol("dispose"),Of=Symbol("noDisposeOnSet"),ht=Symbol("lruList"),Zt=Symbol("cache"),Tp=Symbol("updateAgeOnGet"),Qa=()=>1;class I2{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[un]=e.max||1/0;const r=e.length||Qa;if(this[Vn]=typeof r!="function"?Qa:r,this[Gi]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[hn]=e.maxAge||0,this[pr]=e.dispose,this[Of]=e.noDisposeOnSet||!1,this[Tp]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[un]=e||1/0,$i(this)}get max(){return this[un]}set allowStale(e){this[Gi]=!!e}get allowStale(){return this[Gi]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[hn]=e,$i(this)}get maxAge(){return this[hn]}set lengthCalculator(e){typeof e!="function"&&(e=Qa),e!==this[Vn]&&(this[Vn]=e,this[yr]=0,this[ht].forEach(r=>{r.length=this[Vn](r.value,r.key),this[yr]+=r.length})),$i(this)}get lengthCalculator(){return this[Vn]}get length(){return this[yr]}get itemCount(){return this[ht].length}rforEach(e,r){r=r||this;for(let n=this[ht].tail;n!==null;){const i=n.prev;Nf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ht].head;n!==null;){const i=n.next;Nf(this,e,n,r),n=i}}keys(){return this[ht].toArray().map(e=>e.key)}values(){return this[ht].toArray().map(e=>e.value)}reset(){this[pr]&&this[ht]&&this[ht].length&&this[ht].forEach(e=>this[pr](e.key,e.value)),this[Zt]=new Map,this[ht]=new R2,this[yr]=0}dump(){return this[ht].map(e=>so(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ht]}set(e,r,n){if(n=n||this[hn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Vn](r,e);if(this[Zt].has(e)){if(s>this[un])return ri(this,this[Zt].get(e)),!1;const u=this[Zt].get(e).value;return this[pr]&&(this[Of]||this[pr](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[yr]+=s-u.length,u.length=s,this.get(e),$i(this),!0}const o=new A2(e,r,s,i,n);return o.length>this[un]?(this[pr]&&this[pr](e,r),!1):(this[yr]+=o.length,this[ht].unshift(o),this[Zt].set(e,this[ht].head),$i(this),!0)}has(e){if(!this[Zt].has(e))return!1;const r=this[Zt].get(e).value;return!so(this,r)}get(e){return Ya(this,e,!0)}peek(e){return Ya(this,e,!1)}pop(){const e=this[ht].tail;return e?(ri(this,e),e.value):null}del(e){ri(this,this[Zt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Zt].forEach((e,r)=>Ya(this,r,!1))}}const Ya=(t,e,r)=>{const n=t[Zt].get(e);if(n){const i=n.value;if(so(t,i)){if(ri(t,n),!t[Gi])return}else r&&(t[Tp]&&(n.value.now=Date.now()),t[ht].unshiftNode(n));return i.value}},so=(t,e)=>{if(!e||!e.maxAge&&!t[hn])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[hn]&&r>t[hn]},$i=t=>{if(t[yr]>t[un])for(let e=t[ht].tail;t[yr]>t[un]&&e!==null;){const r=e.prev;ri(t,e),e=r}},ri=(t,e)=>{if(e){const r=e.value;t[pr]&&t[pr](r.key,r.value),t[yr]-=r.length,t[Zt].delete(r.key),t[ht].removeNode(e)}};class A2{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Nf=(t,e,r,n)=>{let i=r.value;so(t,i)&&(ri(t,r),t[Gi]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var T2=I2,Ka,Lf;function er(){if(Lf)return Ka;Lf=1;class t{constructor(c,g){if(g=n(g),c instanceof t)return c.loose===!!g.loose&&c.includePrerelease===!!g.includePrerelease?c:new t(c.raw,g);if(c instanceof i)return this.raw=c.value,this.set=[[c]],this.format(),this;if(this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease,this.raw=c.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(b=>this.parseRange(b.trim())).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(E=>!A(E[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const E of this.set)if(E.length===1&&$(E[0])){this.set=[E];break}}}this.format()}format(){return this.range=this.set.map(c=>c.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(c){const b=((this.options.includePrerelease&&y)|(this.options.loose&&M))+":"+c,E=r.get(b);if(E)return E;const x=this.options.loose,k=x?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];c=c.replace(k,ie(this.options.includePrerelease)),s("hyphen replace",c),c=c.replace(a[u.COMPARATORTRIM],l),s("comparator trim",c),c=c.replace(a[u.TILDETRIM],d),s("tilde trim",c),c=c.replace(a[u.CARETTRIM],p),s("caret trim",c);let L=c.split(" ").map(Q=>S(Q,this.options)).join(" ").split(/\s+/).map(Q=>ne(Q,this.options));x&&(L=L.filter(Q=>(s("loose invalid filter",Q,this.options),!!Q.match(a[u.COMPARATORLOOSE])))),s("range list",L);const w=new Map,f=L.map(Q=>new i(Q,this.options));for(const Q of f){if(A(Q))return[Q];w.set(Q.value,Q)}w.size>1&&w.has("")&&w.delete("");const I=[...w.values()];return r.set(b,I),I}intersects(c,g){if(!(c instanceof t))throw new TypeError("a Range is required");return this.set.some(b=>F(b,g)&&c.set.some(E=>F(E,g)&&b.every(x=>E.every(k=>x.intersects(k,g)))))}test(c){if(!c)return!1;if(typeof c=="string")try{c=new o(c,this.options)}catch{return!1}for(let g=0;g<this.set.length;g++)if(ce(this.set[g],c,this.options))return!0;return!1}}Ka=t;const e=T2,r=new e({max:1e3}),n=Sc,i=Fo(),s=Do,o=It,{safeRe:a,t:u,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:p}=ms,{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:M}=$o,A=_=>_.value==="<0.0.0-0",$=_=>_.value==="",F=(_,c)=>{let g=!0;const b=_.slice();let E=b.pop();for(;g&&b.length;)g=b.every(x=>E.intersects(x,c)),E=b.pop();return g},S=(_,c)=>(s("comp",_,c),_=j(_,c),s("caret",_),_=D(_,c),s("tildes",_),_=K(_,c),s("xrange",_),_=q(_,c),s("stars",_),_),O=_=>!_||_.toLowerCase()==="x"||_==="*",D=(_,c)=>_.trim().split(/\s+/).map(g=>U(g,c)).join(" "),U=(_,c)=>{const g=c.loose?a[u.TILDELOOSE]:a[u.TILDE];return _.replace(g,(b,E,x,k,L)=>{s("tilde",_,b,E,x,k,L);let w;return O(E)?w="":O(x)?w=`>=${E}.0.0 <${+E+1}.0.0-0`:O(k)?w=`>=${E}.${x}.0 <${E}.${+x+1}.0-0`:L?(s("replaceTilde pr",L),w=`>=${E}.${x}.${k}-${L} <${E}.${+x+1}.0-0`):w=`>=${E}.${x}.${k} <${E}.${+x+1}.0-0`,s("tilde return",w),w})},j=(_,c)=>_.trim().split(/\s+/).map(g=>V(g,c)).join(" "),V=(_,c)=>{s("caret",_,c);const g=c.loose?a[u.CARETLOOSE]:a[u.CARET],b=c.includePrerelease?"-0":"";return _.replace(g,(E,x,k,L,w)=>{s("caret",_,E,x,k,L,w);let f;return O(x)?f="":O(k)?f=`>=${x}.0.0${b} <${+x+1}.0.0-0`:O(L)?x==="0"?f=`>=${x}.${k}.0${b} <${x}.${+k+1}.0-0`:f=`>=${x}.${k}.0${b} <${+x+1}.0.0-0`:w?(s("replaceCaret pr",w),x==="0"?k==="0"?f=`>=${x}.${k}.${L}-${w} <${x}.${k}.${+L+1}-0`:f=`>=${x}.${k}.${L}-${w} <${x}.${+k+1}.0-0`:f=`>=${x}.${k}.${L}-${w} <${+x+1}.0.0-0`):(s("no pr"),x==="0"?k==="0"?f=`>=${x}.${k}.${L}${b} <${x}.${k}.${+L+1}-0`:f=`>=${x}.${k}.${L}${b} <${x}.${+k+1}.0-0`:f=`>=${x}.${k}.${L} <${+x+1}.0.0-0`),s("caret return",f),f})},K=(_,c)=>(s("replaceXRanges",_,c),_.split(/\s+/).map(g=>X(g,c)).join(" ")),X=(_,c)=>{_=_.trim();const g=c.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return _.replace(g,(b,E,x,k,L,w)=>{s("xRange",_,b,E,x,k,L,w);const f=O(x),I=f||O(k),Q=I||O(L),ee=Q;return E==="="&&ee&&(E=""),w=c.includePrerelease?"-0":"",f?E===">"||E==="<"?b="<0.0.0-0":b="*":E&&ee?(I&&(k=0),L=0,E===">"?(E=">=",I?(x=+x+1,k=0,L=0):(k=+k+1,L=0)):E==="<="&&(E="<",I?x=+x+1:k=+k+1),E==="<"&&(w="-0"),b=`${E+x}.${k}.${L}${w}`):I?b=`>=${x}.0.0${w} <${+x+1}.0.0-0`:Q&&(b=`>=${x}.${k}.0${w} <${x}.${+k+1}.0-0`),s("xRange return",b),b})},q=(_,c)=>(s("replaceStars",_,c),_.trim().replace(a[u.STAR],"")),ne=(_,c)=>(s("replaceGTE0",_,c),_.trim().replace(a[c.includePrerelease?u.GTE0PRE:u.GTE0],"")),ie=_=>(c,g,b,E,x,k,L,w,f,I,Q,ee,N)=>(O(b)?g="":O(E)?g=`>=${b}.0.0${_?"-0":""}`:O(x)?g=`>=${b}.${E}.0${_?"-0":""}`:k?g=`>=${g}`:g=`>=${g}${_?"-0":""}`,O(f)?w="":O(I)?w=`<${+f+1}.0.0-0`:O(Q)?w=`<${f}.${+I+1}.0-0`:ee?w=`<=${f}.${I}.${Q}-${ee}`:_?w=`<${f}.${I}.${+Q+1}-0`:w=`<=${w}`,`${g} ${w}`.trim()),ce=(_,c,g)=>{for(let b=0;b<_.length;b++)if(!_[b].test(c))return!1;if(c.prerelease.length&&!g.includePrerelease){for(let b=0;b<_.length;b++)if(s(_[b].semver),_[b].semver!==i.ANY&&_[b].semver.prerelease.length>0){const E=_[b].semver;if(E.major===c.major&&E.minor===c.minor&&E.patch===c.patch)return!0}return!1}return!0};return Ka}var Xa,Pf;function Fo(){if(Pf)return Xa;Pf=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,p){if(p=r(p),d instanceof e){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const p=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],y=d.match(p);if(!y)throw new TypeError(`Invalid comparator: ${d}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new a(y[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new a(d,this.options)}catch{return!1}return s(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new u(this.value,p).test(d.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||s(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||s(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}Xa=e;const r=Sc,{safeRe:n,t:i}=ms,s=Ap,o=Do,a=It,u=er();return Xa}const k2=er(),O2=(t,e,r)=>{try{e=new k2(e,r)}catch{return!1}return e.test(t)};var jo=O2;const N2=er(),L2=(t,e)=>new N2(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var P2=L2;const $2=It,D2=er(),B2=(t,e,r)=>{let n=null,i=null,s=null;try{s=new D2(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new $2(n,r))}),n};var F2=B2;const j2=It,U2=er(),W2=(t,e,r)=>{let n=null,i=null,s=null;try{s=new U2(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new j2(n,r))}),n};var H2=W2;const eu=It,V2=er(),$f=Bo,z2=(t,e)=>{t=new V2(t,e);let r=new eu("0.0.0");if(t.test(r)||(r=new eu("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new eu(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||$f(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||$f(r,s))&&(r=s)}return r&&t.test(r)?r:null};var q2=z2;const G2=er(),J2=(t,e)=>{try{return new G2(t,e).range||"*"}catch{return null}};var Z2=J2;const Q2=It,kp=Fo(),{ANY:Y2}=kp,K2=er(),X2=jo,Df=Bo,Bf=Mc,eE=Rc,tE=Cc,rE=(t,e,r,n)=>{t=new Q2(t,n),e=new K2(e,n);let i,s,o,a,u;switch(r){case">":i=Df,s=eE,o=Bf,a=">",u=">=";break;case"<":i=Bf,s=tE,o=Df,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(X2(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const d=e.set[l];let p=null,y=null;if(d.forEach(M=>{M.semver===Y2&&(M=new kp(">=0.0.0")),p=p||M,y=y||M,i(M.semver,p.semver,n)?p=M:o(M.semver,y.semver,n)&&(y=M)}),p.operator===a||p.operator===u||(!y.operator||y.operator===a)&&s(t,y.semver))return!1;if(y.operator===u&&o(t,y.semver))return!1}return!0};var Ic=rE;const nE=Ic,iE=(t,e,r)=>nE(t,e,">",r);var sE=iE;const oE=Ic,aE=(t,e,r)=>oE(t,e,"<",r);var uE=aE;const Ff=er(),cE=(t,e,r)=>(t=new Ff(t,r),e=new Ff(e,r),t.intersects(e,r));var lE=cE;const fE=jo,hE=Xt;var dE=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((d,p)=>hE(d,p,r));for(const d of o)fE(d,e,r)?(s=d,i||(i=d)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[d,p]of n)d===p?a.push(d):!p&&d===o[0]?a.push("*"):p?d===o[0]?a.push(`<=${p}`):a.push(`${d} - ${p}`):a.push(`>=${d}`);const u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e};const jf=er(),Ac=Fo(),{ANY:tu}=Ac,Di=jo,Tc=Xt,pE=(t,e,r={})=>{if(t===e)return!0;t=new jf(t,r),e=new jf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=vE(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},gE=[new Ac(">=0.0.0-0")],Uf=[new Ac(">=0.0.0")],vE=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===tu){if(e.length===1&&e[0].semver===tu)return!0;r.includePrerelease?t=gE:t=Uf}if(e.length===1&&e[0].semver===tu){if(r.includePrerelease)return!0;e=Uf}const n=new Set;let i,s;for(const M of t)M.operator===">"||M.operator===">="?i=Wf(i,M,r):M.operator==="<"||M.operator==="<="?s=Hf(s,M,r):n.add(M.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Tc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const M of n){if(i&&!Di(M,String(i),r)||s&&!Di(M,String(s),r))return null;for(const A of e)if(!Di(M,String(A),r))return!1;return!0}let a,u,l,d,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,y=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const M of e){if(d=d||M.operator===">"||M.operator===">=",l=l||M.operator==="<"||M.operator==="<=",i){if(y&&M.semver.prerelease&&M.semver.prerelease.length&&M.semver.major===y.major&&M.semver.minor===y.minor&&M.semver.patch===y.patch&&(y=!1),M.operator===">"||M.operator===">="){if(a=Wf(i,M,r),a===M&&a!==i)return!1}else if(i.operator===">="&&!Di(i.semver,String(M),r))return!1}if(s){if(p&&M.semver.prerelease&&M.semver.prerelease.length&&M.semver.major===p.major&&M.semver.minor===p.minor&&M.semver.patch===p.patch&&(p=!1),M.operator==="<"||M.operator==="<="){if(u=Hf(s,M,r),u===M&&u!==s)return!1}else if(s.operator==="<="&&!Di(s.semver,String(M),r))return!1}if(!M.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&d&&!i&&o!==0||y||p)},Wf=(t,e,r)=>{if(!t)return e;const n=Tc(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Hf=(t,e,r)=>{if(!t)return e;const n=Tc(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var yE=pE;const ru=ms,Vf=$o,bE=It,zf=Cp,mE=Ai,_E=mw,wE=Ew,EE=xw,SE=Cw,xE=Aw,ME=Ow,CE=Pw,RE=Bw,IE=Xt,AE=Ww,TE=zw,kE=xc,OE=Zw,NE=Kw,LE=Bo,PE=Mc,$E=Rp,DE=Ip,BE=Cc,FE=Rc,jE=Ap,UE=w2,WE=Fo(),HE=er(),VE=jo,zE=P2,qE=F2,GE=H2,JE=q2,ZE=Z2,QE=Ic,YE=sE,KE=uE,XE=lE,eS=dE,tS=yE;var rS={parse:mE,valid:_E,clean:wE,inc:EE,diff:SE,major:xE,minor:ME,patch:CE,prerelease:RE,compare:IE,rcompare:AE,compareLoose:TE,compareBuild:kE,sort:OE,rsort:NE,gt:LE,lt:PE,eq:$E,neq:DE,gte:BE,lte:FE,cmp:jE,coerce:UE,Comparator:WE,Range:HE,satisfies:VE,toComparators:zE,maxSatisfying:qE,minSatisfying:GE,minVersion:JE,validRange:ZE,outside:QE,gtr:YE,ltr:KE,intersects:XE,simplifyRange:eS,subset:tS,SemVer:bE,re:ru.re,src:ru.src,tokens:ru.t,SEMVER_SPEC_VERSION:Vf.SEMVER_SPEC_VERSION,RELEASE_TYPES:Vf.RELEASE_TYPES,compareIdentifiers:zf.compareIdentifiers,rcompareIdentifiers:zf.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=rS,r=Rn,n=mt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",p=>(0,e.valid)(p)===null?`Expected SemVer version, got "${p}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",p=>(0,e.validRange)(p)===null?`Expected SemVer range, got "${p}"`:!0);function i(p){return(0,r.is)(p,t.VersionStruct)}t.isValidSemVerVersion=i;function s(p){return(0,r.is)(p,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(p){(0,n.assertStruct)(p,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(p){(0,n.assertStruct)(p,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function u(p,y){return(0,e.gt)(p,y)}t.gtVersion=u;function l(p,y){return(0,e.gtr)(p,y)}t.gtRange=l;function d(p,y){return(0,e.satisfies)(p,y,{includePrerelease:!0})}t.satisfiesVersionRange=d})(Sp);(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mt,t),r(ys,t),r(Ee,t),r(Lo,t),r(cr,t),r(fi,t),r(bs,t),r(_p,t),r(hi,t),r(Ec,t),r(lr,t),r(wp,t),r(Ep,t),r(Sp,t)})(tp);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=tp;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(ep);var Op=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.PollingBlockTracker=void 0;const nS=Op(hc),iS=Op(M1),sS=gs,qf=ep,Gf=(0,qf.createModuleLogger)(qf.projectLogger,"polling-block-tracker"),oS=(0,nS.default)(),aS=1e3;class uS extends sS.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*aS,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Jf(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Jf(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:oS(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Gf("Making request",e);const r=await(0,iS.default)(n=>this._provider.sendAsync(e,n))();if(Gf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Oo.PollingBlockTracker=uS;function Jf(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Uo={},cS=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.SubscribeBlockTracker=void 0;const lS=cS(hc),fS=gs,hS=(0,lS.default)();class dS extends fS.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:hS(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Uo.SubscribeBlockTracker=dS;var Np={};Object.defineProperty(Np,"__esModule",{value:!0});(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Oo,t),r(Uo,t),r(Np,t)})(Xd);var kc={},Wo={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.getUniqueId=void 0;const Lp=4294967295;let nu=Math.floor(Math.random()*Lp);function pS(){return nu=(nu+1)%Lp,nu}_s.getUniqueId=pS;Object.defineProperty(Wo,"__esModule",{value:!0});Wo.createIdRemapMiddleware=void 0;const gS=_s;function vS(){return(t,e,r,n)=>{const i=t.id,s=gS.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Wo.createIdRemapMiddleware=vS;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.createAsyncMiddleware=void 0;function yS(t){return async(e,r,n,i)=>{let s;const o=new Promise(d=>{s=d});let a=null,u=!1;const l=async()=>{u=!0,n(d=>{a=d,s()}),await o};try{await t(e,r,l),u?(await o,a(null)):i(null)}catch(d){a?a(d):i(d)}}}Ho.createAsyncMiddleware=yS;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.createScaffoldMiddleware=void 0;function bS(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Vo.createScaffoldMiddleware=bS;var ws={},Pp={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.EthereumProviderError=Lr.EthereumRpcError=void 0;const mS=Uh;class $p extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return mS.default(this.serialize(),ES,2)}}Lr.EthereumRpcError=$p;class _S extends $p{constructor(e,r,n){if(!wS(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Lr.EthereumProviderError=_S;function wS(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function ES(t,e){if(e!=="[Circular]")return e}var Oc={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.errorValues=Pr.errorCodes=void 0;Pr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Pr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Pr,r=Lr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(y,M=i){if(Number.isInteger(y)){const A=y.toString();if(p(e.errorValues,A))return e.errorValues[A].message;if(l(y))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return M}t.getMessageFromCode=o;function a(y){if(!Number.isInteger(y))return!1;const M=y.toString();return!!(e.errorValues[M]||l(y))}t.isValidCode=a;function u(y,{fallbackError:M=s,shouldIncludeStack:A=!1}={}){var $,F;if(!M||!Number.isInteger(M.code)||typeof M.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(y instanceof r.EthereumRpcError)return y.serialize();const S={};if(y&&typeof y=="object"&&!Array.isArray(y)&&p(y,"code")&&a(y.code)){const D=y;S.code=D.code,D.message&&typeof D.message=="string"?(S.message=D.message,p(D,"data")&&(S.data=D.data)):(S.message=o(S.code),S.data={originalError:d(y)})}else{S.code=M.code;const D=($=y)===null||$===void 0?void 0:$.message;S.message=D&&typeof D=="string"?D:M.message,S.data={originalError:d(y)}}const O=(F=y)===null||F===void 0?void 0:F.stack;return A&&y&&O&&typeof O=="string"&&(S.stack=O),S}t.serializeError=u;function l(y){return y>=-32099&&y<=-32e3}function d(y){return y&&typeof y=="object"&&!Array.isArray(y)?Object.assign({},y):y}function p(y,M){return Object.prototype.hasOwnProperty.call(y,M)}})(Oc);var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.ethErrors=void 0;const Nc=Lr,Dp=Oc,wt=Pr;zo.ethErrors={rpc:{parse:t=>$t(wt.errorCodes.rpc.parse,t),invalidRequest:t=>$t(wt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>$t(wt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>$t(wt.errorCodes.rpc.methodNotFound,t),internal:t=>$t(wt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return $t(e,t)},invalidInput:t=>$t(wt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>$t(wt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>$t(wt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>$t(wt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>$t(wt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>$t(wt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Bi(wt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Bi(wt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Bi(wt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Bi(wt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Bi(wt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Nc.EthereumProviderError(e,r,n)}}};function $t(t,e){const[r,n]=Bp(e);return new Nc.EthereumRpcError(t,r||Dp.getMessageFromCode(t),n)}function Bi(t,e){const[r,n]=Bp(e);return new Nc.EthereumProviderError(t,r||Dp.getMessageFromCode(t),n)}function Bp(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Lr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Oc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=zo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Pr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Pp);var SS=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ws,"__esModule",{value:!0});ws.JsonRpcEngine=void 0;const xS=SS(wn),Dt=Pp;class gr extends xS.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await gr._runAllMiddleware(e,r,this._middleware);return o?(await gr._runReturnHandlers(a),i(s)):n(async u=>{try{await gr._runReturnHandlers(a)}catch(l){return u(l)}return u()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Dt.EthereumRpcError(Dt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Dt.EthereumRpcError(Dt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Dt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await gr._runAllMiddleware(e,r,this._middleware);if(gr._checkForCompletion(e,r,i),await gr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await gr._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=u=>{const l=u||r.error;l&&(r.error=Dt.serializeError(l)),s([l,!0])},a=u=>{r.error?o(r.error):(u&&(typeof u!="function"&&o(new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${iu(e)}`,{request:e})),i.push(u)),s([null,!1]))};try{n(e,r,a,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${iu(e)}`,{request:e});if(!n)throw new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${iu(e)}`,{request:e})}}ws.JsonRpcEngine=gr;function iu(t){return JSON.stringify(t,null,2)}var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.mergeMiddleware=void 0;const MS=ws;function CS(t){const e=new MS.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}qo.mergeMiddleware=CS;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Wo,t),r(Ho,t),r(Vo,t),r(_s,t),r(ws,t),r(qo,t)})(kc);var Fp={},Lc={},$u=function(t,e){return $u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$u(t,e)};function jp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$u(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oo=function(){return oo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},oo.apply(this,arguments)};function Up(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Wp(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Hp(t,e){return function(r,n){e(r,n,t)}}function RS(t,e,r,n,i,s){function o(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,d=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),p,y=!1,M=r.length-1;M>=0;M--){var A={};for(var $ in n)A[$]=$==="access"?{}:n[$];for(var $ in n.access)A.access[$]=n.access[$];A.addInitializer=function(S){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(S||null))};var F=(0,r[M])(a==="accessor"?{get:d.get,set:d.set}:d[u],A);if(a==="accessor"){if(F===void 0)continue;if(F===null||typeof F!="object")throw new TypeError("Object expected");(p=o(F.get))&&(d.get=p),(p=o(F.set))&&(d.set=p),(p=o(F.init))&&i.unshift(p)}else(p=o(F))&&(a==="field"?i.unshift(p):d[u]=p)}l&&Object.defineProperty(l,n.name,d),y=!0}function IS(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function AS(t){return typeof t=="symbol"?t:"".concat(t)}function TS(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Vp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function zp(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function qp(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return u([l,d])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Go=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Gp(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Go(e,t,r)}function ao(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pc(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Jp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pc(arguments[e]));return t}function Zp(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Qp(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function di(t){return this instanceof di?(this.v=t,this):new di(t)}function Yp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){n[y]&&(i[y]=function(M){return new Promise(function(A,$){s.push([y,M,A,$])>1||a(y,M)})})}function a(y,M){try{u(n[y](M))}catch(A){p(s[0][3],A)}}function u(y){y.value instanceof di?Promise.resolve(y.value.v).then(l,d):p(s[0][2],y)}function l(y){a("next",y)}function d(y){a("throw",y)}function p(y,M){y(M),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Kp(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:di(t[i](o)),done:!1}:s?s(o):o}:s}}function Xp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ao=="function"?ao(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function e0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var kS=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function t0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Go(e,t,r);return kS(e,t),e}function r0(t){return t&&t.__esModule?t:{default:t}}function n0(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function i0(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function s0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function o0(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var OS=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function a0(t){function e(n){t.error=t.hasError?new OS(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}const NS={__extends:jp,__assign:oo,__rest:Up,__decorate:Wp,__param:Hp,__metadata:Vp,__awaiter:zp,__generator:qp,__createBinding:Go,__exportStar:Gp,__values:ao,__read:Pc,__spread:Jp,__spreadArrays:Zp,__spreadArray:Qp,__await:di,__asyncGenerator:Yp,__asyncDelegator:Kp,__asyncValues:Xp,__makeTemplateObject:e0,__importStar:t0,__importDefault:r0,__classPrivateFieldGet:n0,__classPrivateFieldSet:i0,__classPrivateFieldIn:s0,__addDisposableResource:o0,__disposeResources:a0},LS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:o0,get __assign(){return oo},__asyncDelegator:Kp,__asyncGenerator:Yp,__asyncValues:Xp,__await:di,__awaiter:zp,__classPrivateFieldGet:n0,__classPrivateFieldIn:s0,__classPrivateFieldSet:i0,__createBinding:Go,__decorate:Wp,__disposeResources:a0,__esDecorate:RS,__exportStar:Gp,__extends:jp,__generator:qp,__importDefault:r0,__importStar:t0,__makeTemplateObject:e0,__metadata:Vp,__param:Hp,__propKey:AS,__read:Pc,__rest:Up,__runInitializers:IS,__setFunctionName:TS,__spread:Jp,__spreadArray:Qp,__spreadArrays:Zp,__values:ao,default:NS},Symbol.toStringTag,{value:"Module"})),$c=_n(LS);var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});var Zf=$c,PS=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Zf.__awaiter(this,void 0,void 0,function(){var r,n,i;return Zf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Jo.default=PS;Object.defineProperty(Lc,"__esModule",{value:!0});var Qf=$c,$S=Jo,DS=function(){function t(){this._semaphore=new $S.default(1)}return t.prototype.acquire=function(){return Qf.__awaiter(this,void 0,void 0,function(){var e,r;return Qf.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Lc.default=DS;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.withTimeout=void 0;var Us=$c;function BS(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Us.__awaiter(n,void 0,void 0,function(){var o,a,u;return Us.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return Us.__awaiter(this,void 0,void 0,function(){var s,o;return Us.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Zo.withTimeout=BS;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Lc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Jo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Zo;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Fp);var FS=US,jS=Object.prototype.hasOwnProperty;function US(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)jS.call(r,n)&&(t[n]=r[n])}return t}const WS=FS,HS=hc();var VS=de;function de(t){const e=this;e.currentProvider=t}de.prototype.getBalance=Es(2,"eth_getBalance");de.prototype.getCode=Es(2,"eth_getCode");de.prototype.getTransactionCount=Es(2,"eth_getTransactionCount");de.prototype.getStorageAt=Es(3,"eth_getStorageAt");de.prototype.call=Es(2,"eth_call");de.prototype.protocolVersion=be("eth_protocolVersion");de.prototype.syncing=be("eth_syncing");de.prototype.coinbase=be("eth_coinbase");de.prototype.mining=be("eth_mining");de.prototype.hashrate=be("eth_hashrate");de.prototype.gasPrice=be("eth_gasPrice");de.prototype.accounts=be("eth_accounts");de.prototype.blockNumber=be("eth_blockNumber");de.prototype.getBlockTransactionCountByHash=be("eth_getBlockTransactionCountByHash");de.prototype.getBlockTransactionCountByNumber=be("eth_getBlockTransactionCountByNumber");de.prototype.getUncleCountByBlockHash=be("eth_getUncleCountByBlockHash");de.prototype.getUncleCountByBlockNumber=be("eth_getUncleCountByBlockNumber");de.prototype.sign=be("eth_sign");de.prototype.sendTransaction=be("eth_sendTransaction");de.prototype.sendRawTransaction=be("eth_sendRawTransaction");de.prototype.estimateGas=be("eth_estimateGas");de.prototype.getBlockByHash=be("eth_getBlockByHash");de.prototype.getBlockByNumber=be("eth_getBlockByNumber");de.prototype.getTransactionByHash=be("eth_getTransactionByHash");de.prototype.getTransactionByBlockHashAndIndex=be("eth_getTransactionByBlockHashAndIndex");de.prototype.getTransactionByBlockNumberAndIndex=be("eth_getTransactionByBlockNumberAndIndex");de.prototype.getTransactionReceipt=be("eth_getTransactionReceipt");de.prototype.getUncleByBlockHashAndIndex=be("eth_getUncleByBlockHashAndIndex");de.prototype.getUncleByBlockNumberAndIndex=be("eth_getUncleByBlockNumberAndIndex");de.prototype.getCompilers=be("eth_getCompilers");de.prototype.compileLLL=be("eth_compileLLL");de.prototype.compileSolidity=be("eth_compileSolidity");de.prototype.compileSerpent=be("eth_compileSerpent");de.prototype.newFilter=be("eth_newFilter");de.prototype.newBlockFilter=be("eth_newBlockFilter");de.prototype.newPendingTransactionFilter=be("eth_newPendingTransactionFilter");de.prototype.uninstallFilter=be("eth_uninstallFilter");de.prototype.getFilterChanges=be("eth_getFilterChanges");de.prototype.getFilterLogs=be("eth_getFilterLogs");de.prototype.getLogs=be("eth_getLogs");de.prototype.getWork=be("eth_getWork");de.prototype.submitWork=be("eth_submitWork");de.prototype.submitHashrate=be("eth_submitHashrate");de.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(zS(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function be(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Es(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function zS(t){return WS({id:HS(),jsonrpc:"2.0",params:[]},t)}const Yf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,d)=>{l?a(l):o(d)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Kf=new WeakMap;var qS=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let u=Kf.get(o);if(u||(u={},Kf.set(o,u)),a in u)return u[a];const l=A=>typeof A=="string"||typeof a=="symbol"?a===A:A.test(a),d=Reflect.getOwnPropertyDescriptor(o,a),p=d===void 0||d.writable||d.configurable,M=(e.include?e.include.some(l):!e.exclude.some(l))&&p;return u[a]=M,M},i=new WeakMap,s=new Proxy(t,{apply(o,a,u){const l=i.get(o);if(l)return Reflect.apply(l,a,u);const d=e.excludeMain?o:Yf(o,e,s,o);return i.set(o,d),Reflect.apply(d,a,u)},get(o,a){const u=o[a];if(!n(o,a)||u===Function.prototype[a])return u;const l=i.get(u);if(l)return l;if(typeof u=="function"){const d=Yf(u,e,s,o);return i.set(u,d),d}return u}});return s};const GS=wn.default;let JS=class extends GS{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Dc=JS;const ZS=Dc;let QS=class extends ZS{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var YS=QS,Ss={minBlockRef:KS,maxBlockRef:XS,sortBlockRefs:Bc,bnToHex:e3,blockRefIsNumber:t3,hexToInt:uo,incrementHexInt:r3,intToHex:u0,unsafeRandomBytes:n3};function KS(...t){return Bc(t)[0]}function XS(...t){const e=Bc(t);return e[e.length-1]}function Bc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:uo(e)-uo(r))}function e3(t){return"0x"+t.toString(16)}function t3(t){return t&&!["earliest","latest","pending"].includes(t)}function uo(t){return t==null?t:Number.parseInt(t,16)}function r3(t){if(t==null)return t;const e=uo(t);return u0(e+1)}function u0(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function n3(t){let e="0x";for(let r=0;r<t;r++)e+=Xf(),e+=Xf();return e}function Xf(){return Math.floor(Math.random()*16).toString(16)}const i3=VS,s3=qS,o3=YS,{bnToHex:TI,hexToInt:Ws,incrementHexInt:a3,minBlockRef:u3,blockRefIsNumber:c3}=Ss;let l3=class extends o3{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new i3(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=u3(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=a3(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await s3(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ws(this.params.fromBlock)>=Ws(e.blockNumber)||c3(this.params.toBlock)&&Ws(this.params.toBlock)<=Ws(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(d=>d.toLowerCase()),a.includes(o))})}};var f3=l3,Fc=h3;async function h3({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=eh(e),s=eh(r)-n+1,o=Array(s).fill().map((u,l)=>n+l).map(d3);return await Promise.all(o.map(u=>g3(t,"eth_getBlockByNumber",[u,!1])))}function eh(t){return t==null?t:Number.parseInt(t,16)}function d3(t){return t==null?t:"0x"+t.toString(16)}function p3(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function g3(t,e,r){for(let n=0;n<3;n++)try{return await p3(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const v3=Dc,y3=Fc,{incrementHexInt:b3}=Ss;let m3=class extends v3{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=b3(e),o=(await y3({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var _3=m3;const w3=Dc,E3=Fc,{incrementHexInt:S3}=Ss;let x3=class extends w3{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=S3(e),i=await E3({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var M3=x3;const C3=Fp.Mutex,{createAsyncMiddleware:R3,createScaffoldMiddleware:I3}=kc,A3=f3,T3=_3,k3=M3,{intToHex:c0,hexToInt:su}=Ss;var O3=N3;function N3({blockTracker:t,provider:e}){let r=0,n={};const i=new C3,s=L3({mutex:i}),o=I3({eth_newFilter:s(ou(u)),eth_newBlockFilter:s(ou(l)),eth_newPendingTransactionFilter:s(ou(d)),eth_uninstallFilter:s(Zs(M)),eth_getFilterChanges:s(Zs(p)),eth_getFilterLogs:s(Zs(y))}),a=async({oldBlock:O,newBlock:D})=>{if(n.length===0)return;const U=await i.acquire();try{await Promise.all(zn(n).map(async j=>{try{await j.update({oldBlock:O,newBlock:D})}catch(V){console.error(V)}}))}catch(j){console.error(j)}U()};return o.newLogFilter=u,o.newBlockFilter=l,o.newPendingTransactionFilter=d,o.uninstallFilter=M,o.getFilterChanges=p,o.getFilterLogs=y,o.destroy=()=>{F()},o;async function u(O){const D=new A3({provider:e,params:O});return await A(D),D}async function l(){const O=new T3({provider:e});return await A(O),O}async function d(){const O=new k3({provider:e});return await A(O),O}async function p(O){const D=su(O),U=n[D];if(!U)throw new Error(`No filter for index "${D}"`);return U.getChangesAndClear()}async function y(O){const D=su(O),U=n[D];if(!U)throw new Error(`No filter for index "${D}"`);let j=[];return U.type==="log"&&(j=U.getAllResults()),j}async function M(O){const D=su(O),j=!!n[D];return j&&await $(D),j}async function A(O){const D=zn(n).length,U=await t.getLatestBlock();await O.initialize({currentBlock:U}),r++,n[r]=O,O.id=r,O.idHex=c0(r);const j=zn(n).length;return S({prevFilterCount:D,newFilterCount:j}),r}async function $(O){const D=zn(n).length;delete n[O];const U=zn(n).length;S({prevFilterCount:D,newFilterCount:U})}async function F(){const O=zn(n).length;n={},S({prevFilterCount:O,newFilterCount:0})}function S({prevFilterCount:O,newFilterCount:D}){if(O===0&&D>0){t.on("sync",a);return}if(O>0&&D===0){t.removeListener("sync",a);return}}}function ou(t){return Zs(async(...e)=>{const r=await t(...e);return c0(r.id)})}function Zs(t){return R3(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function L3({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function zn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const P3=wn.default,{createAsyncMiddleware:th,createScaffoldMiddleware:$3}=kc,D3=O3,{unsafeRandomBytes:B3,incrementHexInt:F3}=Ss,j3=Fc;var U3=W3;function W3({blockTracker:t,provider:e}){const r={},n=D3({blockTracker:t,provider:e});let i=!1;const s=new P3,o=$3({eth_subscribe:th(a),eth_unsubscribe:th(u)});return o.destroy=d,{events:s,middleware:o};async function a(p,y){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const M=p.params[0],A=B3(16);let $;switch(M){case"newHeads":$=F({subId:A});break;case"logs":const O=p.params[1],D=await n.newLogFilter(O);$=S({subId:A,filter:D});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${M}"`)}r[A]=$,y.result=A;return;function F({subId:O}){const D={type:M,destroy:async()=>{t.removeListener("sync",D.update)},update:async({oldBlock:U,newBlock:j})=>{const V=j,K=F3(U);(await j3({provider:e,fromBlock:K,toBlock:V})).map(H3).filter(ne=>ne!==null).forEach(ne=>{l(O,ne)})}};return t.on("sync",D.update),D}function S({subId:O,filter:D}){return D.on("update",j=>l(O,j)),{type:M,destroy:async()=>await n.uninstallFilter(D.idHex)}}}async function u(p,y){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const M=p.params[0],A=r[M];if(!A){y.result=!1;return}delete r[M],await A.destroy(),y.result=!0}function l(p,y){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:p,result:y}})}function d(){s.removeAllListeners();for(const p in r)r[p].destroy(),delete r[p];i=!0}}function H3(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(ko,"__esModule",{value:!0});ko.SubscriptionManager=void 0;const V3=Xd,z3=U3,rh=()=>{};class q3{constructor(e){const r=new V3.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=z3({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,rh,rh),r}destroy(){this.subscriptionMiddleware.destroy()}}ko.SubscriptionManager=q3;var jc=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(si,"__esModule",{value:!0});si.CoinbaseWalletProvider=void 0;const G3=jc(wn),J3=jc(wo),au=wi,Re=ss,nh=Si,ih=Yt,uu=So,Z3=Ae,ve=se,cu=jc(_1),Q3=li,xe=Kd,Y3=ko,sh="DefaultChainId",oh="DefaultJsonRpcUrl";class K3 extends G3.default{constructor(e){var r,n;super(),this._filterPolyfill=new Q3.FilterPolyfill(this),this._subscriptionManager=new Y3.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,ve.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(ih.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,ve.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,d=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(d,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ve.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(oh))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(oh,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(sh,r.toString(10)),((0,ve.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,u;if((0,ve.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),d=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!d&&await l.requestEthereumAccounts().promise;const p=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=p.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((u=p.result)===null||u===void 0?void 0:u.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Z3.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===Re.standardErrorCodes.provider.unsupportedChain?Re.standardErrors.provider.unsupportedChain(e):Re.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(au.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?nh.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(xe.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,Re.serializeError)(i,e)})}catch(n){throw(0,Re.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,Re.serializeError)(n,e)})}catch(n){return Promise.reject((0,Re.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,Re.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,Re.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Re.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Re.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Re.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,ve.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,Re.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",uu.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,Re.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",uu.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,Re.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",uu.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ve.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(ih.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case xe.JSONRPCMethod.eth_accounts:return this._eth_accounts();case xe.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case xe.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case xe.JSONRPCMethod.net_version:return this._net_version();case xe.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case xe.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case xe.JSONRPCMethod.eth_sign:return this._eth_sign(n);case xe.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case xe.JSONRPCMethod.personal_sign:return this._personal_sign(n);case xe.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case xe.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case xe.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case xe.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case xe.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case xe.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case xe.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case xe.JSONRPCMethod.eth_signTypedData_v4:case xe.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case xe.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case xe.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case xe.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case xe.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case xe.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case xe.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case xe.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case xe.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case xe.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case xe.JSONRPCMethod.eth_subscribe:case xe.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ve.ensureAddressString)(e);return this._addresses.map(i=>(0,ve.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(au.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ve.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ve.ensureAddressString)(e.to):null,i=e.value!=null?(0,ve.ensureBN)(e.value):new J3.default(0),s=e.data?(0,ve.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ve.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ve.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,ve.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,ve.ensureBN)(e.maxPriorityFeePerGas):null,d=e.gas!=null?(0,ve.ensureBN)(e.gas):null,p=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:l,gasLimit:d,chainId:p}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Re.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Re.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Re.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ve.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(sh);if(!e)return(0,ve.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ve.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(au.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?nh.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Re.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ve.ensureAddressString)(e[0]),n=(0,ve.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ve.ensureBuffer)(e[0]),n=(0,ve.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ve.ensureBuffer)(e[0]),n=(0,ve.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ve.ensureBuffer)(e[0]),n=(0,ve.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Re.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ve.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Re.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ve.ensureParsedJSONObject)(e[0]),n=(0,ve.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=cu.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ve.ensureAddressString)(e[0]),n=(0,ve.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=cu.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ve.ensureAddressString)(e[0]),n=(0,ve.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=cu.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Re.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Re.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Re.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw Re.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw Re.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw Re.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ve.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ve.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ve.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}si.CoinbaseWalletProvider=K3;var Qo={},Yo={},xs,pe,l0,f0,cn,ah,h0,Du,d0,ni={},p0=[],X3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ko=Array.isArray;function br(t,e){for(var r in e)t[r]=e[r];return t}function g0(t){var e=t.parentNode;e&&e.removeChild(t)}function Bu(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?xs.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Ji(t,o,n,i,null)}function Ji(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++l0};return i==null&&pe.vnode!=null&&pe.vnode(s),s}function e4(){return{current:null}}function Ms(t){return t.children}function Zi(t,e){this.props=t,this.context=e}function ts(t,e){if(e==null)return t.__?ts(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__d||r.__e;return typeof t.type=="function"?ts(t):null}function v0(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return v0(t)}}function Fu(t){(!t.__d&&(t.__d=!0)&&cn.push(t)&&!co.__r++||ah!==pe.debounceRendering)&&((ah=pe.debounceRendering)||h0)(co)}function co(){var t,e,r,n,i,s,o,a,u;for(cn.sort(Du);t=cn.shift();)t.__d&&(e=cn.length,n=void 0,i=void 0,s=void 0,a=(o=(r=t).__v).__e,(u=r.__P)&&(n=[],i=[],(s=br({},o)).__v=o.__v+1,Uc(u,o,s,r.__n,u.ownerSVGElement!==void 0,o.__h!=null?[a]:null,n,a??ts(o),o.__h,i),w0(n,o,i),o.__e!=a&&v0(o)),cn.length>e&&cn.sort(Du));co.__r=0}function y0(t,e,r,n,i,s,o,a,u,l,d){var p,y,M,A,$,F,S,O,D,U=0,j=n&&n.__k||p0,V=j.length,K=V,X=e.length;for(r.__k=[],p=0;p<X;p++)(A=r.__k[p]=(A=e[p])==null||typeof A=="boolean"||typeof A=="function"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?Ji(null,A,null,null,A):Ko(A)?Ji(Ms,{children:A},null,null,null):A.__b>0?Ji(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null?(A.__=r,A.__b=r.__b+1,(O=t4(A,j,S=p+U,K))===-1?M=ni:(M=j[O]||ni,j[O]=void 0,K--),Uc(t,A,M,i,s,o,a,u,l,d),$=A.__e,(y=A.ref)&&M.ref!=y&&(M.ref&&Wc(M.ref,null,A),d.push(y,A.__c||$,A)),$!=null&&(F==null&&(F=$),(D=M===ni||M.__v===null)?O==-1&&U--:O!==S&&(O===S+1?U++:O>S?K>X-S?U+=O-S:U--:U=O<S&&O==S-1?O-S:0),S=p+U,typeof A.type!="function"||O===S&&M.__k!==A.__k?typeof A.type=="function"||O===S&&!D?A.__d!==void 0?(u=A.__d,A.__d=void 0):u=$.nextSibling:u=_0(t,$,u):u=b0(A,u,t),typeof r.type=="function"&&(r.__d=u))):(M=j[p])&&M.key==null&&M.__e&&(M.__e==u&&(M.__=n,u=ts(M)),ju(M,M,!1),j[p]=null);for(r.__e=F,p=V;p--;)j[p]!=null&&(typeof r.type=="function"&&j[p].__e!=null&&j[p].__e==r.__d&&(r.__d=j[p].__e.nextSibling),ju(j[p],j[p]))}function b0(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?b0(n,e,r):_0(r,n.__e,e));return e}function m0(t,e){return e=e||[],t==null||typeof t=="boolean"||(Ko(t)?t.some(function(r){m0(r,e)}):e.push(t)),e}function _0(t,e,r){return r==null||r.parentNode!==t?t.insertBefore(e,null):e==r&&e.parentNode!=null||t.insertBefore(e,r),e.nextSibling}function t4(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,u=e[r];if(u===null||u&&i==u.key&&s===u.type)return r;if(n>(u!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((u=e[o])&&i==u.key&&s===u.type)return o;o--}if(a<e.length){if((u=e[a])&&i==u.key&&s===u.type)return a;a++}}return-1}function r4(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||lo(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||lo(t,s,e[s],r[s],n)}function uh(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||X3.test(e)?r:r+"px"}function lo(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||uh(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||uh(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,s?lh:ch,s)):t.removeEventListener(e,s?lh:ch,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function ch(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(pe.event?pe.event(t):t)}function lh(t){return this.l[t.type+!0](pe.event?pe.event(t):t)}function Uc(t,e,r,n,i,s,o,a,u,l){var d,p,y,M,A,$,F,S,O,D,U,j,V,K,X,q=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(d=pe.__b)&&d(e);e:if(typeof q=="function")try{if(S=e.props,O=(d=q.contextType)&&n[d.__c],D=d?O?O.props.value:d.__:n,r.__c?F=(p=e.__c=r.__c).__=p.__E:("prototype"in q&&q.prototype.render?e.__c=p=new q(S,D):(e.__c=p=new Zi(S,D),p.constructor=q,p.render=i4),O&&O.sub(p),p.props=S,p.state||(p.state={}),p.context=D,p.__n=n,y=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),q.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=br({},p.__s)),br(p.__s,q.getDerivedStateFromProps(S,p.__s))),M=p.props,A=p.state,p.__v=e,y)q.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(q.getDerivedStateFromProps==null&&S!==M&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(S,D),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(S,p.__s,D)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(p.props=S,p.state=p.__s,p.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(ne){ne&&(ne.__=e)}),U=0;U<p._sb.length;U++)p.__h.push(p._sb[U]);p._sb=[],p.__h.length&&o.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(S,p.__s,D),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(M,A,$)})}if(p.context=D,p.props=S,p.__P=t,p.__e=!1,j=pe.__r,V=0,"prototype"in q&&q.prototype.render){for(p.state=p.__s,p.__d=!1,j&&j(e),d=p.render(p.props,p.state,p.context),K=0;K<p._sb.length;K++)p.__h.push(p._sb[K]);p._sb=[]}else do p.__d=!1,j&&j(e),d=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++V<25);p.state=p.__s,p.getChildContext!=null&&(n=br(br({},n),p.getChildContext())),y||p.getSnapshotBeforeUpdate==null||($=p.getSnapshotBeforeUpdate(M,A)),y0(t,Ko(X=d!=null&&d.type===Ms&&d.key==null?d.props.children:d)?X:[X],e,r,n,i,s,o,a,u,l),p.base=e.__e,e.__h=null,p.__h.length&&o.push(p),F&&(p.__E=p.__=null)}catch(ne){e.__v=null,(u||s!=null)&&(e.__e=a,e.__h=!!u,s[s.indexOf(a)]=null),pe.__e(ne,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=n4(r.__e,e,r,n,i,s,o,u,l);(d=pe.diffed)&&d(e)}function w0(t,e,r){for(var n=0;n<r.length;n++)Wc(r[n],r[++n],r[++n]);pe.__c&&pe.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){pe.__e(s,i.__v)}})}function n4(t,e,r,n,i,s,o,a,u){var l,d,p,y=r.props,M=e.props,A=e.type,$=0;if(A==="svg"&&(i=!0),s!=null){for(;$<s.length;$++)if((l=s[$])&&"setAttribute"in l==!!A&&(A?l.localName===A:l.nodeType===3)){t=l,s[$]=null;break}}if(t==null){if(A===null)return document.createTextNode(M);t=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,M.is&&M),s=null,a=!1}if(A===null)y===M||a&&t.data===M||(t.data=M);else{if(s=s&&xs.call(t.childNodes),d=(y=r.props||ni).dangerouslySetInnerHTML,p=M.dangerouslySetInnerHTML,!a){if(s!=null)for(y={},$=0;$<t.attributes.length;$++)y[t.attributes[$].name]=t.attributes[$].value;(p||d)&&(p&&(d&&p.__html==d.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(r4(t,M,y,i,a),p)e.__k=[];else if(y0(t,Ko($=e.props.children)?$:[$],e,r,n,i&&A!=="foreignObject",s,o,s?s[0]:r.__k&&ts(r,0),a,u),s!=null)for($=s.length;$--;)s[$]!=null&&g0(s[$]);a||("value"in M&&($=M.value)!==void 0&&($!==t.value||A==="progress"&&!$||A==="option"&&$!==y.value)&&lo(t,"value",$,y.value,!1),"checked"in M&&($=M.checked)!==void 0&&$!==t.checked&&lo(t,"checked",$,y.checked,!1))}return t}function Wc(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){pe.__e(n,r)}}function ju(t,e,r){var n,i;if(pe.unmount&&pe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Wc(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){pe.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&ju(n[i],e,r||typeof t.type!="function");r||t.__e==null||g0(t.__e),t.__=t.__e=t.__d=void 0}function i4(t,e,r){return this.constructor(t,r)}function E0(t,e,r){var n,i,s,o;pe.__&&pe.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],Uc(e,t=(!n&&r||e).__k=Bu(Ms,null,[t]),i||ni,ni,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?xs.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),w0(s,t,o)}function S0(t,e){E0(t,e,S0)}function s4(t,e,r){var n,i,s,o,a=br({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?xs.call(arguments,2):r),Ji(t.type,a,n||t.key,i||t.ref,null)}function o4(t,e){var r={__c:e="__cC"+d0++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Fu(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}xs=p0.slice,pe={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},l0=0,f0=function(t){return t!=null&&t.constructor===void 0},Zi.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=br({},this.state),typeof t=="function"&&(t=t(br({},r),this.props)),t&&br(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Fu(this))},Zi.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Fu(this))},Zi.prototype.render=Ms,cn=[],h0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Du=function(t,e){return t.__v.__b-e.__v.__b},co.__r=0,d0=0;const a4=Object.freeze(Object.defineProperty({__proto__:null,Component:Zi,Fragment:Ms,cloneElement:s4,createContext:o4,createElement:Bu,createRef:e4,h:Bu,hydrate:S0,get isValidElement(){return f0},get options(){return pe},render:E0,toChildArray:m0},Symbol.toStringTag,{value:"Module"})),Lt=_n(a4);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Uu=function(t,e){return Uu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Uu(t,e)};function G(t,e){Uu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function pi(t){return typeof t=="function"}var fh=!1,Ft={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}fh=t},get useDeprecatedSynchronousErrorHandling(){return fh}};function Qn(t){setTimeout(function(){throw t},0)}var fo={closed:!0,next:function(t){},error:function(t){if(Ft.useDeprecatedSynchronousErrorHandling)throw t;Qn(t)},complete:function(){}},Ct=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Hc(t){return t!==null&&typeof t=="object"}var u4=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Qi=u4,tt=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var u=n[a];u.remove(this)}if(pi(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(p){e=p instanceof Qi?hh(p.errors):[p]}}if(Ct(o))for(var a=-1,l=o.length;++a<l;){var d=o[a];if(Hc(d))try{d.unsubscribe()}catch(y){e=e||[],y instanceof Qi?e=e.concat(hh(y.errors)):e.push(y)}}if(e)throw new Qi(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function hh(t){return t.reduce(function(e,r){return e.concat(r instanceof Qi?r.errors:r)},[])}var ho=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ae=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=fo;break;case 1:if(!r){s.destination=fo;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new dh(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new dh(s,r,n,i);break}return s}return e.prototype[ho]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(tt),dh=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,u=o;return pi(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==fo&&(u=Object.create(n),pi(u.unsubscribe)&&o.add(u.unsubscribe.bind(u)),u.unsubscribe=o.unsubscribe.bind(o))),o._context=u,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ft.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ft.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Qn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Qn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ft.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ft.useDeprecatedSynchronousErrorHandling)throw i;Qn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ft.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ft.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Qn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(ae);function Vc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof ae?t=n:t=null}return!0}function c4(t,e,r){if(t){if(t instanceof ae)return t;if(t[ho])return t[ho]()}return!t&&!e&&!r?new ae(fo):new ae(t,e,r)}var Ti=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function $r(t){return t}function Wu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x0(t)}function x0(t){return t.length===0?$r:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ye=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=c4(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ft.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ft.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ft.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Vc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=ph(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Ti]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:x0(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=ph(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function ph(t){if(t||(t=Ft.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var l4=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Ar=l4,M0=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(tt),C0=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(ae),gt=function(t){G(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ho]=function(){return new C0(this)},e.prototype.lift=function(r){var n=new gh(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Ar;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Ar;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Ar;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Ar;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Ar;return this.hasError?(r.error(this.thrownError),tt.EMPTY):this.isStopped?(r.complete(),tt.EMPTY):(this.observers.push(r),new M0(this,r))},e.prototype.asObservable=function(){var r=new ye;return r.source=this,r},e.create=function(r,n){return new gh(r,n)},e}(ye),gh=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):tt.EMPTY},e}(gt);function zc(){return function(e){return e.lift(new f4(e))}}var f4=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new h4(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),h4=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(ae),R0=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new tt,r.add(this.source.subscribe(new p4(this.getSubject(),this))),r.closed&&(this._connection=null,r=tt.EMPTY)),r},e.prototype.refCount=function(){return zc()(this)},e}(ye),d4=function(){var t=R0.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),p4=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(C0);function g4(t,e,r,n){return function(i){return i.lift(new v4(t,e,r,n))}}var v4=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new y4(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),y4=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new gt,i.set(n,s);var a=new Hu(n,s,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new Hu(n,s))}catch(l){this.error(l);return}this.add(u.subscribe(new b4(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ae),b4=function(t){G(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ae),Hu=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new tt,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new m4(s)),n.add(o.subscribe(r)),n},e}(ye),m4=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(tt),I0=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ar;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(gt),_4=function(t){G(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(tt),Cs=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(_4),w4=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Cs),Vu=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Rs=function(t){G(e,t);function e(r,n){n===void 0&&(n=Vu.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Vu),E4=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Rs),A0=new E4(w4),T0=A0,gi=new ye(function(t){return t.complete()});function ki(t){return t?S4(t):gi}function S4(t){return new ye(function(e){return t.schedule(function(){return e.complete()})})}function Nt(t){return t&&typeof t.schedule=="function"}var k0=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function qc(t,e){return new ye(function(r){var n=new tt,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Is(t,e){return e?qc(t,e):new ye(k0(t))}function Xo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Nt(r)?(t.pop(),qc(t,r)):Is(t)}function Gc(t,e){return e?new ye(function(r){return e.schedule(x4,0,{error:t,subscriber:r})}):new ye(function(r){return r.error(t)})}function x4(t){var e=t.error,r=t.subscriber;r.error(e)}var zu;zu||(zu={});var mr=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Xo(this.value);case"E":return Gc(this.error);case"C":return ki()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function M4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new C4(t,e))}}var C4=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new O0(e,this.scheduler,this.delay))},t}(),O0=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new R4(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(mr.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(mr.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(mr.createComplete()),this.unsubscribe()},e}(ae),R4=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Jc=function(t){G(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new I4(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Ar;if(this.isStopped||this.hasError?a=tt.EMPTY:(this.observers.push(r),a=new M0(this,r)),s&&r.add(r=new O0(r,s)),n)for(var u=0;u<o&&!r.closed;u++)r.next(i[u]);else for(var u=0;u<o&&!r.closed;u++)r.next(i[u].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||T0).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(gt),I4=function(){function t(e,r){this.time=e,this.value=r}return t}(),Oi=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),tt.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),tt.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(gt),A4=1,T4=function(){return Promise.resolve()}(),qu={};function vh(t){return t in qu?(delete qu[t],!0):!1}var yh={setImmediate:function(t){var e=A4++;return qu[e]=!0,T4.then(function(){return vh(e)&&t()}),e},clearImmediate:function(t){vh(t)}},k4=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=yh.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(yh.clearImmediate(n),r.scheduled=void 0)},e}(Cs),O4=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Rs),N0=new O4(k4),Qs=N0,L0=new Rs(Cs),Rt=L0,N4=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Cs),L4=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Rs),P0=new L4(N4),P4=P0,$4=function(t){G(e,t);function e(r,n){r===void 0&&(r=$0),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Rs),$0=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Cs);function or(){}function D4(t){return!!t&&(t instanceof ye||typeof t.lift=="function"&&typeof t.subscribe=="function")}var B4=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),vi=B4,F4=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),As=F4,j4=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),D0=j4;function zt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U4(t,e))}}var U4=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new W4(e,this.project,this.thisArg))},t}(),W4=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ae);function B0(t,e,r){if(e)if(Nt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return B0(t,r).apply(void 0,n).pipe(zt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ye(function(u){if(r){var d={args:n,subscriber:u,params:a};return r.schedule(H4,0,d)}else{if(!o){o=new Oi;var l=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];o.next(p.length<=1?p[0]:p),o.complete()};try{t.apply(s,n.concat([l]))}catch(p){Vc(o)?o.error(p):console.warn(p)}}return o.subscribe(u)}})}}function H4(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new Oi;var l=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var y=d.length<=1?d[0]:d;e.add(a.schedule(V4,0,{value:y,subject:u}))};try{s.apply(o,r.concat([l]))}catch(d){u.error(d)}}this.add(u.subscribe(n))}function V4(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function F0(t,e,r){if(e)if(Nt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return F0(t,r).apply(void 0,n).pipe(zt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ye(function(o){var a=s.context,u=s.subject;if(r)return r.schedule(z4,0,{params:s,subscriber:o,context:a});if(!u){u=s.subject=new Oi;var l=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var y=d.shift();if(y){u.error(y);return}u.next(d.length<=1?d[0]:d),u.complete()};try{t.apply(a,n.concat([l]))}catch(d){Vc(u)?u.error(d):console.warn(d)}}return u.subscribe(o)})}}function z4(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new Oi;var l=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var y=d.shift();if(y)e.add(a.schedule(bh,0,{err:y,subject:u}));else{var M=d.length<=1?d[0]:d;e.add(a.schedule(q4,0,{value:M,subject:u}))}};try{s.apply(i,o.concat([l]))}catch(d){this.add(a.schedule(bh,0,{err:d,subject:u}))}}this.add(u.subscribe(n))}function q4(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function bh(t){var e=t.err,r=t.subject;r.error(e)}var In=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(ae),G4=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ae),J4=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Qn),e}};function Z4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dr=Z4(),Q4=function(t){return function(e){var r=t[Dr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Y4=function(t){return function(e){var r=t[Ti]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},j0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function U0(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var rs=function(t){if(t&&typeof t[Ti]=="function")return Y4(t);if(j0(t))return k0(t);if(U0(t))return J4(t);if(t&&typeof t[Dr]=="function")return Q4(t);var e=Hc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function wr(t,e,r,n,i){if(i===void 0&&(i=new G4(t,r,n)),!i.closed)return e instanceof ye?e.subscribe(i):rs(e)(i)}var mh={};function K4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Nt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0]),Is(t,n).lift(new Zc(r))}var Zc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new X4(e,this.resultSelector))},t}(),X4=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(mh),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(wr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===mh?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(In);function ex(t,e){return new ye(function(r){var n=new tt;return n.add(e.schedule(function(){var i=t[Ti]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function tx(t,e){return new ye(function(r){var n=new tt;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function rx(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(function(r){var n=new tt,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Dr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(u){r.error(u);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function nx(t){return t&&typeof t[Ti]=="function"}function ix(t){return t&&typeof t[Dr]=="function"}function W0(t,e){if(t!=null){if(nx(t))return ex(t,e);if(U0(t))return tx(t,e);if(j0(t))return qc(t,e);if(ix(t)||typeof t=="string")return rx(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Sr(t,e){return e?W0(t,e):t instanceof ye?t:new ye(rs(t))}var rt=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ae),nt=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ae);function it(t,e){if(!e.closed){if(t instanceof ye)return t.subscribe(e);var r;try{r=rs(t)(e)}catch(n){e.error(n)}return r}}function bn(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(bn(function(i,s){return Sr(t(i,s)).pipe(zt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new sx(t,r))})}var sx=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new ox(e,this.project,this.concurrent))},t}(),ox=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new rt(this),i=this.destination;i.add(n);var s=it(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(nt),ax=bn;function Qc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),bn($r,t)}function H0(){return Qc(1)}function ns(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return H0()(Xo.apply(void 0,t))}function Yc(t){return new ye(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Sr(r):ki();return n.subscribe(e)})}function ux(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ct(r))return Hs(r,null);if(Hc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Hs(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ct(t[0])?t[0]:t,Hs(t,null).pipe(zt(function(s){return i.apply(void 0,s)}))}return Hs(t,null)}function Hs(t,e){return new ye(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var d=Sr(t[l]),p=!1;r.add(d.subscribe({next:function(y){p||(p=!0,o++),i[l]=y},error:function(y){return r.error(y)},complete:function(){s++,(s===n||!p)&&(o===n&&r.next(e?e.reduce(function(y,M,A){return y[M]=i[A],y},{}):i),r.complete())}}))},u=0;u<n;u++)a(u)})}function V0(t,e,r,n){return pi(r)&&(n=r,r=void 0),n?V0(t,e,r).pipe(zt(function(i){return Ct(i)?n.apply(void 0,i):n(i)})):new ye(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}z0(t,e,s,i,r)})}function z0(t,e,r,n,i){var s;if(fx(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(lx(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(cx(t)){var u=t;t.addListener(e,r),s=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var l=0,d=t.length;l<d;l++)z0(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function cx(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function lx(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function fx(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function q0(t,e,r){return r?q0(t,e).pipe(zt(function(n){return Ct(n)?r.apply(void 0,n):r(n)})):new ye(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(pi(e))return function(){return e(i,s)}})}function hx(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||$r,i=a.scheduler}else n===void 0||Nt(n)?(o=t,s=$r,i=n):(o=t,s=n);return new ye(function(u){var l=o;if(i)return i.schedule(dx,0,{subscriber:u,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var d=void 0;try{d=e(l)}catch(y){u.error(y);return}if(!d){u.complete();break}}var p=void 0;try{p=s(l)}catch(y){u.error(y);return}if(u.next(p),u.closed)break;try{l=r(l)}catch(y){u.error(y);return}}while(!0)})}function dx(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function px(t,e,r){return e===void 0&&(e=gi),r===void 0&&(r=gi),Yc(function(){return t()?e:r})}function yi(t){return!Ct(t)&&t-parseFloat(t)+1>=0}function gx(t,e){return t===void 0&&(t=0),e===void 0&&(e=Rt),(!yi(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Rt),new ye(function(r){return r.add(e.schedule(vx,t,{subscriber:r,counter:0,period:t})),r})}function vx(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function G0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Nt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ye?t[0]:Qc(r)(Is(t,n))}var J0=new ye(or);function yx(){return J0}function Gu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return gi;var r=t[0],n=t.slice(1);return t.length===1&&Ct(r)?Gu.apply(void 0,r):new ye(function(i){var s=function(){return i.add(Gu.apply(void 0,n).subscribe(i))};return Sr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function bx(t,e){return e?new ye(function(r){var n=Object.keys(t),i=new tt;return i.add(e.schedule(mx,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ye(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function mx(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Z0(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Br(t,e){return function(n){return n.lift(new _x(t,e))}}var _x=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new wx(e,this.predicate,this.thisArg))},t}(),wx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ae);function Ex(t,e,r){return[Br(e,r)(new ye(rs(t))),Br(Z0(e,r))(new ye(rs(t)))]}function Q0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ct(t[0]))t=t[0];else return t[0];return Is(t,void 0).lift(new Sx)}var Sx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new xx(e))},t}(),xx=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=wr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(In);function Mx(t,e,r){return t===void 0&&(t=0),new ye(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Cx,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Cx(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Y0(t,e,r){t===void 0&&(t=0);var n=-1;return yi(e)?n=Number(e)<1&&1||Number(e):Nt(e)&&(r=e),Nt(r)||(r=Rt),new ye(function(i){var s=yi(t)?t:+t-r.now();return r.schedule(Rx,s,{index:0,period:n,subscriber:i})})}function Rx(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Ix(t,e){return new ye(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Sr(i):gi,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function K0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Is(t,void 0).lift(new X0(r))}var X0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ax(e,this.resultSelector))},t}(),Ax=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ct(r)?n.push(new kx(r)):typeof r[Dr]=="function"?n.push(new Tx(r[Dr]())):n.push(new Ox(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,u=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}u.push(l.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ae),Tx=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),kx=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Dr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Ox=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Dr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return it(this.observable,new rt(this))},e}(nt);const Nx=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:vi,AsyncSubject:Oi,BehaviorSubject:I0,ConnectableObservable:R0,EMPTY:gi,EmptyError:As,GroupedObservable:Hu,NEVER:J0,Notification:mr,get NotificationKind(){return zu},ObjectUnsubscribedError:Ar,Observable:ye,ReplaySubject:Jc,Scheduler:Vu,Subject:gt,Subscriber:ae,Subscription:tt,TimeoutError:D0,UnsubscriptionError:Qi,VirtualAction:$0,VirtualTimeScheduler:$4,animationFrame:P4,animationFrameScheduler:P0,asap:Qs,asapScheduler:N0,async:Rt,asyncScheduler:L0,bindCallback:B0,bindNodeCallback:F0,combineLatest:K4,concat:ns,config:Ft,defer:Yc,empty:ki,forkJoin:ux,from:Sr,fromEvent:V0,fromEventPattern:q0,generate:hx,identity:$r,iif:px,interval:gx,isObservable:D4,merge:G0,never:yx,noop:or,observable:Ti,of:Xo,onErrorResumeNext:Gu,pairs:bx,partition:Ex,pipe:Wu,queue:T0,queueScheduler:A0,race:Q0,range:Mx,scheduled:W0,throwError:Gc,timer:Y0,using:Ix,zip:K0},Symbol.toStringTag,{value:"Module"})),ea=_n(Nx);var ta={};function eg(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=eg(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function _h(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=eg(t))&&(n&&(n+=" "),n+=e);return n}const Lx=Object.freeze(Object.defineProperty({__proto__:null,clsx:_h,default:_h},Symbol.toStringTag,{value:"Module"})),ra=_n(Lx);var Er,Ie,lu,wh,bi=0,tg=[],Ys=[],Eh=pe.__b,Sh=pe.__r,xh=pe.diffed,Mh=pe.__c,Ch=pe.unmount;function An(t,e){pe.__h&&pe.__h(Ie,t,bi||e),bi=0;var r=Ie.__H||(Ie.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Ys}),r.__[t]}function rg(t){return bi=1,ng(sg,t)}function ng(t,e,r){var n=An(Er++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):sg(void 0,e),function(a){var u=n.__N?n.__N[0]:n.__[0],l=n.t(u,a);u!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=Ie,!Ie.u)){var i=function(a,u,l){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(y){return y.__c});if(d.every(function(y){return!y.__N}))return!s||s.call(this,a,u,l);var p=!1;return d.forEach(function(y){if(y.__N){var M=y.__[0];y.__=y.__N,y.__N=void 0,M!==y.__[0]&&(p=!0)}}),!(!p&&n.__c.props===a)&&(!s||s.call(this,a,u,l))};Ie.u=!0;var s=Ie.shouldComponentUpdate,o=Ie.componentWillUpdate;Ie.componentWillUpdate=function(a,u,l){if(this.__e){var d=s;s=void 0,i(a,u,l),s=d}o&&o.call(this,a,u,l)},Ie.shouldComponentUpdate=i}return n.__N||n.__}function Px(t,e){var r=An(Er++,3);!pe.__s&&Xc(r.__H,e)&&(r.__=t,r.i=e,Ie.__H.__h.push(r))}function ig(t,e){var r=An(Er++,4);!pe.__s&&Xc(r.__H,e)&&(r.__=t,r.i=e,Ie.__h.push(r))}function $x(t){return bi=5,Kc(function(){return{current:t}},[])}function Dx(t,e,r){bi=6,ig(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Kc(t,e){var r=An(Er++,7);return Xc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Bx(t,e){return bi=8,Kc(function(){return t},e)}function Fx(t){var e=Ie.context[t.__c],r=An(Er++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Ie)),e.props.value):t.__}function jx(t,e){pe.useDebugValue&&pe.useDebugValue(e?e(t):t)}function Ux(t){var e=An(Er++,10),r=rg();return e.__=t,Ie.componentDidCatch||(Ie.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Wx(){var t=An(Er++,11);if(!t.__){for(var e=Ie.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Hx(){for(var t;t=tg.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ks),t.__H.__h.forEach(Ju),t.__H.__h=[]}catch(e){t.__H.__h=[],pe.__e(e,t.__v)}}pe.__b=function(t){Ie=null,Eh&&Eh(t)},pe.__r=function(t){Sh&&Sh(t),Er=0;var e=(Ie=t.__c).__H;e&&(lu===Ie?(e.__h=[],Ie.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Ys,r.__N=r.i=void 0})):(e.__h.forEach(Ks),e.__h.forEach(Ju),e.__h=[],Er=0)),lu=Ie},pe.diffed=function(t){xh&&xh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(tg.push(e)!==1&&wh===pe.requestAnimationFrame||((wh=pe.requestAnimationFrame)||Vx)(Hx)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Ys&&(r.__=r.__V),r.i=void 0,r.__V=Ys})),lu=Ie=null},pe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Ks),r.__h=r.__h.filter(function(n){return!n.__||Ju(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],pe.__e(n,r.__v)}}),Mh&&Mh(t,e)},pe.unmount=function(t){Ch&&Ch(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ks(n)}catch(i){e=i}}),r.__H=void 0,e&&pe.__e(e,r.__v))};var Rh=typeof requestAnimationFrame=="function";function Vx(t){var e,r=function(){clearTimeout(n),Rh&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Rh&&(e=requestAnimationFrame(r))}function Ks(t){var e=Ie,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Ie=e}function Ju(t){var e=Ie;t.__c=t.__(),Ie=e}function Xc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function sg(t,e){return typeof e=="function"?e(t):e}const zx=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Bx,useContext:Fx,useDebugValue:jx,useEffect:Px,useErrorBoundary:Ux,useId:Wx,useImperativeHandle:Dx,useLayoutEffect:ig,useMemo:Kc,useReducer:ng,useRef:$x,useState:rg},Symbol.toStringTag,{value:"Module"})),Ts=_n(zx);var fr={},na={};Object.defineProperty(na,"__esModule",{value:!0});na.CloseIcon=void 0;const Ih=Lt;function qx(t){return(0,Ih.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ih.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}na.CloseIcon=qx;var el={};Object.defineProperty(el,"__esModule",{value:!0});el.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.QRCodeIcon=void 0;const nr=Lt;function Gx(t){return(0,nr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,nr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,nr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,nr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,nr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,nr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,nr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,nr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,nr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,nr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}ia.QRCodeIcon=Gx;var rl={};Object.defineProperty(rl,"__esModule",{value:!0});const Jx=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;rl.default=Jx;var nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.StatusDotIcon=void 0;const Ah=Lt;function Zx(t){return(0,Ah.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ah.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}sa.StatusDotIcon=Zx;var oa={};function og(t){this.mode=kt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}og.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function hr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}hr.prototype={addData:function(t){var e=new og(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=hr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Xe.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var u=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(u,o),n.lineTo(u+i,o),n.lineTo(u+i,o+i),n.lineTo(u,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Xe.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Xe.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Xe.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var u=!1;s<t.length&&(u=(t[s]>>>i&1)==1);var l=Xe.getMask(e,n,o-a);l&&(u=!u),this.modules[n][o-a]=u,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};hr.PAD0=236;hr.PAD1=17;hr.createData=function(t,e,r){for(var n=ur.getRSBlocks(t,e),i=new ag,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Xe.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(hr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(hr.PAD1,8);return hr.createBytes(i,n)};hr.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,l=e[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,l),s[a]=new Array(u);for(var d=0;d<s[a].length;d++)s[a][d]=255&t.buffer[d+r];r+=u;var p=Xe.getErrorCorrectPolynomial(l),y=new ii(s[a],p.getLength()-1),M=y.mod(p);o[a]=new Array(p.getLength()-1);for(var d=0;d<o[a].length;d++){var A=d+M.getLength()-o[a].length;o[a][d]=A>=0?M.get(A):0}}for(var $=0,d=0;d<e.length;d++)$+=e[d].totalCount;for(var F=new Array($),S=0,d=0;d<n;d++)for(var a=0;a<e.length;a++)d<s[a].length&&(F[S++]=s[a][d]);for(var d=0;d<i;d++)for(var a=0;a<e.length;a++)d<o[a].length&&(F[S++]=o[a][d]);return F};var kt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},kr={L:1,M:0,Q:3,H:2},xr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Xe={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Xe.getBCHDigit(e)-Xe.getBCHDigit(Xe.G15)>=0;)e^=Xe.G15<<Xe.getBCHDigit(e)-Xe.getBCHDigit(Xe.G15);return(t<<10|e)^Xe.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Xe.getBCHDigit(e)-Xe.getBCHDigit(Xe.G18)>=0;)e^=Xe.G18<<Xe.getBCHDigit(e)-Xe.getBCHDigit(Xe.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Xe.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case xr.PATTERN000:return(e+r)%2==0;case xr.PATTERN001:return e%2==0;case xr.PATTERN010:return r%3==0;case xr.PATTERN011:return(e+r)%3==0;case xr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case xr.PATTERN101:return e*r%2+e*r%3==0;case xr.PATTERN110:return(e*r%2+e*r%3)%2==0;case xr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ii([1],0),r=0;r<t;r++)e=e.multiply(new ii([1,pt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case kt.MODE_NUMBER:return 10;case kt.MODE_ALPHA_NUM:return 9;case kt.MODE_8BIT_BYTE:return 8;case kt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case kt.MODE_NUMBER:return 12;case kt.MODE_ALPHA_NUM:return 11;case kt.MODE_8BIT_BYTE:return 16;case kt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case kt.MODE_NUMBER:return 14;case kt.MODE_ALPHA_NUM:return 13;case kt.MODE_8BIT_BYTE:return 16;case kt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||o==t.isDark(n+a,i+u)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var d=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&d++;var p=Math.abs(100*d/e/e-50)/5;return r+=p*10,r}},pt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return pt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return pt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var bt=0;bt<8;bt++)pt.EXP_TABLE[bt]=1<<bt;for(var bt=8;bt<256;bt++)pt.EXP_TABLE[bt]=pt.EXP_TABLE[bt-4]^pt.EXP_TABLE[bt-5]^pt.EXP_TABLE[bt-6]^pt.EXP_TABLE[bt-8];for(var bt=0;bt<255;bt++)pt.LOG_TABLE[pt.EXP_TABLE[bt]]=bt;function ii(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}ii.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=pt.gexp(pt.glog(this.get(r))+pt.glog(t.get(n)));return new ii(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=pt.glog(this.get(0))-pt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=pt.gexp(pt.glog(t.get(n))+e);return new ii(r,0).mod(t)}};function ur(t,e){this.totalCount=t,this.dataCount=e}ur.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ur.getRSBlocks=function(t,e){var r=ur.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],u=r[s*3+2],l=0;l<o;l++)i.push(new ur(a,u));return i};ur.getRsBlockTable=function(t,e){switch(e){case kr.L:return ur.RS_BLOCK_TABLE[(t-1)*4+0];case kr.M:return ur.RS_BLOCK_TABLE[(t-1)*4+1];case kr.Q:return ur.RS_BLOCK_TABLE[(t-1)*4+2];case kr.H:return ur.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function ag(){this.buffer=[],this.length=0}ag.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var fu=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function ug(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(u){switch(u){case"L":return kr.L;case"M":return kr.M;case"Q":return kr.Q;case"H":return kr.H;default:throw new Error("Unknwon error correction level: "+u)}}function n(u,l){for(var d=i(u),p=1,y=0,M=0,A=fu.length;M<=A;M++){var $=fu[M];if(!$)throw new Error("Content too long: expected "+y+" but got "+d);switch(l){case"L":y=$[0];break;case"M":y=$[1];break;case"Q":y=$[2];break;case"H":y=$[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(d<=y)break;p++}if(p>fu.length)throw new Error("Content too long");return p}function i(u){var l=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=u?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new hr(o,a),this.qrcode.addData(s),this.qrcode.make()}ug.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,u=r.length,l=o/(u+2*e.padding),d=a/(u+2*e.padding),p=typeof e.join<"u"?!!e.join:!1,y=typeof e.swap<"u"?!!e.swap:!1,M=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,A=typeof e.predefined<"u"?!!e.predefined:!1,$=A?i+'<defs><path id="qrmodule" d="M0 0 h'+d+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",F=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,S="",O="",D=0;D<u;D++)for(var U=0;U<u;U++){var j=r[U][D];if(j){var V=U*l+e.padding*l,K=D*d+e.padding*d;if(y){var X=V;V=K,K=X}if(p){var q=l+V,ne=d+K;V=Number.isInteger(V)?Number(V):V.toFixed(2),K=Number.isInteger(K)?Number(K):K.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),ne=Number.isInteger(ne)?Number(ne):ne.toFixed(2),O+="M"+V+","+K+" V"+ne+" H"+q+" V"+K+" H"+V+" Z "}else A?S+=i+'<use x="'+V.toString()+'" y="'+K.toString()+'" href="#qrmodule" />'+s:S+=i+'<rect x="'+V.toString()+'" y="'+K.toString()+'" width="'+l+'" height="'+d+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}p&&(S=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+O+'" />');let ie="";if(this.options.image!==void 0&&this.options.image.svg){const _=o*this.options.image.width/100,c=a*this.options.image.height/100,g=o/2-_/2,b=a/2-c/2;ie+=`<svg x="${g}" y="${b}" width="${_}" height="${c}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ie+=this.options.image.svg+s,ie+="</svg>"}var ce="";switch(t.container){case"svg":M&&(ce+='<?xml version="1.0" standalone="yes"?>'+s),ce+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,ce+=$+F+S,ce+=ie,ce+="</svg>";break;case"svg-viewbox":M&&(ce+='<?xml version="1.0" standalone="yes"?>'+s),ce+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,ce+=$+F+S,ce+=ie,ce+="</svg>";break;case"g":ce+='<g width="'+o+'" height="'+a+'">'+s,ce+=$+F+S,ce+=ie,ce+="</g>";break;default:ce+=($+F+S+ie).replace(/^\s+/,"");break}return ce};var Qx=ug,Yx=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oa,"__esModule",{value:!0});oa.QRCode=void 0;const Kx=Lt,Th=Ts,Xx=Yx(Qx),e5=t=>{const[e,r]=(0,Th.useState)("");return(0,Th.useEffect)(()=>{var n,i;const s=new Xx.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Kx.h)("img",{src:e,alt:"QR Code"}):null};oa.QRCode=e5;var aa={},il={};Object.defineProperty(il,"__esModule",{value:!0});il.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var t5=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aa,"__esModule",{value:!0});aa.Spinner=void 0;const Vs=Lt,r5=t5(il),n5=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Vs.h)("div",{class:"-cbwsdk-spinner"},(0,Vs.h)("style",null,r5.default),(0,Vs.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Vs.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};aa.Spinner=n5;var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ni=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});fr.CoinbaseAppSteps=fr.CoinbaseWalletSteps=fr.ConnectItem=fr.ConnectContent=void 0;const Ut=Ni(ra),le=Lt,kh=Ts,i5=se,s5=Ei,o5=na,a5=Ni(el),u5=Ni(tl),cg=ia,c5=Ni(rl),l5=Ni(nl),f5=sa,h5=oa,d5=aa,p5=Ni(sl),Oh={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:u5.default,steps:fg},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:a5.default,steps:hg}},g5=t=>{switch(t){case"coinbase-app":return c5.default;case"coinbase-wallet-app":default:return l5.default}},Zu=t=>t==="light"?"#FFFFFF":"#0A0B0D";function v5(t){const{theme:e}=t,[r,n]=(0,kh.useState)("coinbase-wallet-app"),i=(0,kh.useCallback)(l=>{n(l)},[]),s=(0,i5.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Oh[r];if(!r)return null;const a=o.steps,u=r==="coinbase-app";return(0,le.h)("div",{"data-testid":"connect-content",class:(0,Ut.default)("-cbwsdk-connect-content",e)},(0,le.h)("style",null,p5.default),(0,le.h)("div",{class:"-cbwsdk-connect-content-header"},(0,le.h)("h2",{class:(0,Ut.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,le.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,le.h)(o5.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,le.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,le.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,le.h)("div",null,Object.entries(Oh).map(([l,d])=>(0,le.h)(lg,{key:l,title:d.title,description:d.description,icon:d.icon,selected:r===l,onClick:()=>i(l),theme:e}))),u&&(0,le.h)("div",{class:(0,Ut.default)("-cbwsdk-connect-content-update-app",e)},"Don’t see a ",(0,le.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,le.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,le.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,le.h)(h5.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:g5(r),width:25,height:25}}),(0,le.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:s5.LIB_VERSION}),(0,le.h)("input",{type:"hidden",value:s})),(0,le.h)(a,{theme:e}),!t.isConnected&&(0,le.h)("div",{"data-testid":"connecting-spinner",class:(0,Ut.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,le.h)(d5.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,le.h)("p",null,"Connecting...")))))}fr.ConnectContent=v5;function lg({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,le.h)("div",{onClick:s,class:(0,Ut.default)("-cbwsdk-connect-item",i,{selected:n})},(0,le.h)("div",null,(0,le.h)("img",{src:r,alt:t})),(0,le.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,le.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,le.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}fr.ConnectItem=lg;function fg({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,le.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"Scan")," "),(0,le.h)("span",{class:(0,Ut.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(cg.QRCodeIcon,{fill:Zu(t)})))))}fr.CoinbaseWalletSteps=fg;function hg({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,le.h)("li",{class:(0,Ut.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"More")),(0,le.h)("span",{class:(0,Ut.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(f5.StatusDotIcon,{fill:Zu(t)})),(0,le.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,le.h)("strong",null,"Scan")),(0,le.h)("span",{class:(0,Ut.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(cg.QRCodeIcon,{fill:Zu(t)})))))}fr.CoinbaseAppSteps=hg;var ua={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.ArrowLeftIcon=void 0;const Nh=Lt;function y5(t){return(0,Nh.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Nh.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}ca.ArrowLeftIcon=y5;var la={};Object.defineProperty(la,"__esModule",{value:!0});la.LaptopIcon=void 0;const hu=Lt;function b5(t){return(0,hu.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,hu.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,hu.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}la.LaptopIcon=b5;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.SafeIcon=void 0;const Lh=Lt;function m5(t){return(0,Lh.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Lh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}fa.SafeIcon=m5;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var dg=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});ua.TryExtensionContent=void 0;const tn=dg(ra),ot=Lt,du=Ts,_5=ca,w5=la,E5=fa,S5=dg(ol);function x5({theme:t}){const[e,r]=(0,du.useState)(!1),n=(0,du.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,du.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,ot.h)("div",{class:(0,tn.default)("-cbwsdk-try-extension",t)},(0,ot.h)("style",null,S5.default),(0,ot.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ot.h)("h3",{class:(0,tn.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,ot.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,ot.h)("button",{class:(0,tn.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,ot.h)("div",null,!e&&(0,ot.h)(_5.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,ot.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ot.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,ot.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ot.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ot.h)("span",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ot.h)(w5.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ot.h)("div",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,ot.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ot.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ot.h)("span",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ot.h)(E5.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ot.h)("div",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}ua.TryExtensionContent=x5;var al={};Object.defineProperty(al,"__esModule",{value:!0});al.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var pg=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0});ta.ConnectDialog=void 0;const pu=pg(ra),rn=Lt,gu=Ts,M5=fr,C5=ua,R5=pg(al),I5=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,gu.useState)(!e),[s,o]=(0,gu.useState)(!e);(0,gu.useEffect)(()=>{const u=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,rn.h)("div",{class:(0,pu.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,rn.h)("style",null,R5.default),(0,rn.h)("div",{class:(0,pu.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,rn.h)("div",{class:"-cbwsdk-connect-dialog"},(0,rn.h)("div",{class:(0,pu.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,rn.h)(M5.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,rn.h)(C5.TryExtensionContent,{theme:a}))))};ta.ConnectDialog=I5;Object.defineProperty(Yo,"__esModule",{value:!0});Yo.LinkFlow=void 0;const vu=Lt,Ph=ea,A5=ta;class T5{constructor(e){this.extensionUI$=new Ph.BehaviorSubject({}),this.subscriptions=new Ph.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,vu.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,vu.render)((0,vu.h)(A5.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Yo.LinkFlow=T5;var gg={},ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=te&&te.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(ra),n=Lt,i=Ts,s=e(ul),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(p){switch(p){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class u{constructor(y){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=y.darkMode}attach(y){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",y.appendChild(this.root),this.render()}presentItem(y){const M=this.nextItemKey++;return this.items.set(M,y),this.render(),()=>{this.items.delete(M),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([y,M])=>(0,n.h)(t.SnackbarInstance,Object.assign({},M,{key:y}))))),this.root)}}t.Snackbar=u;const l=p=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},p.children));t.SnackbarContainer=l;const d=({autoExpand:p,message:y,menuItems:M,appSrc:A})=>{const[$,F]=(0,i.useState)(!0),[S,O]=(0,i.useState)(p??!1);(0,i.useEffect)(()=>{const U=[window.setTimeout(()=>{F(!1)},1),window.setTimeout(()=>{O(!0)},1e4)];return()=>{U.forEach(window.clearTimeout)}});const D=()=>{O(!S)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",$&&"-cbwsdk-snackbar-instance-hidden",S&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:D},(0,n.h)("img",{src:a(A),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},y),(0,n.h)("div",{class:"-gear-container"},!S&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),M&&M.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},M.map((U,j)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",U.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:U.onClick,key:j},(0,n.h)("svg",{width:U.svgWidth,height:U.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":U.defaultFillRule,"clip-rule":U.defaultClipRule,d:U.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",U.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},U.info)))))};t.SnackbarInstance=d})(gg);var ha={},cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var k5=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ha,"__esModule",{value:!0});ha.injectCssReset=void 0;const O5=k5(cl);function N5(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(O5.default)),document.documentElement.appendChild(t)}ha.injectCssReset=N5;Object.defineProperty(Qo,"__esModule",{value:!0});Qo.WalletSDKUI=void 0;const L5=Yo,P5=gg,$5=ha;class D5{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new P5.Snackbar({darkMode:e.darkMode}),this.linkFlow=new L5.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,$5.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Qo.WalletSDKUI=D5;var da={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});var Yn;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Yn||(Yn={}));function vg(t,e,r){if(!r||typeof r.value!==Yn.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Yn.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Yn.boolTrue,writable:Yn.boolTrue}),n}}}pa.bind=vg;pa.default=vg;function yg(t){return function(r){return r.lift(new B5(t))}}var B5=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new F5(e,this.durationSelector))},t}(),F5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=it(n,new rt(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(nt);function j5(t,e){return e===void 0&&(e=Rt),yg(function(){return Y0(t,e)})}function U5(t){return function(r){return r.lift(new W5(t))}}var W5=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new H5(e,this.closingNotifier))},t}(),H5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(it(n,new rt(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(nt);function V5(t,e){return e===void 0&&(e=null),function(n){return n.lift(new z5(t,e))}}var z5=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=q5:this.subscriberClass=G5}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),q5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(ae),G5=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var u=o.length;u--;){var l=o[u];l.push(r),l.length===i&&(o.splice(u,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(ae);function J5(t){var e=arguments.length,r=Rt;Nt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Z5(t,n,i,r))}}var Z5=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Y5(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Q5=function(){function t(){this.buffer=[]}return t}(),Y5=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:u,bufferTimeSpan:n};a.add(u.closeAction=o.schedule($h,n,l))}else{var d={subscriber:a,context:u},p={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(u.closeAction=o.schedule(bg,n,d)),a.add(o.schedule(K5,i,p))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],u=a.buffer;u.push(r),u.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule($h,i,s))}},e.prototype.openContext=function(){var r=new Q5;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(ae);function $h(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function K5(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(bg,r,{subscriber:n,context:s})),o.schedule(t,e))}function bg(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function X5(t,e){return function(n){return n.lift(new eM(t,e))}}var eM=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new tM(e,this.openings,this.closingSelector))},t}(),tM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(wr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new tt,o={buffer:i,subscription:s};n.push(o);var a=wr(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(In);function rM(t){return function(e){return e.lift(new nM(t))}}var nM=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new iM(e,this.closingSelector))},t}(),iM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new tt,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(it(i,new rt(this))),this.subscribing=!1},e}(nt);function sM(t){return function(r){var n=new oM(t),i=r.lift(n);return n.caught=i}}var oM=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new aM(e,this.selector,this.caught))},t}(),aM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new rt(this);this.add(i);var s=it(n,i);s!==i&&this.add(s)}},e}(nt);function uM(t){return function(e){return e.lift(new Zc(t))}}function cM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Sr([n].concat(t)),new Zc(r))}}function lM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ns.apply(void 0,[r].concat(t)))}}function mg(t,e){return bn(t,e,1)}function fM(t,e){return mg(function(){return t},e)}function hM(t){return function(e){return e.lift(new dM(t,e))}}var dM=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new pM(e,this.predicate,this.source))},t}(),pM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ae);function gM(t){return function(e){return e.lift(new vM(t))}}var vM=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new yM(e,this.durationSelector))},t}(),yM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=it(n,new rt(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(nt);function bM(t,e){return e===void 0&&(e=Rt),function(r){return r.lift(new mM(t,e))}}var mM=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new _M(e,this.dueTime,this.scheduler))},t}(),_M=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wM,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(ae);function wM(t){t.debouncedNext()}function ks(t){return t===void 0&&(t=null),function(e){return e.lift(new EM(t))}}var EM=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new SM(e,this.defaultValue))},t}(),SM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ae);function _g(t){return t instanceof Date&&!isNaN(+t)}function xM(t,e){e===void 0&&(e=Rt);var r=_g(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new MM(n,e))}}var MM=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new CM(e,this.delay,this.scheduler))},t}(),CM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new RM(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(mr.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(mr.createComplete()),this.unsubscribe()},e}(ae),RM=function(){function t(e,r){this.time=e,this.notification=r}return t}();function IM(t,e){return e?function(r){return new TM(r,e).lift(new Dh(t))}:function(r){return r.lift(new Dh(t))}}var Dh=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new AM(e,this.delayDurationSelector))},t}(),AM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=wr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(In),TM=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new kM(r,this.source))},e}(ye),kM=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ae);function OM(){return function(e){return e.lift(new NM)}}var NM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new LM(e))},t}(),LM=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(ae);function PM(t,e){return function(r){return r.lift(new $M(t,e))}}var $M=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new DM(e,this.keySelector,this.flushes))},t}(),DM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(it(i,new rt(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(nt);function wg(t,e){return function(r){return r.lift(new BM(t,e))}}var BM=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new FM(e,this.compare,this.keySelector))},t}(),FM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(ae);function jM(t,e){return wg(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function ga(t){return t===void 0&&(t=HM),function(e){return e.lift(new UM(t))}}var UM=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new WM(e,this.errorFactory))},t}(),WM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(ae);function HM(){return new As}function ll(t){return function(e){return t===0?ki():e.lift(new VM(t))}}var VM=function(){function t(e){if(this.total=e,this.total<0)throw new vi}return t.prototype.call=function(e,r){return r.subscribe(new zM(e,this.total))},t}(),zM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(ae);function qM(t,e){if(t<0)throw new vi;var r=arguments.length>=2;return function(n){return n.pipe(Br(function(i,s){return s===t}),ll(1),r?ks(e):ga(function(){return new vi}))}}function GM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ns(r,Xo.apply(void 0,t))}}function JM(t,e){return function(r){return r.lift(new ZM(t,e,r))}}var ZM=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new QM(e,this.predicate,this.thisArg,this.source))},t}(),QM=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ae);function YM(){return function(t){return t.lift(new KM)}}var KM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new XM(e))},t}(),XM=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(it(r,new rt(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(nt);function Eg(t,e){return e?function(r){return r.pipe(Eg(function(n,i){return Sr(t(n,i)).pipe(zt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new eC(t))}}var eC=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new tC(e,this.project))},t}(),tC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new rt(this),i=this.destination;i.add(n);var s=it(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(nt);function rC(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new nC(t,e,r))}}var nC=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new iC(e,this.project,this.concurrent,this.scheduler))},t}(),iC=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(it(r,new rt(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(nt);function sC(t){return function(e){return e.lift(new oC(t))}}var oC=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new aC(e,this.callback))},t}(),aC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new tt(n)),i}return e}(ae);function uC(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Sg(t,r,!1,e))}}var Sg=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new cC(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),cC=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ae);function lC(t,e){return function(r){return r.lift(new Sg(t,r,!0,e))}}function fC(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Br(function(i,s){return t(i,s,n)}):$r,ll(1),r?ks(e):ga(function(){return new As}))}}function hC(){return function(e){return e.lift(new dC)}}var dC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new pC(e))},t}(),pC=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(ae);function gC(){return function(t){return t.lift(new vC)}}var vC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new yC(e))},t}(),yC=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ae);function po(t){return function(r){return t===0?ki():r.lift(new bC(t))}}var bC=function(){function t(e){if(this.total=e,this.total<0)throw new vi}return t.prototype.call=function(e,r){return r.subscribe(new mC(e,this.total))},t}(),mC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(ae);function _C(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Br(function(i,s){return t(i,s,n)}):$r,po(1),r?ks(e):ga(function(){return new As}))}}function wC(t){return function(e){return e.lift(new EC(t))}}var EC=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new SC(e,this.value))},t}(),SC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(ae);function xC(){return function(e){return e.lift(new MC)}}var MC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new CC(e))},t}(),CC=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(mr.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(mr.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(mr.createComplete()),r.complete()},e}(ae);function go(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new RC(t,e,r))}}var RC=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new IC(e,this.accumulator,this.seed,this.hasSeed))},t}(),IC=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(ae);function va(t,e){return arguments.length>=2?function(n){return Wu(go(t,e),po(1),ks(e))(n)}:function(n){return Wu(go(function(i,s,o){return t(i,s,o+1)}),po(1))(n)}}function AC(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return va(e)}function TC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(G0.apply(void 0,[r].concat(t)))}}function kC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?bn(function(){return t},e,r):(typeof e=="number"&&(r=e),bn(function(){return t},r))}function OC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new NC(t,e,r))}}var NC=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new LC(e,this.accumulator,this.seed,this.concurrent))},t}(),LC=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new rt(this),i=this.destination;i.add(n);var s=it(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(nt);function PC(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return va(e)}function mn(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new $C(i,e));var s=Object.create(n,d4);return s.source=n,s.subjectFactory=i,s}}var $C=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function DC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ct(t[0])&&(t=t[0]),function(r){return r.lift(new BC(t))}}var BC=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new FC(e,this.nextSources))},t}(),FC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new rt(this),i=this.destination;i.add(n);var s=it(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(nt);function jC(){return function(t){return t.lift(new UC)}}var UC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new WC(e))},t}(),WC=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(ae);function HC(t,e){return function(r){return[Br(t,e)(r),Br(Z0(t,e))(r)]}}function VC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return zt(zC(t,r))(n)}}function zC(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function qC(t){return t?mn(function(){return new gt},t):mn(new gt)}function GC(t){return function(e){return mn(new I0(t))(e)}}function JC(){return function(t){return mn(new Oi)(t)}}function ZC(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Jc(t,e,n);return function(o){return mn(function(){return s},i)(o)}}function QC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ct(t[0])&&(t=t[0]),n.lift.call(Q0.apply(void 0,[n].concat(t)))}}function YC(t){return t===void 0&&(t=-1),function(e){return t===0?ki():t<0?e.lift(new Bh(-1,e)):e.lift(new Bh(t-1,e))}}var Bh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new KC(e,this.count,this.source))},t}(),KC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ae);function XC(t){return function(e){return e.lift(new e6(t))}}var e6=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new t6(e,this.notifier,r))},t}(),t6=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new gt;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=it(r,new rt(this))},e}(nt);function r6(t){return t===void 0&&(t=-1),function(e){return e.lift(new n6(t,e))}}var n6=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new i6(e,this.count,this.source))},t}(),i6=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ae);function s6(t){return function(e){return e.lift(new o6(t,e))}}var o6=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new a6(e,this.notifier,this.source))},t}(),a6=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new gt;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=it(i,new rt(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(nt);function u6(t){return function(e){return e.lift(new c6(t))}}var c6=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new l6(e),i=r.subscribe(n);return i.add(it(this.notifier,new rt(n))),i},t}(),l6=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(nt);function f6(t,e){return e===void 0&&(e=Rt),function(r){return r.lift(new h6(t,e))}}var h6=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new d6(e,this.period,this.scheduler))},t}(),d6=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(p6,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ae);function p6(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function g6(t,e){return function(r){return r.lift(new v6(t,e))}}var v6=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new y6(e,this.compareTo,this.comparator))},t}(),y6=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new b6(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),u=!1;try{u=s?s(o,a):o===a}catch(l){this.destination.error(l)}u||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ae),b6=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ae);function m6(){return new gt}function _6(){return function(t){return zc()(mn(m6)(t))}}function w6(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(E6(n))}}function E6(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,u=0,l,d=!1,p=!1;return function(M){u++;var A;!a||d?(d=!1,a=new Jc(r,i,o),A=a.subscribe(this),l=M.subscribe({next:function($){a.next($)},error:function($){d=!0,a.error($)},complete:function(){p=!0,l=void 0,a.complete()}}),p&&(l=void 0)):A=a.subscribe(this),this.add(function(){u--,A.unsubscribe(),A=void 0,l&&!p&&s&&u===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function S6(t){return function(e){return e.lift(new x6(t,e))}}var x6=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new M6(e,this.predicate,this.source))},t}(),M6=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new As)},e}(ae);function C6(t){return function(e){return e.lift(new R6(t))}}var R6=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new I6(e,this.total))},t}(),I6=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(ae);function A6(t){return function(e){return e.lift(new T6(t))}}var T6=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new vi}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new ae(e)):r.subscribe(new k6(e,this._skipCount))},t}(),k6=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(ae);function O6(t){return function(e){return e.lift(new N6(t))}}var N6=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new L6(e,this.notifier))},t}(),L6=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new rt(i);i.add(s),i.innerSubscription=s;var o=it(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(nt);function P6(t){return function(e){return e.lift(new $6(t))}}var $6=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new D6(e,this.predicate))},t}(),D6=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(ae);function B6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Nt(r)?(t.pop(),function(n){return ns(t,n,r)}):function(n){return ns(t,n)}}var F6=function(t){G(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Qs);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!yi(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Qs),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Qs),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ye);function j6(t,e){return e===void 0&&(e=0),function(n){return n.lift(new U6(t,e))}}var U6=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new F6(r,this.delay,this.scheduler).subscribe(e)},t}();function is(t,e){return typeof e=="function"?function(r){return r.pipe(is(function(n,i){return Sr(t(n,i)).pipe(zt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new W6(t))}}var W6=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new H6(e,this.project))},t}(),H6=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new rt(this),s=this.destination;s.add(i),this.innerSubscription=it(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(nt);function V6(){return is($r)}function z6(t,e){return e?is(function(){return t},e):is(function(){return t})}function q6(t){return function(e){return e.lift(new G6(t))}}var G6=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new J6(e),i=it(this.notifier,new rt(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),J6=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(nt);function Z6(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Q6(t,e))}}var Q6=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Y6(e,this.predicate,this.inclusive))},t}(),Y6=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(ae);function K6(t,e,r){return function(i){return i.lift(new X6(t,e,r))}}var X6=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new eR(e,this.nextOrObserver,this.error,this.complete))},t}(),eR=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=or,o._tapError=or,o._tapComplete=or,o._tapError=i||or,o._tapComplete=s||or,pi(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||or,o._tapError=n.error||or,o._tapComplete=n.complete||or),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(ae),xg={leading:!0,trailing:!1};function tR(t,e){return e===void 0&&(e=xg),function(r){return r.lift(new rR(t,!!e.leading,!!e.trailing))}}var rR=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new nR(e,this.durationSelector,this.leading,this.trailing))},t}(),nR=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=it(n,new rt(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(nt);function iR(t,e,r){return e===void 0&&(e=Rt),r===void 0&&(r=xg),function(n){return n.lift(new sR(t,e,r.leading,r.trailing))}}var sR=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new oR(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),oR=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(aR,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(ae);function aR(t){var e=t.subscriber;e.clearThrottle()}function uR(t){return t===void 0&&(t=Rt),function(e){return Yc(function(){return e.pipe(go(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),zt(function(r){var n=r.current,i=r.last,s=r.value;return new cR(s,n-i)}))})}}var cR=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Mg(t,e,r){return r===void 0&&(r=Rt),function(n){var i=_g(t),s=i?+t-r.now():Math.abs(t);return n.lift(new lR(s,i,e,r))}}var lR=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new fR(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),fR=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(it(n,new rt(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(nt);function hR(t,e){return e===void 0&&(e=Rt),Mg(t,Gc(new D0),e)}function dR(t){return t===void 0&&(t=Rt),zt(function(e){return new pR(e,t.now())})}var pR=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function gR(t,e,r){return r===0?[e]:(t.push(e),t)}function vR(){return va(gR,[])}function yR(t){return function(r){return r.lift(new bR(t))}}var bR=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new mR(e),i=r.subscribe(n);return i.closed||n.add(it(this.windowBoundaries,new rt(n))),i},t}(),mR=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new gt,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new gt;n.next(i)},e}(nt);function _R(t,e){return e===void 0&&(e=0),function(n){return n.lift(new wR(t,e))}}var wR=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new ER(e,this.windowSize,this.startWindowEvery))},t}(),ER=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new gt],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,u=0;u<a&&!this.closed;u++)o[u].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var d=new gt;o.push(d),i.next(d)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ae);function SR(t){var e=Rt,r=null,n=Number.POSITIVE_INFINITY;return Nt(arguments[3])&&(e=arguments[3]),Nt(arguments[2])?e=arguments[2]:yi(arguments[2])&&(n=Number(arguments[2])),Nt(arguments[1])?e=arguments[1]:yi(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new xR(t,r,n,e))}}var xR=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new CR(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),MR=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(gt),CR=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:u,context:null},d={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Cg,n,l)),a.add(o.schedule(IR,i,d))}else{var p={subscriber:a,window:u,windowTimeSpan:n};a.add(o.schedule(RR,n,p))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new MR;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(ae);function RR(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function IR(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},u={subscriber:r,window:s,context:a};a.subscription=n.schedule(Cg,e,u),o.add(a.subscription),o.schedule(t,i)}function Cg(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function AR(t,e){return function(r){return r.lift(new TR(t,e))}}var TR=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new kR(e,this.openings,this.closingSelector))},t}(),kR=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=wr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(n)}catch(M){return this.error(M)}var l=new gt,d=new tt,p={window:l,subscription:d};this.contexts.push(p);var y=wr(this,a,p);y.closed?this.closeWindow(this.contexts.length-1):(y.context=p,d.add(y)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(In);function OR(t){return function(r){return r.lift(new NR(t))}}var NR=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new LR(e,this.closingSelector))},t}(),LR=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new gt;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=wr(this,s))},e}(In);function PR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new $R(i,n))}}var $R=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new DR(e,this.observables,this.project))},t}(),DR=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var u=n[a];s.add(wr(s,u,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(In);function BR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(K0.apply(void 0,[n].concat(t)))}}function FR(t){return function(e){return e.lift(new X0(t))}}const jR=Object.freeze(Object.defineProperty({__proto__:null,audit:yg,auditTime:j5,buffer:U5,bufferCount:V5,bufferTime:J5,bufferToggle:X5,bufferWhen:rM,catchError:sM,combineAll:uM,combineLatest:cM,concat:lM,concatAll:H0,concatMap:mg,concatMapTo:fM,count:hM,debounce:gM,debounceTime:bM,defaultIfEmpty:ks,delay:xM,delayWhen:IM,dematerialize:OM,distinct:PM,distinctUntilChanged:wg,distinctUntilKeyChanged:jM,elementAt:qM,endWith:GM,every:JM,exhaust:YM,exhaustMap:Eg,expand:rC,filter:Br,finalize:sC,find:uC,findIndex:lC,first:fC,flatMap:ax,groupBy:g4,ignoreElements:hC,isEmpty:gC,last:_C,map:zt,mapTo:wC,materialize:xC,max:AC,merge:TC,mergeAll:Qc,mergeMap:bn,mergeMapTo:kC,mergeScan:OC,min:PC,multicast:mn,observeOn:M4,onErrorResumeNext:DC,pairwise:jC,partition:HC,pluck:VC,publish:qC,publishBehavior:GC,publishLast:JC,publishReplay:ZC,race:QC,reduce:va,refCount:zc,repeat:YC,repeatWhen:XC,retry:r6,retryWhen:s6,sample:u6,sampleTime:f6,scan:go,sequenceEqual:g6,share:_6,shareReplay:w6,single:S6,skip:C6,skipLast:A6,skipUntil:O6,skipWhile:P6,startWith:B6,subscribeOn:j6,switchAll:V6,switchMap:is,switchMapTo:z6,take:ll,takeLast:po,takeUntil:q6,takeWhile:Z6,tap:K6,throttle:tR,throttleTime:iR,throwIfEmpty:ga,timeInterval:uR,timeout:hR,timeoutWith:Mg,timestamp:dR,toArray:vR,window:yR,windowCount:_R,windowTime:SR,windowToggle:AR,windowWhen:OR,withLatestFrom:PR,zip:BR,zipAll:FR},Symbol.toStringTag,{value:"Module"})),fl=_n(jR);var ya={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.ClientMessagePublishEvent=jt.ClientMessageSetSessionConfig=jt.ClientMessageGetSessionConfig=jt.ClientMessageIsLinked=jt.ClientMessageHostSession=void 0;function UR(t){return Object.assign({type:"HostSession"},t)}jt.ClientMessageHostSession=UR;function WR(t){return Object.assign({type:"IsLinked"},t)}jt.ClientMessageIsLinked=WR;function HR(t){return Object.assign({type:"GetSessionConfig"},t)}jt.ClientMessageGetSessionConfig=HR;function VR(t){return Object.assign({type:"SetSessionConfig"},t)}jt.ClientMessageSetSessionConfig=VR;function zR(t){return Object.assign({type:"PublishEvent"},t)}jt.ClientMessagePublishEvent=zR;var Rg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=ea,r=fl;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(u){o.error(u);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=u=>{this.clearWebSocket(),o.error(new Error(`websocket error ${u.code}: ${u.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=u=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=u=>{this.incomingDataSubject.next(u.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Rg);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.isServerMessageFail=void 0;function qR(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ba.isServerMessageFail=qR;Object.defineProperty(ya,"__esModule",{value:!0});ya.WalletSDKConnection=void 0;const Gt=ea,_e=fl,Fi=Si,qn=hs,ji=jt,Ui=wi,zs=Rg,yu=ba,Fh=1e4,GR=6e4;class JR{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Gt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,qn.IntNumber)(1),this.connectedSubject=new Gt.BehaviorSubject(!1),this.linkedSubject=new Gt.BehaviorSubject(!1),this.sessionConfigSubject=new Gt.ReplaySubject(1);const o=new zs.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,_e.tap)(a=>{var u;return(u=this.diagnostic)===null||u===void 0?void 0:u.log(Ui.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Fi.Session.hash(e)})}),(0,_e.skip)(1),(0,_e.filter)(a=>a===zs.ConnectionState.DISCONNECTED&&!this.destroyed),(0,_e.delay)(5e3),(0,_e.filter)(a=>!this.destroyed),(0,_e.flatMap)(a=>o.connect()),(0,_e.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,_e.skip)(2),(0,_e.switchMap)(a=>(0,Gt.iif)(()=>a===zs.ConnectionState.CONNECTED,this.authenticate().pipe((0,_e.tap)(u=>this.sendIsLinked()),(0,_e.tap)(u=>this.sendGetSessionConfig()),(0,_e.map)(u=>!0)),(0,Gt.of)(!1))),(0,_e.distinctUntilChanged)(),(0,_e.catchError)(a=>(0,Gt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,_e.skip)(1),(0,_e.switchMap)(a=>(0,Gt.iif)(()=>a===zs.ConnectionState.CONNECTED,(0,Gt.timer)(0,Fh)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,_e.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,_e.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var u;const l=a;(u=this.diagnostic)===null||u===void 0||u.log(Ui.EVENTS.LINKED,{sessionIdHash:Fi.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,_e.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var u;const l=a;(u=this.diagnostic)===null||u===void 0||u.log(Ui.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Fi.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Ui.EVENTS.STARTED_CONNECTING,{sessionIdHash:Fi.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Ui.EVENTS.DISCONNECTED,{sessionIdHash:Fi.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,_e.filter)(e=>e),(0,_e.take)(1),(0,_e.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,_e.filter)(e=>e),(0,_e.take)(1),(0,_e.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,_e.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,_e.map)(e=>e))}setSessionMetadata(e,r){const n=(0,ji.ClientMessageSetSessionConfig)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,_e.flatMap)(i=>this.makeRequest(n)),(0,_e.map)(i=>{if((0,yu.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,ji.ClientMessagePublishEvent)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,_e.flatMap)(s=>this.makeRequest(i)),(0,_e.map)(s=>{if((0,yu.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Fh*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=GR){const n=e.id;try{this.sendData(e)}catch(i){return(0,Gt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,_e.timeoutWith)(r,(0,Gt.throwError)(new Error(`request ${n} timed out`))),(0,_e.filter)(i=>i.id===n),(0,_e.take)(1))}authenticate(){const e=(0,ji.ClientMessageHostSession)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,_e.map)(r=>{if((0,yu.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,ji.ClientMessageIsLinked)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,ji.ClientMessageGetSessionConfig)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ya.WalletSDKConnection=JR;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.decrypt=mi.encrypt=void 0;const vo=se;async function ZR(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,vo.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),u=s.slice(0,s.byteLength-o),l=new Uint8Array(a),d=new Uint8Array(u),p=new Uint8Array([...r,...l,...d]);return(0,vo.uint8ArrayToHex)(p)}mi.encrypt=ZR;function QR(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,vo.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,vo.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),u=s.slice(28),l=new Uint8Array([...u,...a]),d={name:"AES-GCM",iv:new Uint8Array(o)};try{const p=await window.crypto.subtle.decrypt(d,i,l),y=new TextDecoder;r(y.decode(p))}catch(p){n(p)}})()})}mi.decrypt=QR;var ma={},_a={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(_a);Object.defineProperty(ma,"__esModule",{value:!0});ma.Web3RequestCanceledMessage=void 0;const YR=_a;function KR(t){return{type:YR.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ma.Web3RequestCanceledMessage=KR;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.Web3RequestMessage=void 0;const XR=_a;function eI(t){return Object.assign({type:XR.RelayMessageType.WEB3_REQUEST},t)}wa.Web3RequestMessage=eI;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.isWeb3ResponseMessage=_i.Web3ResponseMessage=void 0;const Ig=_a;function tI(t){return Object.assign({type:Ig.RelayMessageType.WEB3_RESPONSE},t)}_i.Web3ResponseMessage=tI;function rI(t){return t&&t.type===Ig.RelayMessageType.WEB3_RESPONSE}_i.isWeb3ResponseMessage=rI;var nI=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iI=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ag=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},sI=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nI(e,t,r);return iI(e,t),e},oI=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});da.WalletSDKRelay=void 0;const Tg=oI(pa),nn=ea,at=fl,Et=wi,aI=ya,Gn=ss,uI=hs,Ke=se,Mr=sI(mi),Cr=Si,qs=Yt,vt=So,cI=ma,lI=wa,Bt=Ae,At=_i;class Qt extends qs.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new nn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new nn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Cr.Session.load(this.storage)||new Cr.Session(this.storage).save(),r=new aI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,at.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,at.skip)(1),(0,at.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(qs.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Et.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,at.mergeMap)(i=>Mr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(qs.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,at.mergeMap)(i=>Mr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(qs.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,at.mergeMap)(i=>(0,nn.zip)(Mr.decrypt(i.metadata.ChainId,e.secret),Mr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,at.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,at.mergeMap)(i=>Mr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Qt.accountRequestCallbackIds.size>0&&(Array.from(Qt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,At.Web3ResponseMessage)({id:s,response:(0,Bt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Qt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,at.mergeMap)(i=>Mr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,at.timeout)(1e3),(0,at.catchError)(e=>(0,nn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Et.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Et.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Cr.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Et.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Cr.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new nn.Subscription;const{session:a,ui:u,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=u,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Et.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:vt.Web3Method.signEthereumMessage,params:{message:(0,Ke.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:vt.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Ke.hexStringFromBuffer)(e,!0),signature:(0,Ke.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:vt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ke.bigIntStringFromBN)(e.weiValue),data:(0,Ke.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ke.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Ke.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Ke.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Ke.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:vt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ke.bigIntStringFromBN)(e.weiValue),data:(0,Ke.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ke.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Ke.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Ke.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Ke.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:vt.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Ke.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:vt.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Ke.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:vt.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Ke.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,u=>{if(r==null||r(),u.errorMessage)return a(new Error(u.errorMessage));o(u)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,lI.Web3RequestMessage)({id:e,request:r}),s=Cr.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Et.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Cr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Et.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Cr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,cI.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new nn.Observable(s=>{Mr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,at.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,nn.from)(Mr.decrypt(e.data,this.session.secret)).pipe((0,at.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,At.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Et.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Et.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Bt.isRequestEthereumAccountsResponse)(n)){Qt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Qt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,Gn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:vt.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Ke.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const u=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(u&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)){let l;try{(0,Ke.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=d=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:r,response:(0,Bt.RequestEthereumAccountsResponse)(d)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=Gn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Qt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:vt.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Ke.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,d=>{if(d.errorMessage)return a(new Error(d.errorMessage));o(d)});const u=d=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Bt.SelectProviderResponse)(uI.ProviderType.Unselected)}))},l=d=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Bt.SelectProviderResponse)(d)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:u,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:vt.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let u=null;const l=(0,Ke.randomBytesHex)(8),d=y=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,y),u==null||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}));const p=new Promise((y,M)=>{this.relayEventManager.callbacks.set(l,F=>{if(u==null||u(),F.errorMessage)return M(new Error(F.errorMessage));y(F)});const A=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Bt.WatchAssetReponse)(!1)}))},$=()=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Bt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:$,onCancel:A,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:d,promise:p}}addEthereumChain(e,r,n,i,s,o){const a={method:vt.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let u=null;const l=(0,Ke.randomBytesHex)(8),d=y=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,y),u==null||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise((y,M)=>{this.relayEventManager.callbacks.set(l,F=>{if(u==null||u(),F.errorMessage)return M(new Error(F.errorMessage));y(F)});const A=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Bt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},$=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Bt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:F})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:A,onApprove:$,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:d}}switchEthereumChain(e,r){const n={method:vt.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Ke.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,p=>{if((0,Bt.isErrorResponse)(p)&&p.errorCode)return u(Gn.standardErrors.provider.custom({code:p.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(p.errorMessage)return u(new Error(p.errorMessage));a(p)});const l=p=>{var y;if(p){const M=(y=(0,Gn.getErrorCode)(p))!==null&&y!==void 0?y:Gn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,vt.Web3Method.switchEthereumChain,p instanceof Error?p:Gn.standardErrors.provider.unsupportedChain(e),M)}else this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Bt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},d=p=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Bt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:p})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:d,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Cr.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case vt.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case vt.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case vt.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case vt.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Qt.accountRequestCallbackIds=new Set;Ag([Tg.default],Qt.prototype,"resetAndReload",null);Ag([Tg.default],Qt.prototype,"handleIncomingEvent",null);da.WalletSDKRelay=Qt;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.WalletSDKRelayEventManager=void 0;const fI=se;class hI{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,fI.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Ea.WalletSDKRelayEventManager=hI;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.CoinbaseWalletSDK=void 0;const dI=bo,pI=mo,gI=_o,vI=si,yI=Qo,bI=da,mI=Ea,_I=se,kg=Ei;class Sa{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||pI.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new yI.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),u=`${a.protocol}//${a.host}`;this._storage=new gI.ScopedLocalStorage(`-walletlink:${u}`),this._storage.setItem("version",Sa.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new mI.WalletSDKRelayEventManager,this._relay=new bI.WalletSDKRelay({linkAPIUrl:s,version:kg.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new vI.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,_I.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,dI.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Yi.CoinbaseWalletSDK=Sa;Sa.VERSION=kg.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Yi,r=si;var n=Yi;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=si;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Yu);const wI=Og(Yu),LI=Pg({__proto__:null,default:wI},[Yu]);export{LI as i};
